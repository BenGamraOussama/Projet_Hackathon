(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const m of d)if(m.type==="childList")for(const f of m.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&c(f)}).observe(document,{childList:!0,subtree:!0});function r(d){const m={};return d.integrity&&(m.integrity=d.integrity),d.referrerPolicy&&(m.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?m.credentials="include":d.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function c(d){if(d.ep)return;d.ep=!0;const m=r(d);fetch(d.href,m)}})();var cd={exports:{}},Il={};var Ux;function $p(){if(Ux)return Il;Ux=1;var l=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(c,d,m){var f=null;if(m!==void 0&&(f=""+m),d.key!==void 0&&(f=""+d.key),"key"in d){m={};for(var h in d)h!=="key"&&(m[h]=d[h])}else m=d;return d=m.ref,{$$typeof:l,type:c,key:f,ref:d!==void 0?d:null,props:m}}return Il.Fragment=i,Il.jsx=r,Il.jsxs=r,Il}var _x;function Fp(){return _x||(_x=1,cd.exports=$p()),cd.exports}var t=Fp(),od={exports:{}},Me={};var Bx;function Vp(){if(Bx)return Me;Bx=1;var l=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),T=Symbol.iterator;function L(N){return N===null||typeof N!="object"?null:(N=T&&N[T]||N["@@iterator"],typeof N=="function"?N:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,D={};function X(N,U,ne){this.props=N,this.context=U,this.refs=D,this.updater=ne||E}X.prototype.isReactComponent={},X.prototype.setState=function(N,U){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,U,"setState")},X.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Q(){}Q.prototype=X.prototype;function P(N,U,ne){this.props=N,this.context=U,this.refs=D,this.updater=ne||E}var le=P.prototype=new Q;le.constructor=P,R(le,X.prototype),le.isPureReactComponent=!0;var oe=Array.isArray;function ae(){}var Y={H:null,A:null,T:null,S:null},ie=Object.prototype.hasOwnProperty;function de(N,U,ne){var se=ne.ref;return{$$typeof:l,type:N,key:U,ref:se!==void 0?se:null,props:ne}}function ue(N,U){return de(N.type,U,N.props)}function A(N){return typeof N=="object"&&N!==null&&N.$$typeof===l}function k(N){var U={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ne){return U[ne]})}var ee=/\/+/g;function ce(N,U){return typeof N=="object"&&N!==null&&N.key!=null?k(""+N.key):U.toString(36)}function V(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(ae,ae):(N.status="pending",N.then(function(U){N.status==="pending"&&(N.status="fulfilled",N.value=U)},function(U){N.status==="pending"&&(N.status="rejected",N.reason=U)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function S(N,U,ne,se,be){var Ne=typeof N;(Ne==="undefined"||Ne==="boolean")&&(N=null);var Se=!1;if(N===null)Se=!0;else switch(Ne){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(N.$$typeof){case l:case i:Se=!0;break;case b:return Se=N._init,S(Se(N._payload),U,ne,se,be)}}if(Se)return be=be(N),Se=se===""?"."+ce(N,0):se,oe(be)?(ne="",Se!=null&&(ne=Se.replace(ee,"$&/")+"/"),S(be,U,ne,"",function(fe){return fe})):be!=null&&(A(be)&&(be=ue(be,ne+(be.key==null||N&&N.key===be.key?"":(""+be.key).replace(ee,"$&/")+"/")+Se)),U.push(be)),1;Se=0;var Je=se===""?".":se+":";if(oe(N))for(var _=0;_<N.length;_++)se=N[_],Ne=Je+ce(se,_),Se+=S(se,U,ne,Ne,be);else if(_=L(N),typeof _=="function")for(N=_.call(N),_=0;!(se=N.next()).done;)se=se.value,Ne=Je+ce(se,_++),Se+=S(se,U,ne,Ne,be);else if(Ne==="object"){if(typeof N.then=="function")return S(V(N),U,ne,se,be);throw U=String(N),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return Se}function w(N,U,ne){if(N==null)return N;var se=[],be=0;return S(N,se,"","",function(Ne){return U.call(ne,Ne,be++)}),se}function O(N){if(N._status===-1){var U=N._result;U=U(),U.then(function(ne){(N._status===0||N._status===-1)&&(N._status=1,N._result=ne)},function(ne){(N._status===0||N._status===-1)&&(N._status=2,N._result=ne)}),N._status===-1&&(N._status=0,N._result=U)}if(N._status===1)return N._result.default;throw N._result}var re=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},B={map:w,forEach:function(N,U,ne){w(N,function(){U.apply(this,arguments)},ne)},count:function(N){var U=0;return w(N,function(){U++}),U},toArray:function(N){return w(N,function(U){return U})||[]},only:function(N){if(!A(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Me.Activity=v,Me.Children=B,Me.Component=X,Me.Fragment=r,Me.Profiler=d,Me.PureComponent=P,Me.StrictMode=c,Me.Suspense=p,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Me.__COMPILER_RUNTIME={__proto__:null,c:function(N){return Y.H.useMemoCache(N)}},Me.cache=function(N){return function(){return N.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(N,U,ne){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var se=R({},N.props),be=N.key;if(U!=null)for(Ne in U.key!==void 0&&(be=""+U.key),U)!ie.call(U,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&U.ref===void 0||(se[Ne]=U[Ne]);var Ne=arguments.length-2;if(Ne===1)se.children=ne;else if(1<Ne){for(var Se=Array(Ne),Je=0;Je<Ne;Je++)Se[Je]=arguments[Je+2];se.children=Se}return de(N.type,be,se)},Me.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:m,_context:N},N},Me.createElement=function(N,U,ne){var se,be={},Ne=null;if(U!=null)for(se in U.key!==void 0&&(Ne=""+U.key),U)ie.call(U,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(be[se]=U[se]);var Se=arguments.length-2;if(Se===1)be.children=ne;else if(1<Se){for(var Je=Array(Se),_=0;_<Se;_++)Je[_]=arguments[_+2];be.children=Je}if(N&&N.defaultProps)for(se in Se=N.defaultProps,Se)be[se]===void 0&&(be[se]=Se[se]);return de(N,Ne,be)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(N){return{$$typeof:h,render:N}},Me.isValidElement=A,Me.lazy=function(N){return{$$typeof:b,_payload:{_status:-1,_result:N},_init:O}},Me.memo=function(N,U){return{$$typeof:g,type:N,compare:U===void 0?null:U}},Me.startTransition=function(N){var U=Y.T,ne={};Y.T=ne;try{var se=N(),be=Y.S;be!==null&&be(ne,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(ae,re)}catch(Ne){re(Ne)}finally{U!==null&&ne.types!==null&&(U.types=ne.types),Y.T=U}},Me.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Me.use=function(N){return Y.H.use(N)},Me.useActionState=function(N,U,ne){return Y.H.useActionState(N,U,ne)},Me.useCallback=function(N,U){return Y.H.useCallback(N,U)},Me.useContext=function(N){return Y.H.useContext(N)},Me.useDebugValue=function(){},Me.useDeferredValue=function(N,U){return Y.H.useDeferredValue(N,U)},Me.useEffect=function(N,U){return Y.H.useEffect(N,U)},Me.useEffectEvent=function(N){return Y.H.useEffectEvent(N)},Me.useId=function(){return Y.H.useId()},Me.useImperativeHandle=function(N,U,ne){return Y.H.useImperativeHandle(N,U,ne)},Me.useInsertionEffect=function(N,U){return Y.H.useInsertionEffect(N,U)},Me.useLayoutEffect=function(N,U){return Y.H.useLayoutEffect(N,U)},Me.useMemo=function(N,U){return Y.H.useMemo(N,U)},Me.useOptimistic=function(N,U){return Y.H.useOptimistic(N,U)},Me.useReducer=function(N,U,ne){return Y.H.useReducer(N,U,ne)},Me.useRef=function(N){return Y.H.useRef(N)},Me.useState=function(N){return Y.H.useState(N)},Me.useSyncExternalStore=function(N,U,ne){return Y.H.useSyncExternalStore(N,U,ne)},Me.useTransition=function(){return Y.H.useTransition()},Me.version="19.2.4",Me}var qx;function Md(){return qx||(qx=1,od.exports=Vp()),od.exports}var y=Md();const Te=l=>typeof l=="string",Jl=()=>{let l,i;const r=new Promise((c,d)=>{l=c,i=d});return r.resolve=l,r.reject=i,r},Hx=l=>l==null?"":""+l,Gp=(l,i,r)=>{l.forEach(c=>{i[c]&&(r[c]=i[c])})},Yp=/###/g,$x=l=>l&&l.indexOf("###")>-1?l.replace(Yp,"."):l,Fx=l=>!l||Te(l),ni=(l,i,r)=>{const c=Te(i)?i.split("."):i;let d=0;for(;d<c.length-1;){if(Fx(l))return{};const m=$x(c[d]);!l[m]&&r&&(l[m]=new r),Object.prototype.hasOwnProperty.call(l,m)?l=l[m]:l={},++d}return Fx(l)?{}:{obj:l,k:$x(c[d])}},Vx=(l,i,r)=>{const{obj:c,k:d}=ni(l,i,Object);if(c!==void 0||i.length===1){c[d]=r;return}let m=i[i.length-1],f=i.slice(0,i.length-1),h=ni(l,f,Object);for(;h.obj===void 0&&f.length;)m=`${f[f.length-1]}.${m}`,f=f.slice(0,f.length-1),h=ni(l,f,Object),h?.obj&&typeof h.obj[`${h.k}.${m}`]<"u"&&(h.obj=void 0);h.obj[`${h.k}.${m}`]=r},Xp=(l,i,r,c)=>{const{obj:d,k:m}=ni(l,i,Object);d[m]=d[m]||[],d[m].push(r)},_r=(l,i)=>{const{obj:r,k:c}=ni(l,i);if(r&&Object.prototype.hasOwnProperty.call(r,c))return r[c]},Qp=(l,i,r)=>{const c=_r(l,r);return c!==void 0?c:_r(i,r)},Bh=(l,i,r)=>{for(const c in i)c!=="__proto__"&&c!=="constructor"&&(c in l?Te(l[c])||l[c]instanceof String||Te(i[c])||i[c]instanceof String?r&&(l[c]=i[c]):Bh(l[c],i[c],r):l[c]=i[c]);return l},Jn=l=>l.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Kp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Zp=l=>Te(l)?l.replace(/[&<>"'\/]/g,i=>Kp[i]):l;class Ip{constructor(i){this.capacity=i,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(i){const r=this.regExpMap.get(i);if(r!==void 0)return r;const c=new RegExp(i);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(i,c),this.regExpQueue.push(i),c}}const Jp=[" ",",","?","!",";"],Pp=new Ip(20),Wp=(l,i,r)=>{i=i||"",r=r||"";const c=Jp.filter(f=>i.indexOf(f)<0&&r.indexOf(f)<0);if(c.length===0)return!0;const d=Pp.getRegExp(`(${c.map(f=>f==="?"?"\\?":f).join("|")})`);let m=!d.test(l);if(!m){const f=l.indexOf(r);f>0&&!d.test(l.substring(0,f))&&(m=!0)}return m},wd=(l,i,r=".")=>{if(!l)return;if(l[i])return Object.prototype.hasOwnProperty.call(l,i)?l[i]:void 0;const c=i.split(r);let d=l;for(let m=0;m<c.length;){if(!d||typeof d!="object")return;let f,h="";for(let p=m;p<c.length;++p)if(p!==m&&(h+=r),h+=c[p],f=d[h],f!==void 0){if(["string","number","boolean"].indexOf(typeof f)>-1&&p<c.length-1)continue;m+=p-m+1;break}d=f}return d},ri=l=>l?.replace("_","-"),eb={type:"logger",log(l){this.output("log",l)},warn(l){this.output("warn",l)},error(l){this.output("error",l)},output(l,i){console?.[l]?.apply?.(console,i)}};class Br{constructor(i,r={}){this.init(i,r)}init(i,r={}){this.prefix=r.prefix||"i18next:",this.logger=i||eb,this.options=r,this.debug=r.debug}log(...i){return this.forward(i,"log","",!0)}warn(...i){return this.forward(i,"warn","",!0)}error(...i){return this.forward(i,"error","")}deprecate(...i){return this.forward(i,"warn","WARNING DEPRECATED: ",!0)}forward(i,r,c,d){return d&&!this.debug?null:(Te(i[0])&&(i[0]=`${c}${this.prefix} ${i[0]}`),this.logger[r](i))}create(i){return new Br(this.logger,{prefix:`${this.prefix}:${i}:`,...this.options})}clone(i){return i=i||this.options,i.prefix=i.prefix||this.prefix,new Br(this.logger,i)}}var _a=new Br;class Vr{constructor(){this.observers={}}on(i,r){return i.split(" ").forEach(c=>{this.observers[c]||(this.observers[c]=new Map);const d=this.observers[c].get(r)||0;this.observers[c].set(r,d+1)}),this}off(i,r){if(this.observers[i]){if(!r){delete this.observers[i];return}this.observers[i].delete(r)}}emit(i,...r){this.observers[i]&&Array.from(this.observers[i].entries()).forEach(([d,m])=>{for(let f=0;f<m;f++)d(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([d,m])=>{for(let f=0;f<m;f++)d.apply(d,[i,...r])})}}class Gx extends Vr{constructor(i,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=i||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}removeNamespaces(i){const r=this.options.ns.indexOf(i);r>-1&&this.options.ns.splice(r,1)}getResource(i,r,c,d={}){const m=d.keySeparator!==void 0?d.keySeparator:this.options.keySeparator,f=d.ignoreJSONStructure!==void 0?d.ignoreJSONStructure:this.options.ignoreJSONStructure;let h;i.indexOf(".")>-1?h=i.split("."):(h=[i,r],c&&(Array.isArray(c)?h.push(...c):Te(c)&&m?h.push(...c.split(m)):h.push(c)));const p=_r(this.data,h);return!p&&!r&&!c&&i.indexOf(".")>-1&&(i=h[0],r=h[1],c=h.slice(2).join(".")),p||!f||!Te(c)?p:wd(this.data?.[i]?.[r],c,m)}addResource(i,r,c,d,m={silent:!1}){const f=m.keySeparator!==void 0?m.keySeparator:this.options.keySeparator;let h=[i,r];c&&(h=h.concat(f?c.split(f):c)),i.indexOf(".")>-1&&(h=i.split("."),d=r,r=h[1]),this.addNamespaces(r),Vx(this.data,h,d),m.silent||this.emit("added",i,r,c,d)}addResources(i,r,c,d={silent:!1}){for(const m in c)(Te(c[m])||Array.isArray(c[m]))&&this.addResource(i,r,m,c[m],{silent:!0});d.silent||this.emit("added",i,r,c)}addResourceBundle(i,r,c,d,m,f={silent:!1,skipCopy:!1}){let h=[i,r];i.indexOf(".")>-1&&(h=i.split("."),d=c,c=r,r=h[1]),this.addNamespaces(r);let p=_r(this.data,h)||{};f.skipCopy||(c=JSON.parse(JSON.stringify(c))),d?Bh(p,c,m):p={...p,...c},Vx(this.data,h,p),f.silent||this.emit("added",i,r,c)}removeResourceBundle(i,r){this.hasResourceBundle(i,r)&&delete this.data[i][r],this.removeNamespaces(r),this.emit("removed",i,r)}hasResourceBundle(i,r){return this.getResource(i,r)!==void 0}getResourceBundle(i,r){return r||(r=this.options.defaultNS),this.getResource(i,r)}getDataByLanguage(i){return this.data[i]}hasLanguageSomeTranslations(i){const r=this.getDataByLanguage(i);return!!(r&&Object.keys(r)||[]).find(d=>r[d]&&Object.keys(r[d]).length>0)}toJSON(){return this.data}}var qh={processors:{},addPostProcessor(l){this.processors[l.name]=l},handle(l,i,r,c,d){return l.forEach(m=>{i=this.processors[m]?.process(i,r,c,d)??i}),i}};const Hh=Symbol("i18next/PATH_KEY");function tb(){const l=[],i=Object.create(null);let r;return i.get=(c,d)=>(r?.revoke?.(),d===Hh?l:(l.push(d),r=Proxy.revocable(c,i),r.proxy)),Proxy.revocable(Object.create(null),i).proxy}function Ed(l,i){const{[Hh]:r}=l(tb());return r.join(i?.keySeparator??".")}const Yx={},dd=l=>!Te(l)&&typeof l!="boolean"&&typeof l!="number";class qr extends Vr{constructor(i,r={}){super(),Gp(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],i,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=_a.create("translator")}changeLanguage(i){i&&(this.language=i)}exists(i,r={interpolation:{}}){const c={...r};if(i==null)return!1;const d=this.resolve(i,c);if(d?.res===void 0)return!1;const m=dd(d.res);return!(c.returnObjects===!1&&m)}extractFromKey(i,r){let c=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;c===void 0&&(c=":");const d=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let m=r.ns||this.options.defaultNS||[];const f=c&&i.indexOf(c)>-1,h=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!Wp(i,c,d);if(f&&!h){const p=i.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:i,namespaces:Te(m)?[m]:m};const g=i.split(c);(c!==d||c===d&&this.options.ns.indexOf(g[0])>-1)&&(m=g.shift()),i=g.join(d)}return{key:i,namespaces:Te(m)?[m]:m}}translate(i,r,c){let d=typeof r=="object"?{...r}:r;if(typeof d!="object"&&this.options.overloadTranslationOptionHandler&&(d=this.options.overloadTranslationOptionHandler(arguments)),typeof d=="object"&&(d={...d}),d||(d={}),i==null)return"";typeof i=="function"&&(i=Ed(i,{...this.options,...d})),Array.isArray(i)||(i=[String(i)]);const m=d.returnDetails!==void 0?d.returnDetails:this.options.returnDetails,f=d.keySeparator!==void 0?d.keySeparator:this.options.keySeparator,{key:h,namespaces:p}=this.extractFromKey(i[i.length-1],d),g=p[p.length-1];let b=d.nsSeparator!==void 0?d.nsSeparator:this.options.nsSeparator;b===void 0&&(b=":");const v=d.lng||this.language,T=d.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v?.toLowerCase()==="cimode")return T?m?{res:`${g}${b}${h}`,usedKey:h,exactUsedKey:h,usedLng:v,usedNS:g,usedParams:this.getUsedParamsDetails(d)}:`${g}${b}${h}`:m?{res:h,usedKey:h,exactUsedKey:h,usedLng:v,usedNS:g,usedParams:this.getUsedParamsDetails(d)}:h;const L=this.resolve(i,d);let E=L?.res;const R=L?.usedKey||h,D=L?.exactUsedKey||h,X=["[object Number]","[object Function]","[object RegExp]"],Q=d.joinArrays!==void 0?d.joinArrays:this.options.joinArrays,P=!this.i18nFormat||this.i18nFormat.handleAsObject,le=d.count!==void 0&&!Te(d.count),oe=qr.hasDefaultValue(d),ae=le?this.pluralResolver.getSuffix(v,d.count,d):"",Y=d.ordinal&&le?this.pluralResolver.getSuffix(v,d.count,{ordinal:!1}):"",ie=le&&!d.ordinal&&d.count===0,de=ie&&d[`defaultValue${this.options.pluralSeparator}zero`]||d[`defaultValue${ae}`]||d[`defaultValue${Y}`]||d.defaultValue;let ue=E;P&&!E&&oe&&(ue=de);const A=dd(ue),k=Object.prototype.toString.apply(ue);if(P&&ue&&A&&X.indexOf(k)<0&&!(Te(Q)&&Array.isArray(ue))){if(!d.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ee=this.options.returnedObjectHandler?this.options.returnedObjectHandler(R,ue,{...d,ns:p}):`key '${h} (${this.language})' returned an object instead of string.`;return m?(L.res=ee,L.usedParams=this.getUsedParamsDetails(d),L):ee}if(f){const ee=Array.isArray(ue),ce=ee?[]:{},V=ee?D:R;for(const S in ue)if(Object.prototype.hasOwnProperty.call(ue,S)){const w=`${V}${f}${S}`;oe&&!E?ce[S]=this.translate(w,{...d,defaultValue:dd(de)?de[S]:void 0,joinArrays:!1,ns:p}):ce[S]=this.translate(w,{...d,joinArrays:!1,ns:p}),ce[S]===w&&(ce[S]=ue[S])}E=ce}}else if(P&&Te(Q)&&Array.isArray(E))E=E.join(Q),E&&(E=this.extendTranslation(E,i,d,c));else{let ee=!1,ce=!1;!this.isValidLookup(E)&&oe&&(ee=!0,E=de),this.isValidLookup(E)||(ce=!0,E=h);const S=(d.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ce?void 0:E,w=oe&&de!==E&&this.options.updateMissing;if(ce||ee||w){if(this.logger.log(w?"updateKey":"missingKey",v,g,h,w?de:E),f){const N=this.resolve(h,{...d,keySeparator:!1});N&&N.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let O=[];const re=this.languageUtils.getFallbackCodes(this.options.fallbackLng,d.lng||this.language);if(this.options.saveMissingTo==="fallback"&&re&&re[0])for(let N=0;N<re.length;N++)O.push(re[N]);else this.options.saveMissingTo==="all"?O=this.languageUtils.toResolveHierarchy(d.lng||this.language):O.push(d.lng||this.language);const B=(N,U,ne)=>{const se=oe&&ne!==E?ne:S;this.options.missingKeyHandler?this.options.missingKeyHandler(N,g,U,se,w,d):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(N,g,U,se,w,d),this.emit("missingKey",N,g,U,E)};this.options.saveMissing&&(this.options.saveMissingPlurals&&le?O.forEach(N=>{const U=this.pluralResolver.getSuffixes(N,d);ie&&d[`defaultValue${this.options.pluralSeparator}zero`]&&U.indexOf(`${this.options.pluralSeparator}zero`)<0&&U.push(`${this.options.pluralSeparator}zero`),U.forEach(ne=>{B([N],h+ne,d[`defaultValue${ne}`]||de)})}):B(O,h,de))}E=this.extendTranslation(E,i,d,L,c),ce&&E===h&&this.options.appendNamespaceToMissingKey&&(E=`${g}${b}${h}`),(ce||ee)&&this.options.parseMissingKeyHandler&&(E=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${b}${h}`:h,ee?E:void 0,d))}return m?(L.res=E,L.usedParams=this.getUsedParamsDetails(d),L):E}extendTranslation(i,r,c,d,m){if(this.i18nFormat?.parse)i=this.i18nFormat.parse(i,{...this.options.interpolation.defaultVariables,...c},c.lng||this.language||d.usedLng,d.usedNS,d.usedKey,{resolved:d});else if(!c.skipInterpolation){c.interpolation&&this.interpolator.init({...c,interpolation:{...this.options.interpolation,...c.interpolation}});const p=Te(i)&&(c?.interpolation?.skipOnVariables!==void 0?c.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(p){const v=i.match(this.interpolator.nestingRegexp);g=v&&v.length}let b=c.replace&&!Te(c.replace)?c.replace:c;if(this.options.interpolation.defaultVariables&&(b={...this.options.interpolation.defaultVariables,...b}),i=this.interpolator.interpolate(i,b,c.lng||this.language||d.usedLng,c),p){const v=i.match(this.interpolator.nestingRegexp),T=v&&v.length;g<T&&(c.nest=!1)}!c.lng&&d&&d.res&&(c.lng=this.language||d.usedLng),c.nest!==!1&&(i=this.interpolator.nest(i,(...v)=>m?.[0]===v[0]&&!c.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${r[0]}`),null):this.translate(...v,r),c)),c.interpolation&&this.interpolator.reset()}const f=c.postProcess||this.options.postProcess,h=Te(f)?[f]:f;return i!=null&&h?.length&&c.applyPostProcessor!==!1&&(i=qh.handle(h,i,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...d,usedParams:this.getUsedParamsDetails(c)},...c}:c,this)),i}resolve(i,r={}){let c,d,m,f,h;return Te(i)&&(i=[i]),i.forEach(p=>{if(this.isValidLookup(c))return;const g=this.extractFromKey(p,r),b=g.key;d=b;let v=g.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const T=r.count!==void 0&&!Te(r.count),L=T&&!r.ordinal&&r.count===0,E=r.context!==void 0&&(Te(r.context)||typeof r.context=="number")&&r.context!=="",R=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);v.forEach(D=>{this.isValidLookup(c)||(h=D,!Yx[`${R[0]}-${D}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(h)&&(Yx[`${R[0]}-${D}`]=!0,this.logger.warn(`key "${d}" for languages "${R.join(", ")}" won't get resolved as namespace "${h}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),R.forEach(X=>{if(this.isValidLookup(c))return;f=X;const Q=[b];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(Q,b,X,D,r);else{let le;T&&(le=this.pluralResolver.getSuffix(X,r.count,r));const oe=`${this.options.pluralSeparator}zero`,ae=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(T&&(r.ordinal&&le.indexOf(ae)===0&&Q.push(b+le.replace(ae,this.options.pluralSeparator)),Q.push(b+le),L&&Q.push(b+oe)),E){const Y=`${b}${this.options.contextSeparator||"_"}${r.context}`;Q.push(Y),T&&(r.ordinal&&le.indexOf(ae)===0&&Q.push(Y+le.replace(ae,this.options.pluralSeparator)),Q.push(Y+le),L&&Q.push(Y+oe))}}let P;for(;P=Q.pop();)this.isValidLookup(c)||(m=P,c=this.getResource(X,D,P,r))}))})}),{res:c,usedKey:d,exactUsedKey:m,usedLng:f,usedNS:h}}isValidLookup(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}getResource(i,r,c,d={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(i,r,c,d):this.resourceStore.getResource(i,r,c,d)}getUsedParamsDetails(i={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],c=i.replace&&!Te(i.replace);let d=c?i.replace:i;if(c&&typeof i.count<"u"&&(d.count=i.count),this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),!c){d={...d};for(const m of r)delete d[m]}return d}static hasDefaultValue(i){const r="defaultValue";for(const c in i)if(Object.prototype.hasOwnProperty.call(i,c)&&r===c.substring(0,r.length)&&i[c]!==void 0)return!0;return!1}}class Xx{constructor(i){this.options=i,this.supportedLngs=this.options.supportedLngs||!1,this.logger=_a.create("languageUtils")}getScriptPartFromCode(i){if(i=ri(i),!i||i.indexOf("-")<0)return null;const r=i.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(i){if(i=ri(i),!i||i.indexOf("-")<0)return i;const r=i.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(i){if(Te(i)&&i.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(i)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?i.toLowerCase():i)}return this.options.cleanCode||this.options.lowerCaseLng?i.toLowerCase():i}isSupportedCode(i){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(i=this.getLanguagePartFromCode(i)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(i)>-1}getBestMatchFromCodes(i){if(!i)return null;let r;return i.forEach(c=>{if(r)return;const d=this.formatLanguageCode(c);(!this.options.supportedLngs||this.isSupportedCode(d))&&(r=d)}),!r&&this.options.supportedLngs&&i.forEach(c=>{if(r)return;const d=this.getScriptPartFromCode(c);if(this.isSupportedCode(d))return r=d;const m=this.getLanguagePartFromCode(c);if(this.isSupportedCode(m))return r=m;r=this.options.supportedLngs.find(f=>{if(f===m)return f;if(!(f.indexOf("-")<0&&m.indexOf("-")<0)&&(f.indexOf("-")>0&&m.indexOf("-")<0&&f.substring(0,f.indexOf("-"))===m||f.indexOf(m)===0&&m.length>1))return f})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(i,r){if(!i)return[];if(typeof i=="function"&&(i=i(r)),Te(i)&&(i=[i]),Array.isArray(i))return i;if(!r)return i.default||[];let c=i[r];return c||(c=i[this.getScriptPartFromCode(r)]),c||(c=i[this.formatLanguageCode(r)]),c||(c=i[this.getLanguagePartFromCode(r)]),c||(c=i.default),c||[]}toResolveHierarchy(i,r){const c=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],i),d=[],m=f=>{f&&(this.isSupportedCode(f)?d.push(f):this.logger.warn(`rejecting language code not found in supportedLngs: ${f}`))};return Te(i)&&(i.indexOf("-")>-1||i.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&m(this.formatLanguageCode(i)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&m(this.getScriptPartFromCode(i)),this.options.load!=="currentOnly"&&m(this.getLanguagePartFromCode(i))):Te(i)&&m(this.formatLanguageCode(i)),c.forEach(f=>{d.indexOf(f)<0&&m(this.formatLanguageCode(f))}),d}}const Qx={zero:0,one:1,two:2,few:3,many:4,other:5},Kx={select:l=>l===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class ab{constructor(i,r={}){this.languageUtils=i,this.options=r,this.logger=_a.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(i,r={}){const c=ri(i==="dev"?"en":i),d=r.ordinal?"ordinal":"cardinal",m=JSON.stringify({cleanedCode:c,type:d});if(m in this.pluralRulesCache)return this.pluralRulesCache[m];let f;try{f=new Intl.PluralRules(c,{type:d})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Kx;if(!i.match(/-|_/))return Kx;const p=this.languageUtils.getLanguagePartFromCode(i);f=this.getRule(p,r)}return this.pluralRulesCache[m]=f,f}needsPlural(i,r={}){let c=this.getRule(i,r);return c||(c=this.getRule("dev",r)),c?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(i,r,c={}){return this.getSuffixes(i,c).map(d=>`${r}${d}`)}getSuffixes(i,r={}){let c=this.getRule(i,r);return c||(c=this.getRule("dev",r)),c?c.resolvedOptions().pluralCategories.sort((d,m)=>Qx[d]-Qx[m]).map(d=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${d}`):[]}getSuffix(i,r,c={}){const d=this.getRule(i,c);return d?`${this.options.prepend}${c.ordinal?`ordinal${this.options.prepend}`:""}${d.select(r)}`:(this.logger.warn(`no plural rule found for: ${i}`),this.getSuffix("dev",r,c))}}const Zx=(l,i,r,c=".",d=!0)=>{let m=Qp(l,i,r);return!m&&d&&Te(r)&&(m=wd(l,r,c),m===void 0&&(m=wd(i,r,c))),m},ud=l=>l.replace(/\$/g,"$$$$");class Ix{constructor(i={}){this.logger=_a.create("interpolator"),this.options=i,this.format=i?.interpolation?.format||(r=>r),this.init(i)}init(i={}){i.interpolation||(i.interpolation={escapeValue:!0});const{escape:r,escapeValue:c,useRawValueToEscape:d,prefix:m,prefixEscaped:f,suffix:h,suffixEscaped:p,formatSeparator:g,unescapeSuffix:b,unescapePrefix:v,nestingPrefix:T,nestingPrefixEscaped:L,nestingSuffix:E,nestingSuffixEscaped:R,nestingOptionsSeparator:D,maxReplaces:X,alwaysFormat:Q}=i.interpolation;this.escape=r!==void 0?r:Zp,this.escapeValue=c!==void 0?c:!0,this.useRawValueToEscape=d!==void 0?d:!1,this.prefix=m?Jn(m):f||"{{",this.suffix=h?Jn(h):p||"}}",this.formatSeparator=g||",",this.unescapePrefix=b?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":b||"",this.nestingPrefix=T?Jn(T):L||Jn("$t("),this.nestingSuffix=E?Jn(E):R||Jn(")"),this.nestingOptionsSeparator=D||",",this.maxReplaces=X||1e3,this.alwaysFormat=Q!==void 0?Q:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const i=(r,c)=>r?.source===c?(r.lastIndex=0,r):new RegExp(c,"g");this.regexp=i(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=i(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=i(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(i,r,c,d){let m,f,h;const p=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=L=>{if(L.indexOf(this.formatSeparator)<0){const X=Zx(r,p,L,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(X,void 0,c,{...d,...r,interpolationkey:L}):X}const E=L.split(this.formatSeparator),R=E.shift().trim(),D=E.join(this.formatSeparator).trim();return this.format(Zx(r,p,R,this.options.keySeparator,this.options.ignoreJSONStructure),D,c,{...d,...r,interpolationkey:R})};this.resetRegExp();const b=d?.missingInterpolationHandler||this.options.missingInterpolationHandler,v=d?.interpolation?.skipOnVariables!==void 0?d.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:L=>ud(L)},{regex:this.regexp,safeValue:L=>this.escapeValue?ud(this.escape(L)):ud(L)}].forEach(L=>{for(h=0;m=L.regex.exec(i);){const E=m[1].trim();if(f=g(E),f===void 0)if(typeof b=="function"){const D=b(i,m,d);f=Te(D)?D:""}else if(d&&Object.prototype.hasOwnProperty.call(d,E))f="";else if(v){f=m[0];continue}else this.logger.warn(`missed to pass in variable ${E} for interpolating ${i}`),f="";else!Te(f)&&!this.useRawValueToEscape&&(f=Hx(f));const R=L.safeValue(f);if(i=i.replace(m[0],R),v?(L.regex.lastIndex+=f.length,L.regex.lastIndex-=m[0].length):L.regex.lastIndex=0,h++,h>=this.maxReplaces)break}}),i}nest(i,r,c={}){let d,m,f;const h=(p,g)=>{const b=this.nestingOptionsSeparator;if(p.indexOf(b)<0)return p;const v=p.split(new RegExp(`${b}[ ]*{`));let T=`{${v[1]}`;p=v[0],T=this.interpolate(T,f);const L=T.match(/'/g),E=T.match(/"/g);((L?.length??0)%2===0&&!E||E.length%2!==0)&&(T=T.replace(/'/g,'"'));try{f=JSON.parse(T),g&&(f={...g,...f})}catch(R){return this.logger.warn(`failed parsing options string in nesting for key ${p}`,R),`${p}${b}${T}`}return f.defaultValue&&f.defaultValue.indexOf(this.prefix)>-1&&delete f.defaultValue,p};for(;d=this.nestingRegexp.exec(i);){let p=[];f={...c},f=f.replace&&!Te(f.replace)?f.replace:f,f.applyPostProcessor=!1,delete f.defaultValue;const g=/{.*}/.test(d[1])?d[1].lastIndexOf("}")+1:d[1].indexOf(this.formatSeparator);if(g!==-1&&(p=d[1].slice(g).split(this.formatSeparator).map(b=>b.trim()).filter(Boolean),d[1]=d[1].slice(0,g)),m=r(h.call(this,d[1].trim(),f),f),m&&d[0]===i&&!Te(m))return m;Te(m)||(m=Hx(m)),m||(this.logger.warn(`missed to resolve ${d[1]} for nesting ${i}`),m=""),p.length&&(m=p.reduce((b,v)=>this.format(b,v,c.lng,{...c,interpolationkey:d[1].trim()}),m.trim())),i=i.replace(d[0],m),this.regexp.lastIndex=0}return i}}const sb=l=>{let i=l.toLowerCase().trim();const r={};if(l.indexOf("(")>-1){const c=l.split("(");i=c[0].toLowerCase().trim();const d=c[1].substring(0,c[1].length-1);i==="currency"&&d.indexOf(":")<0?r.currency||(r.currency=d.trim()):i==="relativetime"&&d.indexOf(":")<0?r.range||(r.range=d.trim()):d.split(";").forEach(f=>{if(f){const[h,...p]=f.split(":"),g=p.join(":").trim().replace(/^'+|'+$/g,""),b=h.trim();r[b]||(r[b]=g),g==="false"&&(r[b]=!1),g==="true"&&(r[b]=!0),isNaN(g)||(r[b]=parseInt(g,10))}})}return{formatName:i,formatOptions:r}},Jx=l=>{const i={};return(r,c,d)=>{let m=d;d&&d.interpolationkey&&d.formatParams&&d.formatParams[d.interpolationkey]&&d[d.interpolationkey]&&(m={...m,[d.interpolationkey]:void 0});const f=c+JSON.stringify(m);let h=i[f];return h||(h=l(ri(c),d),i[f]=h),h(r)}},nb=l=>(i,r,c)=>l(ri(r),c)(i);class lb{constructor(i={}){this.logger=_a.create("formatter"),this.options=i,this.init(i)}init(i,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const c=r.cacheInBuiltFormats?Jx:nb;this.formats={number:c((d,m)=>{const f=new Intl.NumberFormat(d,{...m});return h=>f.format(h)}),currency:c((d,m)=>{const f=new Intl.NumberFormat(d,{...m,style:"currency"});return h=>f.format(h)}),datetime:c((d,m)=>{const f=new Intl.DateTimeFormat(d,{...m});return h=>f.format(h)}),relativetime:c((d,m)=>{const f=new Intl.RelativeTimeFormat(d,{...m});return h=>f.format(h,m.range||"day")}),list:c((d,m)=>{const f=new Intl.ListFormat(d,{...m});return h=>f.format(h)})}}add(i,r){this.formats[i.toLowerCase().trim()]=r}addCached(i,r){this.formats[i.toLowerCase().trim()]=Jx(r)}format(i,r,c,d={}){const m=r.split(this.formatSeparator);if(m.length>1&&m[0].indexOf("(")>1&&m[0].indexOf(")")<0&&m.find(h=>h.indexOf(")")>-1)){const h=m.findIndex(p=>p.indexOf(")")>-1);m[0]=[m[0],...m.splice(1,h)].join(this.formatSeparator)}return m.reduce((h,p)=>{const{formatName:g,formatOptions:b}=sb(p);if(this.formats[g]){let v=h;try{const T=d?.formatParams?.[d.interpolationkey]||{},L=T.locale||T.lng||d.locale||d.lng||c;v=this.formats[g](h,L,{...b,...d,...T})}catch(T){this.logger.warn(T)}return v}else this.logger.warn(`there was no format function for ${g}`);return h},i)}}const ib=(l,i)=>{l.pending[i]!==void 0&&(delete l.pending[i],l.pendingCount--)};class rb extends Vr{constructor(i,r,c,d={}){super(),this.backend=i,this.store=r,this.services=c,this.languageUtils=c.languageUtils,this.options=d,this.logger=_a.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=d.maxParallelReads||10,this.readingCalls=0,this.maxRetries=d.maxRetries>=0?d.maxRetries:5,this.retryTimeout=d.retryTimeout>=1?d.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(c,d.backend,d)}queueLoad(i,r,c,d){const m={},f={},h={},p={};return i.forEach(g=>{let b=!0;r.forEach(v=>{const T=`${g}|${v}`;!c.reload&&this.store.hasResourceBundle(g,v)?this.state[T]=2:this.state[T]<0||(this.state[T]===1?f[T]===void 0&&(f[T]=!0):(this.state[T]=1,b=!1,f[T]===void 0&&(f[T]=!0),m[T]===void 0&&(m[T]=!0),p[v]===void 0&&(p[v]=!0)))}),b||(h[g]=!0)}),(Object.keys(m).length||Object.keys(f).length)&&this.queue.push({pending:f,pendingCount:Object.keys(f).length,loaded:{},errors:[],callback:d}),{toLoad:Object.keys(m),pending:Object.keys(f),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(p)}}loaded(i,r,c){const d=i.split("|"),m=d[0],f=d[1];r&&this.emit("failedLoading",m,f,r),!r&&c&&this.store.addResourceBundle(m,f,c,void 0,void 0,{skipCopy:!0}),this.state[i]=r?-1:2,r&&c&&(this.state[i]=0);const h={};this.queue.forEach(p=>{Xp(p.loaded,[m],f),ib(p,i),r&&p.errors.push(r),p.pendingCount===0&&!p.done&&(Object.keys(p.loaded).forEach(g=>{h[g]||(h[g]={});const b=p.loaded[g];b.length&&b.forEach(v=>{h[g][v]===void 0&&(h[g][v]=!0)})}),p.done=!0,p.errors.length?p.callback(p.errors):p.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(p=>!p.done)}read(i,r,c,d=0,m=this.retryTimeout,f){if(!i.length)return f(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:r,fcName:c,tried:d,wait:m,callback:f});return}this.readingCalls++;const h=(g,b)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(g&&b&&d<this.maxRetries){setTimeout(()=>{this.read.call(this,i,r,c,d+1,m*2,f)},m);return}f(g,b)},p=this.backend[c].bind(this.backend);if(p.length===2){try{const g=p(i,r);g&&typeof g.then=="function"?g.then(b=>h(null,b)).catch(h):h(null,g)}catch(g){h(g)}return}return p(i,r,h)}prepareLoading(i,r,c={},d){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),d&&d();Te(i)&&(i=this.languageUtils.toResolveHierarchy(i)),Te(r)&&(r=[r]);const m=this.queueLoad(i,r,c,d);if(!m.toLoad.length)return m.pending.length||d(),null;m.toLoad.forEach(f=>{this.loadOne(f)})}load(i,r,c){this.prepareLoading(i,r,{},c)}reload(i,r,c){this.prepareLoading(i,r,{reload:!0},c)}loadOne(i,r=""){const c=i.split("|"),d=c[0],m=c[1];this.read(d,m,"read",void 0,void 0,(f,h)=>{f&&this.logger.warn(`${r}loading namespace ${m} for language ${d} failed`,f),!f&&h&&this.logger.log(`${r}loaded namespace ${m} for language ${d}`,h),this.loaded(i,f,h)})}saveMissing(i,r,c,d,m,f={},h=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${c}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(c==null||c==="")){if(this.backend?.create){const p={...f,isUpdate:m},g=this.backend.create.bind(this.backend);if(g.length<6)try{let b;g.length===5?b=g(i,r,c,d,p):b=g(i,r,c,d),b&&typeof b.then=="function"?b.then(v=>h(null,v)).catch(h):h(null,b)}catch(b){h(b)}else g(i,r,c,d,h,p)}!i||!i[0]||this.store.addResource(i[0],r,c,d)}}}const md=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:l=>{let i={};if(typeof l[1]=="object"&&(i=l[1]),Te(l[1])&&(i.defaultValue=l[1]),Te(l[2])&&(i.tDescription=l[2]),typeof l[2]=="object"||typeof l[3]=="object"){const r=l[3]||l[2];Object.keys(r).forEach(c=>{i[c]=r[c]})}return i},interpolation:{escapeValue:!0,format:l=>l,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Px=l=>(Te(l.ns)&&(l.ns=[l.ns]),Te(l.fallbackLng)&&(l.fallbackLng=[l.fallbackLng]),Te(l.fallbackNS)&&(l.fallbackNS=[l.fallbackNS]),l.supportedLngs?.indexOf?.("cimode")<0&&(l.supportedLngs=l.supportedLngs.concat(["cimode"])),typeof l.initImmediate=="boolean"&&(l.initAsync=l.initImmediate),l),Tr=()=>{},cb=l=>{Object.getOwnPropertyNames(Object.getPrototypeOf(l)).forEach(r=>{typeof l[r]=="function"&&(l[r]=l[r].bind(l))})},ob=l=>!!(l?.modules?.backend?.name?.indexOf("Locize")>0||l?.modules?.backend?.constructor?.name?.indexOf("Locize")>0||l?.options?.backend?.backends&&l.options.backend.backends.some(i=>i?.name?.indexOf("Locize")>0||i?.constructor?.name?.indexOf("Locize")>0));class li extends Vr{constructor(i={},r){if(super(),this.options=Px(i),this.services={},this.logger=_a,this.modules={external:[]},cb(this),r&&!this.isInitialized&&!i.isClone){if(!this.options.initAsync)return this.init(i,r),this;setTimeout(()=>{this.init(i,r)},0)}}init(i={},r){this.isInitializing=!0,typeof i=="function"&&(r=i,i={}),i.defaultNS==null&&i.ns&&(Te(i.ns)?i.defaultNS=i.ns:i.ns.indexOf("translation")<0&&(i.defaultNS=i.ns[0]));const c=md();this.options={...c,...this.options,...Px(i)},this.options.interpolation={...c.interpolation,...this.options.interpolation},i.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=i.keySeparator),i.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=i.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=c.overloadTranslationOptionHandler),this.options.showSupportNotice!==!1&&!ob(this)&&typeof console<"u"&&typeof console.info<"u"&&console.info("ðŸŒ i18next is maintained with support from locize.com â€” consider powering your project with managed localization (AI, CDN, integrations): https://locize.com ðŸ’™");const d=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?_a.init(d(this.modules.logger),this.options):_a.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=lb;const b=new Xx(this.options);this.store=new Gx(this.options.resources,this.options);const v=this.services;v.logger=_a,v.resourceStore=this.store,v.languageUtils=b,v.pluralResolver=new ab(b,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==c.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),g&&(!this.options.interpolation.format||this.options.interpolation.format===c.interpolation.format)&&(v.formatter=d(g),v.formatter.init&&v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new Ix(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new rb(d(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(L,...E)=>{this.emit(L,...E)}),this.modules.languageDetector&&(v.languageDetector=d(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=d(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new qr(this.services,this.options),this.translator.on("*",(L,...E)=>{this.emit(L,...E)}),this.modules.external.forEach(L=>{L.init&&L.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Tr),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(...b)=>this.store[g](...b)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(...b)=>(this.store[g](...b),this)});const h=Jl(),p=()=>{const g=(b,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),h.resolve(v),r(b,v)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?p():setTimeout(p,0),h}loadResources(i,r=Tr){let c=r;const d=Te(i)?i:this.language;if(typeof i=="function"&&(c=i),!this.options.resources||this.options.partialBundledLanguages){if(d?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return c();const m=[],f=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(g=>{g!=="cimode"&&m.indexOf(g)<0&&m.push(g)})};d?f(d):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>f(p)),this.options.preload?.forEach?.(h=>f(h)),this.services.backendConnector.load(m,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),c(h)})}else c(null)}reloadResources(i,r,c){const d=Jl();return typeof i=="function"&&(c=i,i=void 0),typeof r=="function"&&(c=r,r=void 0),i||(i=this.languages),r||(r=this.options.ns),c||(c=Tr),this.services.backendConnector.reload(i,r,m=>{d.resolve(),c(m)}),d}use(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&qh.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}setResolvedLanguage(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1)){for(let r=0;r<this.languages.length;r++){const c=this.languages[r];if(!(["cimode","dev"].indexOf(c)>-1)&&this.store.hasLanguageSomeTranslations(c)){this.resolvedLanguage=c;break}}!this.resolvedLanguage&&this.languages.indexOf(i)<0&&this.store.hasLanguageSomeTranslations(i)&&(this.resolvedLanguage=i,this.languages.unshift(i))}}changeLanguage(i,r){this.isLanguageChangingTo=i;const c=Jl();this.emit("languageChanging",i);const d=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},m=(h,p)=>{p?this.isLanguageChangingTo===i&&(d(p),this.translator.changeLanguage(p),this.isLanguageChangingTo=void 0,this.emit("languageChanged",p),this.logger.log("languageChanged",p)):this.isLanguageChangingTo=void 0,c.resolve((...g)=>this.t(...g)),r&&r(h,(...g)=>this.t(...g))},f=h=>{!i&&!h&&this.services.languageDetector&&(h=[]);const p=Te(h)?h:h&&h[0],g=this.store.hasLanguageSomeTranslations(p)?p:this.services.languageUtils.getBestMatchFromCodes(Te(h)?[h]:h);g&&(this.language||d(g),this.translator.language||this.translator.changeLanguage(g),this.services.languageDetector?.cacheUserLanguage?.(g)),this.loadResources(g,b=>{m(b,g)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?f(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(f):this.services.languageDetector.detect(f):f(i),c}getFixedT(i,r,c){const d=(m,f,...h)=>{let p;typeof f!="object"?p=this.options.overloadTranslationOptionHandler([m,f].concat(h)):p={...f},p.lng=p.lng||d.lng,p.lngs=p.lngs||d.lngs,p.ns=p.ns||d.ns,p.keyPrefix!==""&&(p.keyPrefix=p.keyPrefix||c||d.keyPrefix);const g=this.options.keySeparator||".";let b;return p.keyPrefix&&Array.isArray(m)?b=m.map(v=>(typeof v=="function"&&(v=Ed(v,{...this.options,...f})),`${p.keyPrefix}${g}${v}`)):(typeof m=="function"&&(m=Ed(m,{...this.options,...f})),b=p.keyPrefix?`${p.keyPrefix}${g}${m}`:m),this.t(b,p)};return Te(i)?d.lng=i:d.lngs=i,d.ns=r,d.keyPrefix=c,d}t(...i){return this.translator?.translate(...i)}exists(...i){return this.translator?.exists(...i)}setDefaultNamespace(i){this.options.defaultNS=i}hasLoadedNamespace(i,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const c=r.lng||this.resolvedLanguage||this.languages[0],d=this.options?this.options.fallbackLng:!1,m=this.languages[this.languages.length-1];if(c.toLowerCase()==="cimode")return!0;const f=(h,p)=>{const g=this.services.backendConnector.state[`${h}|${p}`];return g===-1||g===0||g===2};if(r.precheck){const h=r.precheck(this,f);if(h!==void 0)return h}return!!(this.hasResourceBundle(c,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||f(c,i)&&(!d||f(m,i)))}loadNamespaces(i,r){const c=Jl();return this.options.ns?(Te(i)&&(i=[i]),i.forEach(d=>{this.options.ns.indexOf(d)<0&&this.options.ns.push(d)}),this.loadResources(d=>{c.resolve(),r&&r(d)}),c):(r&&r(),Promise.resolve())}loadLanguages(i,r){const c=Jl();Te(i)&&(i=[i]);const d=this.options.preload||[],m=i.filter(f=>d.indexOf(f)<0&&this.services.languageUtils.isSupportedCode(f));return m.length?(this.options.preload=d.concat(m),this.loadResources(f=>{c.resolve(),r&&r(f)}),c):(r&&r(),Promise.resolve())}dir(i){if(i||(i=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!i)return"rtl";try{const d=new Intl.Locale(i);if(d&&d.getTextInfo){const m=d.getTextInfo();if(m&&m.direction)return m.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],c=this.services?.languageUtils||new Xx(md());return i.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(c.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(i={},r){const c=new li(i,r);return c.createInstance=li.createInstance,c}cloneInstance(i={},r=Tr){const c=i.forkResourceStore;c&&delete i.forkResourceStore;const d={...this.options,...i,isClone:!0},m=new li(d);if((i.debug!==void 0||i.prefix!==void 0)&&(m.logger=m.logger.clone(i)),["store","services","language"].forEach(h=>{m[h]=this[h]}),m.services={...this.services},m.services.utils={hasLoadedNamespace:m.hasLoadedNamespace.bind(m)},c){const h=Object.keys(this.store.data).reduce((p,g)=>(p[g]={...this.store.data[g]},p[g]=Object.keys(p[g]).reduce((b,v)=>(b[v]={...p[g][v]},b),p[g]),p),{});m.store=new Gx(h,d),m.services.resourceStore=m.store}if(i.interpolation){const p={...md().interpolation,...this.options.interpolation,...i.interpolation},g={...d,interpolation:p};m.services.interpolator=new Ix(g)}return m.translator=new qr(m.services,d),m.translator.on("*",(h,...p)=>{m.emit(h,...p)}),m.init(d,r),m.translator.options=d,m.translator.backendConnector.services.utils={hasLoadedNamespace:m.hasLoadedNamespace.bind(m)},m}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const _t=li.createInstance();_t.createInstance;_t.dir;_t.init;_t.loadResources;_t.reloadResources;_t.use;_t.changeLanguage;_t.getFixedT;_t.t;_t.exists;_t.setDefaultNamespace;_t.hasLoadedNamespace;_t.loadNamespaces;_t.loadLanguages;const db=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,ub={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"Â©","&#169;":"Â©","&reg;":"Â®","&#174;":"Â®","&hellip;":"â€¦","&#8230;":"â€¦","&#x2F;":"/","&#47;":"/"},mb=l=>ub[l],fb=l=>l.replace(db,mb);let Wx={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:fb};const xb=(l={})=>{Wx={...Wx,...l}},hb={type:"3rdParty",init(l){xb(l.options.react)}},gb=y.createContext();function pb({i18n:l,defaultNS:i,children:r}){const c=y.useMemo(()=>({i18n:l,defaultNS:i}),[l,i]);return y.createElement(gb.Provider,{value:c},r)}const{slice:bb,forEach:yb}=[];function vb(l){return yb.call(bb.call(arguments,1),i=>{if(i)for(const r in i)l[r]===void 0&&(l[r]=i[r])}),l}function jb(l){return typeof l!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(l))}const eh=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Nb=function(l,i){const c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},d=encodeURIComponent(i);let m=`${l}=${d}`;if(c.maxAge>0){const f=c.maxAge-0;if(Number.isNaN(f))throw new Error("maxAge should be a Number");m+=`; Max-Age=${Math.floor(f)}`}if(c.domain){if(!eh.test(c.domain))throw new TypeError("option domain is invalid");m+=`; Domain=${c.domain}`}if(c.path){if(!eh.test(c.path))throw new TypeError("option path is invalid");m+=`; Path=${c.path}`}if(c.expires){if(typeof c.expires.toUTCString!="function")throw new TypeError("option expires is invalid");m+=`; Expires=${c.expires.toUTCString()}`}if(c.httpOnly&&(m+="; HttpOnly"),c.secure&&(m+="; Secure"),c.sameSite)switch(typeof c.sameSite=="string"?c.sameSite.toLowerCase():c.sameSite){case!0:m+="; SameSite=Strict";break;case"lax":m+="; SameSite=Lax";break;case"strict":m+="; SameSite=Strict";break;case"none":m+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return c.partitioned&&(m+="; Partitioned"),m},th={create(l,i,r,c){let d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(d.expires=new Date,d.expires.setTime(d.expires.getTime()+r*60*1e3)),c&&(d.domain=c),document.cookie=Nb(l,i,d)},read(l){const i=`${l}=`,r=document.cookie.split(";");for(let c=0;c<r.length;c++){let d=r[c];for(;d.charAt(0)===" ";)d=d.substring(1,d.length);if(d.indexOf(i)===0)return d.substring(i.length,d.length)}return null},remove(l,i){this.create(l,"",-1,i)}};var Sb={name:"cookie",lookup(l){let{lookupCookie:i}=l;if(i&&typeof document<"u")return th.read(i)||void 0},cacheUserLanguage(l,i){let{lookupCookie:r,cookieMinutes:c,cookieDomain:d,cookieOptions:m}=i;r&&typeof document<"u"&&th.create(r,l,c,d,m)}},wb={name:"querystring",lookup(l){let{lookupQuerystring:i}=l,r;if(typeof window<"u"){let{search:c}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(c=window.location.hash.substring(window.location.hash.indexOf("?")));const m=c.substring(1).split("&");for(let f=0;f<m.length;f++){const h=m[f].indexOf("=");h>0&&m[f].substring(0,h)===i&&(r=m[f].substring(h+1))}}return r}},Eb={name:"hash",lookup(l){let{lookupHash:i,lookupFromHashIndex:r}=l,c;if(typeof window<"u"){const{hash:d}=window.location;if(d&&d.length>2){const m=d.substring(1);if(i){const f=m.split("&");for(let h=0;h<f.length;h++){const p=f[h].indexOf("=");p>0&&f[h].substring(0,p)===i&&(c=f[h].substring(p+1))}}if(c)return c;if(!c&&r>-1){const f=d.match(/\/([a-zA-Z-]*)/g);return Array.isArray(f)?f[typeof r=="number"?r:0]?.replace("/",""):void 0}}}return c}};let Pn=null;const ah=()=>{if(Pn!==null)return Pn;try{if(Pn=typeof window<"u"&&window.localStorage!==null,!Pn)return!1;const l="i18next.translate.boo";window.localStorage.setItem(l,"foo"),window.localStorage.removeItem(l)}catch{Pn=!1}return Pn};var Ab={name:"localStorage",lookup(l){let{lookupLocalStorage:i}=l;if(i&&ah())return window.localStorage.getItem(i)||void 0},cacheUserLanguage(l,i){let{lookupLocalStorage:r}=i;r&&ah()&&window.localStorage.setItem(r,l)}};let Wn=null;const sh=()=>{if(Wn!==null)return Wn;try{if(Wn=typeof window<"u"&&window.sessionStorage!==null,!Wn)return!1;const l="i18next.translate.boo";window.sessionStorage.setItem(l,"foo"),window.sessionStorage.removeItem(l)}catch{Wn=!1}return Wn};var Cb={name:"sessionStorage",lookup(l){let{lookupSessionStorage:i}=l;if(i&&sh())return window.sessionStorage.getItem(i)||void 0},cacheUserLanguage(l,i){let{lookupSessionStorage:r}=i;r&&sh()&&window.sessionStorage.setItem(r,l)}},Tb={name:"navigator",lookup(l){const i=[];if(typeof navigator<"u"){const{languages:r,userLanguage:c,language:d}=navigator;if(r)for(let m=0;m<r.length;m++)i.push(r[m]);c&&i.push(c),d&&i.push(d)}return i.length>0?i:void 0}},Rb={name:"htmlTag",lookup(l){let{htmlTag:i}=l,r;const c=i||(typeof document<"u"?document.documentElement:null);return c&&typeof c.getAttribute=="function"&&(r=c.getAttribute("lang")),r}},Db={name:"path",lookup(l){let{lookupFromPathIndex:i}=l;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?r[typeof i=="number"?i:0]?.replace("/",""):void 0}},Ob={name:"subdomain",lookup(l){let{lookupFromSubdomainIndex:i}=l;const r=typeof i=="number"?i+1:1,c=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(c)return c[r]}};let $h=!1;try{document.cookie,$h=!0}catch{}const Fh=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];$h||Fh.splice(1,1);const Mb=()=>({order:Fh,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:l=>l});class Vh{constructor(i){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(i,r)}init(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=i,this.options=vb(r,this.options||{},Mb()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=d=>d.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=c,this.addDetector(Sb),this.addDetector(wb),this.addDetector(Ab),this.addDetector(Cb),this.addDetector(Tb),this.addDetector(Rb),this.addDetector(Db),this.addDetector(Ob),this.addDetector(Eb)}addDetector(i){return this.detectors[i.name]=i,this}detect(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return i.forEach(c=>{if(this.detectors[c]){let d=this.detectors[c].lookup(this.options);d&&typeof d=="string"&&(d=[d]),d&&(r=r.concat(d))}}),r=r.filter(c=>c!=null&&!jb(c)).map(c=>this.options.convertDetectedLanguage(c)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(i){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(i)>-1||r.forEach(c=>{this.detectors[c]&&this.detectors[c].cacheUserLanguage(i,this.options)}))}}Vh.type="languageDetector";const Lb={welcome:"Ø£Ù‡Ù„Ø§ Ø¨Ùƒ",home:"Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",dashboard:"Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…",students:"Ø§Ù„Ø·Ù„Ø§Ø¨",trainings:"Ø§Ù„ØªØ¯Ø±ÙŠØ¨Ø§Øª",messages:"Ø§Ù„Ø±Ø³Ø§Ø¦Ù„",profile:"Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ",attendance:"Ø§Ù„Ø­Ø¶ÙˆØ±",certification:"Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª",accessibility:"Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„ÙˆØµÙˆÙ„",login:"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„",logout:"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬",settings:"Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª"},zb=Object.freeze(Object.defineProperty({__proto__:null,default:Lb},Symbol.toStringTag,{value:"Module"})),kb={welcome:"Welcome",home:"Home",dashboard:"Dashboard",students:"Students",trainings:"Trainings",messages:"Messages",profile:"Profile",attendance:"Attendance",certification:"Certification",accessibility:"Accessibility",login:"Login",logout:"Logout",settings:"Settings"},Ub=Object.freeze(Object.defineProperty({__proto__:null,default:kb},Symbol.toStringTag,{value:"Module"})),_b={welcome:"Bienvenue",home:"Accueil",dashboard:"Tableau de bord",students:"Ã‰lÃ¨ves",trainings:"Formations",messages:"Messages",profile:"Profil",attendance:"PrÃ©sences",certification:"Certification",accessibility:"AccessibilitÃ©",login:"Connexion",logout:"DÃ©connexion",settings:"ParamÃ¨tres"},Bb=Object.freeze(Object.defineProperty({__proto__:null,default:_b},Symbol.toStringTag,{value:"Module"})),nh=Object.assign({"./ar/common.ts":zb,"./en/common.ts":Ub,"./fr/common.ts":Bb}),si={};Object.keys(nh).forEach(l=>{const i=l.match(/\.\/([^/]+)\/([^/]+)\.ts$/);if(i){const[,r]=i,c=nh[l];si[r]||(si[r]={translation:{}}),c.default&&(si[r].translation={...si[r].translation,...c.default})}});_t.use(Vh).use(hb).init({lng:"en",fallbackLng:"en",debug:!1,resources:si,interpolation:{escapeValue:!1}});var fd={exports:{}},Pl={},xd={exports:{}},hd={};var lh;function qb(){return lh||(lh=1,(function(l){function i(S,w){var O=S.length;S.push(w);e:for(;0<O;){var re=O-1>>>1,B=S[re];if(0<d(B,w))S[re]=w,S[O]=B,O=re;else break e}}function r(S){return S.length===0?null:S[0]}function c(S){if(S.length===0)return null;var w=S[0],O=S.pop();if(O!==w){S[0]=O;e:for(var re=0,B=S.length,N=B>>>1;re<N;){var U=2*(re+1)-1,ne=S[U],se=U+1,be=S[se];if(0>d(ne,O))se<B&&0>d(be,ne)?(S[re]=be,S[se]=O,re=se):(S[re]=ne,S[U]=O,re=U);else if(se<B&&0>d(be,O))S[re]=be,S[se]=O,re=se;else break e}}return w}function d(S,w){var O=S.sortIndex-w.sortIndex;return O!==0?O:S.id-w.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;l.unstable_now=function(){return m.now()}}else{var f=Date,h=f.now();l.unstable_now=function(){return f.now()-h}}var p=[],g=[],b=1,v=null,T=3,L=!1,E=!1,R=!1,D=!1,X=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function le(S){for(var w=r(g);w!==null;){if(w.callback===null)c(g);else if(w.startTime<=S)c(g),w.sortIndex=w.expirationTime,i(p,w);else break;w=r(g)}}function oe(S){if(R=!1,le(S),!E)if(r(p)!==null)E=!0,ae||(ae=!0,k());else{var w=r(g);w!==null&&V(oe,w.startTime-S)}}var ae=!1,Y=-1,ie=5,de=-1;function ue(){return D?!0:!(l.unstable_now()-de<ie)}function A(){if(D=!1,ae){var S=l.unstable_now();de=S;var w=!0;try{e:{E=!1,R&&(R=!1,Q(Y),Y=-1),L=!0;var O=T;try{t:{for(le(S),v=r(p);v!==null&&!(v.expirationTime>S&&ue());){var re=v.callback;if(typeof re=="function"){v.callback=null,T=v.priorityLevel;var B=re(v.expirationTime<=S);if(S=l.unstable_now(),typeof B=="function"){v.callback=B,le(S),w=!0;break t}v===r(p)&&c(p),le(S)}else c(p);v=r(p)}if(v!==null)w=!0;else{var N=r(g);N!==null&&V(oe,N.startTime-S),w=!1}}break e}finally{v=null,T=O,L=!1}w=void 0}}finally{w?k():ae=!1}}}var k;if(typeof P=="function")k=function(){P(A)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ce=ee.port2;ee.port1.onmessage=A,k=function(){ce.postMessage(null)}}else k=function(){X(A,0)};function V(S,w){Y=X(function(){S(l.unstable_now())},w)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(S){S.callback=null},l.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<S?Math.floor(1e3/S):5},l.unstable_getCurrentPriorityLevel=function(){return T},l.unstable_next=function(S){switch(T){case 1:case 2:case 3:var w=3;break;default:w=T}var O=T;T=w;try{return S()}finally{T=O}},l.unstable_requestPaint=function(){D=!0},l.unstable_runWithPriority=function(S,w){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var O=T;T=S;try{return w()}finally{T=O}},l.unstable_scheduleCallback=function(S,w,O){var re=l.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?re+O:re):O=re,S){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=O+B,S={id:b++,callback:w,priorityLevel:S,startTime:O,expirationTime:B,sortIndex:-1},O>re?(S.sortIndex=O,i(g,S),r(p)===null&&S===r(g)&&(R?(Q(Y),Y=-1):R=!0,V(oe,O-re))):(S.sortIndex=B,i(p,S),E||L||(E=!0,ae||(ae=!0,k()))),S},l.unstable_shouldYield=ue,l.unstable_wrapCallback=function(S){var w=T;return function(){var O=T;T=w;try{return S.apply(this,arguments)}finally{T=O}}}})(hd)),hd}var ih;function Hb(){return ih||(ih=1,xd.exports=qb()),xd.exports}var gd={exports:{}},zt={};var rh;function $b(){if(rh)return zt;rh=1;var l=Md();function i(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var c={d:{f:r,r:function(){throw Error(i(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},d=Symbol.for("react.portal");function m(p,g,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:v==null?null:""+v,children:p,containerInfo:g,implementation:b}}var f=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,zt.createPortal=function(p,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(i(299));return m(p,g,null,b)},zt.flushSync=function(p){var g=f.T,b=c.p;try{if(f.T=null,c.p=2,p)return p()}finally{f.T=g,c.p=b,c.d.f()}},zt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,c.d.C(p,g))},zt.prefetchDNS=function(p){typeof p=="string"&&c.d.D(p)},zt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var b=g.as,v=h(b,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,L=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?c.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:L}):b==="script"&&c.d.X(p,{crossOrigin:v,integrity:T,fetchPriority:L,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},zt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=h(g.as,g.crossOrigin);c.d.M(p,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&c.d.M(p)},zt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,v=h(b,g.crossOrigin);c.d.L(p,b,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},zt.preloadModule=function(p,g){if(typeof p=="string")if(g){var b=h(g.as,g.crossOrigin);c.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else c.d.m(p)},zt.requestFormReset=function(p){c.d.r(p)},zt.unstable_batchedUpdates=function(p,g){return p(g)},zt.useFormState=function(p,g,b){return f.H.useFormState(p,g,b)},zt.useFormStatus=function(){return f.H.useHostTransitionStatus()},zt.version="19.2.4",zt}var ch;function Fb(){if(ch)return gd.exports;ch=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(i){console.error(i)}}return l(),gd.exports=$b(),gd.exports}var oh;function Vb(){if(oh)return Pl;oh=1;var l=Hb(),i=Md(),r=Fb();function c(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var a=e,s=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(s=a.return),e=a.return;while(e)}return a.tag===3?s:null}function f(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function h(e){if(e.tag===31){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function p(e){if(m(e)!==e)throw Error(c(188))}function g(e){var a=e.alternate;if(!a){if(a=m(e),a===null)throw Error(c(188));return a!==e?null:e}for(var s=e,n=a;;){var o=s.return;if(o===null)break;var u=o.alternate;if(u===null){if(n=o.return,n!==null){s=n;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===s)return p(o),e;if(u===n)return p(o),a;u=u.sibling}throw Error(c(188))}if(s.return!==n.return)s=o,n=u;else{for(var x=!1,j=o.child;j;){if(j===s){x=!0,s=o,n=u;break}if(j===n){x=!0,n=o,s=u;break}j=j.sibling}if(!x){for(j=u.child;j;){if(j===s){x=!0,s=u,n=o;break}if(j===n){x=!0,n=u,s=o;break}j=j.sibling}if(!x)throw Error(c(189))}}if(s.alternate!==n)throw Error(c(190))}if(s.tag!==3)throw Error(c(188));return s.stateNode.current===s?e:a}function b(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=b(e),a!==null)return a;e=e.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),P=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),de=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=A&&e[A]||e["@@iterator"],typeof e=="function"?e:null)}var ee=Symbol.for("react.client.reference");function ce(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ee?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case X:return"Profiler";case D:return"StrictMode";case oe:return"Suspense";case ae:return"SuspenseList";case de:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case P:return e.displayName||"Context";case Q:return(e._context.displayName||"Context")+".Consumer";case le:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return a=e.displayName||null,a!==null?a:ce(e.type)||"Memo";case ie:a=e._payload,e=e._init;try{return ce(e(a))}catch{}}return null}var V=Array.isArray,S=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,w=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},re=[],B=-1;function N(e){return{current:e}}function U(e){0>B||(e.current=re[B],re[B]=null,B--)}function ne(e,a){B++,re[B]=e.current,e.current=a}var se=N(null),be=N(null),Ne=N(null),Se=N(null);function Je(e,a){switch(ne(Ne,a),ne(be,e),ne(se,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?lx(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=lx(a),e=ix(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(se),ne(se,e)}function _(){U(se),U(be),U(Ne)}function fe(e){e.memoizedState!==null&&ne(Se,e);var a=se.current,s=ix(a,e.type);a!==s&&(ne(be,e),ne(se,s))}function _e(e){be.current===e&&(U(se),U(be)),Se.current===e&&(U(Se),Xl._currentValue=O)}var nt,At;function Ge(e){if(nt===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);nt=a&&a[1]||"",At=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nt+e+At}var Ke=!1;function Ta(e,a){if(!e||Ke)return"";Ke=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(a){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var G=K}Reflect.construct(e,[],te)}else{try{te.call()}catch(K){G=K}e.call(te.prototype)}}else{try{throw Error()}catch(K){G=K}(te=e())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=n.DetermineComponentFrameRoot(),x=u[0],j=u[1];if(x&&j){var C=x.split(`
`),F=j.split(`
`);for(o=n=0;n<C.length&&!C[n].includes("DetermineComponentFrameRoot");)n++;for(;o<F.length&&!F[o].includes("DetermineComponentFrameRoot");)o++;if(n===C.length||o===F.length)for(n=C.length-1,o=F.length-1;1<=n&&0<=o&&C[n]!==F[o];)o--;for(;1<=n&&0<=o;n--,o--)if(C[n]!==F[o]){if(n!==1||o!==1)do if(n--,o--,0>o||C[n]!==F[o]){var J=`
`+C[n].replace(" at new "," at ");return e.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",e.displayName)),J}while(1<=n&&0<=o);break}}}finally{Ke=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Ge(s):""}function ia(e,a){switch(e.tag){case 26:case 27:case 5:return Ge(e.type);case 16:return Ge("Lazy");case 13:return e.child!==a&&a!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return Ta(e.type,!1);case 11:return Ta(e.type.render,!1);case 1:return Ta(e.type,!0);case 31:return Ge("Activity");default:return""}}function Zt(e){try{var a="",s=null;do a+=ia(e,s),s=e,e=e.return;while(e);return a}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var Bt=Object.prototype.hasOwnProperty,qa=l.unstable_scheduleCallback,Ha=l.unstable_cancelCallback,dn=l.unstable_shouldYield,un=l.unstable_requestPaint,St=l.unstable_now,Hs=l.unstable_getCurrentPriorityLevel,ke=l.unstable_ImmediatePriority,mn=l.unstable_UserBlockingPriority,Ra=l.unstable_NormalPriority,$a=l.unstable_LowPriority,It=l.unstable_IdlePriority,ll=l.log,Da=l.unstable_setDisableYieldValue,ra=null,Ct=null;function ca(e){if(typeof ll=="function"&&Da(e),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(ra,e)}catch{}}var ot=Math.clz32?Math.clz32:fn,il=Math.log,Fa=Math.LN2;function fn(e){return e>>>=0,e===0?32:31-(il(e)/Fa|0)|0}var qt=256,fs=262144,Va=4194304;function H(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function I(e,a,s){var n=e.pendingLanes;if(n===0)return 0;var o=0,u=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var j=n&134217727;return j!==0?(n=j&~u,n!==0?o=H(n):(x&=j,x!==0?o=H(x):s||(s=j&~e,s!==0&&(o=H(s))))):(j=n&~u,j!==0?o=H(j):x!==0?o=H(x):s||(s=n&~e,s!==0&&(o=H(s)))),o===0?0:a!==0&&a!==o&&(a&u)===0&&(u=o&-o,s=a&-a,u>=s||u===32&&(s&4194048)!==0)?a:o}function ge(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function pe(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ue(){var e=Va;return Va<<=1,(Va&62914560)===0&&(Va=4194304),e}function dt(e){for(var a=[],s=0;31>s;s++)a.push(e);return a}function oa(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pr(e,a,s,n,o,u){var x=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var j=e.entanglements,C=e.expirationTimes,F=e.hiddenUpdates;for(s=x&~s;0<s;){var J=31-ot(s),te=1<<J;j[J]=0,C[J]=-1;var G=F[J];if(G!==null)for(F[J]=null,J=0;J<G.length;J++){var K=G[J];K!==null&&(K.lane&=-536870913)}s&=~te}n!==0&&Ga(e,n,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(x&~a))}function Ga(e,a,s){e.pendingLanes|=a,e.suspendedLanes&=~a;var n=31-ot(a);e.entangledLanes|=a,e.entanglements[n]=e.entanglements[n]|1073741824|s&261930}function xs(e,a){var s=e.entangledLanes|=a;for(e=e.entanglements;s;){var n=31-ot(s),o=1<<n;o&a|e[n]&a&&(e[n]|=a),s&=~o}}function q(e,a){var s=a&-a;return s=(s&42)!==0?1:me(s),(s&(e.suspendedLanes|a))!==0?0:s}function me(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ve(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function De(){var e=w.p;return e!==0?e:(e=window.event,e===void 0?32:Rx(e.type))}function tt(e,a){var s=w.p;try{return w.p=e,a()}finally{w.p=s}}var Ve=Math.random().toString(36).slice(2),Oe="__reactFiber$"+Ve,ct="__reactProps$"+Ve,wt="__reactContainer$"+Ve,Ya="__reactEvents$"+Ve,hs="__reactListeners$"+Ve,Og="__reactHandles$"+Ve,Yd="__reactResources$"+Ve,rl="__reactMarker$"+Ve;function Wr(e){delete e[Oe],delete e[ct],delete e[Ya],delete e[hs],delete e[Og]}function xn(e){var a=e[Oe];if(a)return a;for(var s=e.parentNode;s;){if(a=s[wt]||s[Oe]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(e=fx(e);e!==null;){if(s=e[Oe])return s;e=fx(e)}return a}e=s,s=e.parentNode}return null}function hn(e){if(e=e[Oe]||e[wt]){var a=e.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return e}return null}function cl(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(c(33))}function gn(e){var a=e[Yd];return a||(a=e[Yd]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Tt(e){e[rl]=!0}var Xd=new Set,Qd={};function $s(e,a){pn(e,a),pn(e+"Capture",a)}function pn(e,a){for(Qd[e]=a,e=0;e<a.length;e++)Xd.add(a[e])}var Mg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kd={},Zd={};function Lg(e){return Bt.call(Zd,e)?!0:Bt.call(Kd,e)?!1:Mg.test(e)?Zd[e]=!0:(Kd[e]=!0,!1)}function gi(e,a,s){if(Lg(a))if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var n=a.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+s)}}function pi(e,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+s)}}function Xa(e,a,s,n){if(n===null)e.removeAttribute(s);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(a,s,""+n)}}function da(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Id(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function zg(e,a,s){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,a);if(!e.hasOwnProperty(a)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,u=n.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return o.call(this)},set:function(x){s=""+x,u.call(this,x)}}),Object.defineProperty(e,a,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(x){s=""+x},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function ec(e){if(!e._valueTracker){var a=Id(e)?"checked":"value";e._valueTracker=zg(e,a,""+e[a])}}function Jd(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var s=a.getValue(),n="";return e&&(n=Id(e)?e.checked?"true":"false":e.value),e=n,e!==s?(a.setValue(e),!0):!1}function bi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var kg=/[\n"\\]/g;function ua(e){return e.replace(kg,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function tc(e,a,s,n,o,u,x,j){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),a!=null?x==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+da(a)):e.value!==""+da(a)&&(e.value=""+da(a)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),a!=null?ac(e,x,da(a)):s!=null?ac(e,x,da(s)):n!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?e.name=""+da(j):e.removeAttribute("name")}function Pd(e,a,s,n,o,u,x,j){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),a!=null||s!=null){if(!(u!=="submit"&&u!=="reset"||a!=null)){ec(e);return}s=s!=null?""+da(s):"",a=a!=null?""+da(a):s,j||a===e.value||(e.value=a),e.defaultValue=a}n=n??o,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=j?e.checked:!!n,e.defaultChecked=!!n,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x),ec(e)}function ac(e,a,s){a==="number"&&bi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function bn(e,a,s,n){if(e=e.options,a){a={};for(var o=0;o<s.length;o++)a["$"+s[o]]=!0;for(s=0;s<e.length;s++)o=a.hasOwnProperty("$"+e[s].value),e[s].selected!==o&&(e[s].selected=o),o&&n&&(e[s].defaultSelected=!0)}else{for(s=""+da(s),a=null,o=0;o<e.length;o++){if(e[o].value===s){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}a!==null||e[o].disabled||(a=e[o])}a!==null&&(a.selected=!0)}}function Wd(e,a,s){if(a!=null&&(a=""+da(a),a!==e.value&&(e.value=a),s==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=s!=null?""+da(s):""}function eu(e,a,s,n){if(a==null){if(n!=null){if(s!=null)throw Error(c(92));if(V(n)){if(1<n.length)throw Error(c(93));n=n[0]}s=n}s==null&&(s=""),a=s}s=da(a),e.defaultValue=s,n=e.textContent,n===s&&n!==""&&n!==null&&(e.value=n),ec(e)}function yn(e,a){if(a){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=a;return}}e.textContent=a}var Ug=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tu(e,a,s){var n=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?n?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":n?e.setProperty(a,s):typeof s!="number"||s===0||Ug.has(a)?a==="float"?e.cssFloat=s:e[a]=(""+s).trim():e[a]=s+"px"}function au(e,a,s){if(a!=null&&typeof a!="object")throw Error(c(62));if(e=e.style,s!=null){for(var n in s)!s.hasOwnProperty(n)||a!=null&&a.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var o in a)n=a[o],a.hasOwnProperty(o)&&s[o]!==n&&tu(e,o,n)}else for(var u in a)a.hasOwnProperty(u)&&tu(e,u,a[u])}function sc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _g=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yi(e){return Bg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Qa(){}var nc=null;function lc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vn=null,jn=null;function su(e){var a=hn(e);if(a&&(e=a.stateNode)){var s=e[ct]||null;e:switch(e=a.stateNode,a.type){case"input":if(tc(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ua(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var n=s[a];if(n!==e&&n.form===e.form){var o=n[ct]||null;if(!o)throw Error(c(90));tc(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(a=0;a<s.length;a++)n=s[a],n.form===e.form&&Jd(n)}break e;case"textarea":Wd(e,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&bn(e,!!s.multiple,a,!1)}}}var ic=!1;function nu(e,a,s){if(ic)return e(a,s);ic=!0;try{var n=e(a);return n}finally{if(ic=!1,(vn!==null||jn!==null)&&(ir(),vn&&(a=vn,e=jn,jn=vn=null,su(a),e)))for(a=0;a<e.length;a++)su(e[a])}}function ol(e,a){var s=e.stateNode;if(s===null)return null;var n=s[ct]||null;if(n===null)return null;s=n[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(c(231,a,typeof s));return s}var Ka=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rc=!1;if(Ka)try{var dl={};Object.defineProperty(dl,"passive",{get:function(){rc=!0}}),window.addEventListener("test",dl,dl),window.removeEventListener("test",dl,dl)}catch{rc=!1}var gs=null,cc=null,vi=null;function lu(){if(vi)return vi;var e,a=cc,s=a.length,n,o="value"in gs?gs.value:gs.textContent,u=o.length;for(e=0;e<s&&a[e]===o[e];e++);var x=s-e;for(n=1;n<=x&&a[s-n]===o[u-n];n++);return vi=o.slice(e,1<n?1-n:void 0)}function ji(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function iu(){return!1}function $t(e){function a(s,n,o,u,x){this._reactName=s,this._targetInst=o,this.type=n,this.nativeEvent=u,this.target=x,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(s=e[j],this[j]=s?s(u):u[j]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Ni:iu,this.isPropagationStopped=iu,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),a}var Fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=$t(Fs),ul=v({},Fs,{view:0,detail:0}),qg=$t(ul),oc,dc,ml,wi=v({},ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ml&&(ml&&e.type==="mousemove"?(oc=e.screenX-ml.screenX,dc=e.screenY-ml.screenY):dc=oc=0,ml=e),oc)},movementY:function(e){return"movementY"in e?e.movementY:dc}}),ru=$t(wi),Hg=v({},wi,{dataTransfer:0}),$g=$t(Hg),Fg=v({},ul,{relatedTarget:0}),uc=$t(Fg),Vg=v({},Fs,{animationName:0,elapsedTime:0,pseudoElement:0}),Gg=$t(Vg),Yg=v({},Fs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xg=$t(Yg),Qg=v({},Fs,{data:0}),cu=$t(Qg),Kg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ig={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jg(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=Ig[e])?!!a[e]:!1}function mc(){return Jg}var Pg=v({},ul,{key:function(e){if(e.key){var a=Kg[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=ji(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mc,charCode:function(e){return e.type==="keypress"?ji(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ji(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wg=$t(Pg),e0=v({},wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ou=$t(e0),t0=v({},ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mc}),a0=$t(t0),s0=v({},Fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),n0=$t(s0),l0=v({},wi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),i0=$t(l0),r0=v({},Fs,{newState:0,oldState:0}),c0=$t(r0),o0=[9,13,27,32],fc=Ka&&"CompositionEvent"in window,fl=null;Ka&&"documentMode"in document&&(fl=document.documentMode);var d0=Ka&&"TextEvent"in window&&!fl,du=Ka&&(!fc||fl&&8<fl&&11>=fl),uu=" ",mu=!1;function fu(e,a){switch(e){case"keyup":return o0.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nn=!1;function u0(e,a){switch(e){case"compositionend":return xu(a);case"keypress":return a.which!==32?null:(mu=!0,uu);case"textInput":return e=a.data,e===uu&&mu?null:e;default:return null}}function m0(e,a){if(Nn)return e==="compositionend"||!fc&&fu(e,a)?(e=lu(),vi=cc=gs=null,Nn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return du&&a.locale!=="ko"?null:a.data;default:return null}}var f0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hu(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!f0[e.type]:a==="textarea"}function gu(e,a,s,n){vn?jn?jn.push(n):jn=[n]:vn=n,a=fr(a,"onChange"),0<a.length&&(s=new Si("onChange","change",null,s,n),e.push({event:s,listeners:a}))}var xl=null,hl=null;function x0(e){Wf(e,0)}function Ei(e){var a=cl(e);if(Jd(a))return e}function pu(e,a){if(e==="change")return a}var bu=!1;if(Ka){var xc;if(Ka){var hc="oninput"in document;if(!hc){var yu=document.createElement("div");yu.setAttribute("oninput","return;"),hc=typeof yu.oninput=="function"}xc=hc}else xc=!1;bu=xc&&(!document.documentMode||9<document.documentMode)}function vu(){xl&&(xl.detachEvent("onpropertychange",ju),hl=xl=null)}function ju(e){if(e.propertyName==="value"&&Ei(hl)){var a=[];gu(a,hl,e,lc(e)),nu(x0,a)}}function h0(e,a,s){e==="focusin"?(vu(),xl=a,hl=s,xl.attachEvent("onpropertychange",ju)):e==="focusout"&&vu()}function g0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ei(hl)}function p0(e,a){if(e==="click")return Ei(a)}function b0(e,a){if(e==="input"||e==="change")return Ei(a)}function y0(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var Jt=typeof Object.is=="function"?Object.is:y0;function gl(e,a){if(Jt(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var s=Object.keys(e),n=Object.keys(a);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var o=s[n];if(!Bt.call(a,o)||!Jt(e[o],a[o]))return!1}return!0}function Nu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Su(e,a){var s=Nu(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=a&&n>=a)return{node:s,offset:a-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Nu(s)}}function wu(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?wu(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function Eu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=bi(e.document);a instanceof e.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)e=a.contentWindow;else break;a=bi(e.document)}return a}function gc(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var v0=Ka&&"documentMode"in document&&11>=document.documentMode,Sn=null,pc=null,pl=null,bc=!1;function Au(e,a,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;bc||Sn==null||Sn!==bi(n)||(n=Sn,"selectionStart"in n&&gc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),pl&&gl(pl,n)||(pl=n,n=fr(pc,"onSelect"),0<n.length&&(a=new Si("onSelect","select",null,a,s),e.push({event:a,listeners:n}),a.target=Sn)))}function Vs(e,a){var s={};return s[e.toLowerCase()]=a.toLowerCase(),s["Webkit"+e]="webkit"+a,s["Moz"+e]="moz"+a,s}var wn={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionrun:Vs("Transition","TransitionRun"),transitionstart:Vs("Transition","TransitionStart"),transitioncancel:Vs("Transition","TransitionCancel"),transitionend:Vs("Transition","TransitionEnd")},yc={},Cu={};Ka&&(Cu=document.createElement("div").style,"AnimationEvent"in window||(delete wn.animationend.animation,delete wn.animationiteration.animation,delete wn.animationstart.animation),"TransitionEvent"in window||delete wn.transitionend.transition);function Gs(e){if(yc[e])return yc[e];if(!wn[e])return e;var a=wn[e],s;for(s in a)if(a.hasOwnProperty(s)&&s in Cu)return yc[e]=a[s];return e}var Tu=Gs("animationend"),Ru=Gs("animationiteration"),Du=Gs("animationstart"),j0=Gs("transitionrun"),N0=Gs("transitionstart"),S0=Gs("transitioncancel"),Ou=Gs("transitionend"),Mu=new Map,vc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vc.push("scrollEnd");function va(e,a){Mu.set(e,a),$s(a,[e])}var Ai=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ma=[],En=0,jc=0;function Ci(){for(var e=En,a=jc=En=0;a<e;){var s=ma[a];ma[a++]=null;var n=ma[a];ma[a++]=null;var o=ma[a];ma[a++]=null;var u=ma[a];if(ma[a++]=null,n!==null&&o!==null){var x=n.pending;x===null?o.next=o:(o.next=x.next,x.next=o),n.pending=o}u!==0&&Lu(s,o,u)}}function Ti(e,a,s,n){ma[En++]=e,ma[En++]=a,ma[En++]=s,ma[En++]=n,jc|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Nc(e,a,s,n){return Ti(e,a,s,n),Ri(e)}function Ys(e,a){return Ti(e,null,null,a),Ri(e)}function Lu(e,a,s){e.lanes|=s;var n=e.alternate;n!==null&&(n.lanes|=s);for(var o=!1,u=e.return;u!==null;)u.childLanes|=s,n=u.alternate,n!==null&&(n.childLanes|=s),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&a!==null&&(o=31-ot(s),e=u.hiddenUpdates,n=e[o],n===null?e[o]=[a]:n.push(a),a.lane=s|536870912),u):null}function Ri(e){if(50<ql)throw ql=0,Mo=null,Error(c(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var An={};function w0(e,a,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(e,a,s,n){return new w0(e,a,s,n)}function Sc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Za(e,a){var s=e.alternate;return s===null?(s=Pt(e.tag,a,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=a,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,a=e.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function zu(e,a){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,a=s.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function Di(e,a,s,n,o,u){var x=0;if(n=e,typeof e=="function")Sc(e)&&(x=1);else if(typeof e=="string")x=Rp(e,s,se.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case de:return e=Pt(31,s,a,o),e.elementType=de,e.lanes=u,e;case R:return Xs(s.children,o,u,a);case D:x=8,o|=24;break;case X:return e=Pt(12,s,a,o|2),e.elementType=X,e.lanes=u,e;case oe:return e=Pt(13,s,a,o),e.elementType=oe,e.lanes=u,e;case ae:return e=Pt(19,s,a,o),e.elementType=ae,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case P:x=10;break e;case Q:x=9;break e;case le:x=11;break e;case Y:x=14;break e;case ie:x=16,n=null;break e}x=29,s=Error(c(130,e===null?"null":typeof e,"")),n=null}return a=Pt(x,s,a,o),a.elementType=e,a.type=n,a.lanes=u,a}function Xs(e,a,s,n){return e=Pt(7,e,n,a),e.lanes=s,e}function wc(e,a,s){return e=Pt(6,e,null,a),e.lanes=s,e}function ku(e){var a=Pt(18,null,null,0);return a.stateNode=e,a}function Ec(e,a,s){return a=Pt(4,e.children!==null?e.children:[],e.key,a),a.lanes=s,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var Uu=new WeakMap;function fa(e,a){if(typeof e=="object"&&e!==null){var s=Uu.get(e);return s!==void 0?s:(a={value:e,source:a,stack:Zt(a)},Uu.set(e,a),a)}return{value:e,source:a,stack:Zt(a)}}var Cn=[],Tn=0,Oi=null,bl=0,xa=[],ha=0,ps=null,Oa=1,Ma="";function Ia(e,a){Cn[Tn++]=bl,Cn[Tn++]=Oi,Oi=e,bl=a}function _u(e,a,s){xa[ha++]=Oa,xa[ha++]=Ma,xa[ha++]=ps,ps=e;var n=Oa;e=Ma;var o=32-ot(n)-1;n&=~(1<<o),s+=1;var u=32-ot(a)+o;if(30<u){var x=o-o%5;u=(n&(1<<x)-1).toString(32),n>>=x,o-=x,Oa=1<<32-ot(a)+o|s<<o|n,Ma=u+e}else Oa=1<<u|s<<o|n,Ma=e}function Ac(e){e.return!==null&&(Ia(e,1),_u(e,1,0))}function Cc(e){for(;e===Oi;)Oi=Cn[--Tn],Cn[Tn]=null,bl=Cn[--Tn],Cn[Tn]=null;for(;e===ps;)ps=xa[--ha],xa[ha]=null,Ma=xa[--ha],xa[ha]=null,Oa=xa[--ha],xa[ha]=null}function Bu(e,a){xa[ha++]=Oa,xa[ha++]=Ma,xa[ha++]=ps,Oa=a.id,Ma=a.overflow,ps=e}var Dt=null,lt=null,Fe=!1,bs=null,ga=!1,Tc=Error(c(519));function ys(e){var a=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yl(fa(a,e)),Tc}function qu(e){var a=e.stateNode,s=e.type,n=e.memoizedProps;switch(a[Oe]=e,a[ct]=n,s){case"dialog":qe("cancel",a),qe("close",a);break;case"iframe":case"object":case"embed":qe("load",a);break;case"video":case"audio":for(s=0;s<$l.length;s++)qe($l[s],a);break;case"source":qe("error",a);break;case"img":case"image":case"link":qe("error",a),qe("load",a);break;case"details":qe("toggle",a);break;case"input":qe("invalid",a),Pd(a,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":qe("invalid",a);break;case"textarea":qe("invalid",a),eu(a,n.value,n.defaultValue,n.children)}s=n.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||n.suppressHydrationWarning===!0||sx(a.textContent,s)?(n.popover!=null&&(qe("beforetoggle",a),qe("toggle",a)),n.onScroll!=null&&qe("scroll",a),n.onScrollEnd!=null&&qe("scrollend",a),n.onClick!=null&&(a.onclick=Qa),a=!0):a=!1,a||ys(e,!0)}function Hu(e){for(Dt=e.return;Dt;)switch(Dt.tag){case 5:case 31:case 13:ga=!1;return;case 27:case 3:ga=!0;return;default:Dt=Dt.return}}function Rn(e){if(e!==Dt)return!1;if(!Fe)return Hu(e),Fe=!0,!1;var a=e.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Qo(e.type,e.memoizedProps)),s=!s),s&&lt&&ys(e),Hu(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));lt=mx(e)}else if(a===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));lt=mx(e)}else a===27?(a=lt,Ls(e.type)?(e=Po,Po=null,lt=e):lt=a):lt=Dt?ba(e.stateNode.nextSibling):null;return!0}function Qs(){lt=Dt=null,Fe=!1}function Rc(){var e=bs;return e!==null&&(Yt===null?Yt=e:Yt.push.apply(Yt,e),bs=null),e}function yl(e){bs===null?bs=[e]:bs.push(e)}var Dc=N(null),Ks=null,Ja=null;function vs(e,a,s){ne(Dc,a._currentValue),a._currentValue=s}function Pa(e){e._currentValue=Dc.current,U(Dc)}function Oc(e,a,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,n!==null&&(n.childLanes|=a)):n!==null&&(n.childLanes&a)!==a&&(n.childLanes|=a),e===s)break;e=e.return}}function Mc(e,a,s,n){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var x=o.child;u=u.firstContext;e:for(;u!==null;){var j=u;u=o;for(var C=0;C<a.length;C++)if(j.context===a[C]){u.lanes|=s,j=u.alternate,j!==null&&(j.lanes|=s),Oc(u.return,s,e),n||(x=null);break e}u=j.next}}else if(o.tag===18){if(x=o.return,x===null)throw Error(c(341));x.lanes|=s,u=x.alternate,u!==null&&(u.lanes|=s),Oc(x,s,e),x=null}else x=o.child;if(x!==null)x.return=o;else for(x=o;x!==null;){if(x===e){x=null;break}if(o=x.sibling,o!==null){o.return=x.return,x=o;break}x=x.return}o=x}}function Dn(e,a,s,n){e=null;for(var o=a,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var x=o.alternate;if(x===null)throw Error(c(387));if(x=x.memoizedProps,x!==null){var j=o.type;Jt(o.pendingProps.value,x.value)||(e!==null?e.push(j):e=[j])}}else if(o===Se.current){if(x=o.alternate,x===null)throw Error(c(387));x.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Xl):e=[Xl])}o=o.return}e!==null&&Mc(a,e,s,n),a.flags|=262144}function Mi(e){for(e=e.firstContext;e!==null;){if(!Jt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Zs(e){Ks=e,Ja=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ot(e){return $u(Ks,e)}function Li(e,a){return Ks===null&&Zs(e),$u(e,a)}function $u(e,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},Ja===null){if(e===null)throw Error(c(308));Ja=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else Ja=Ja.next=a;return s}var E0=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(s,n){e.push(n)}};this.abort=function(){a.aborted=!0,e.forEach(function(s){return s()})}},A0=l.unstable_scheduleCallback,C0=l.unstable_NormalPriority,pt={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lc(){return{controller:new E0,data:new Map,refCount:0}}function vl(e){e.refCount--,e.refCount===0&&A0(C0,function(){e.controller.abort()})}var jl=null,zc=0,On=0,Mn=null;function T0(e,a){if(jl===null){var s=jl=[];zc=0,On=Bo(),Mn={status:"pending",value:void 0,then:function(n){s.push(n)}}}return zc++,a.then(Fu,Fu),a}function Fu(){if(--zc===0&&jl!==null){Mn!==null&&(Mn.status="fulfilled");var e=jl;jl=null,On=0,Mn=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function R0(e,a){var s=[],n={status:"pending",value:null,reason:null,then:function(o){s.push(o)}};return e.then(function(){n.status="fulfilled",n.value=a;for(var o=0;o<s.length;o++)(0,s[o])(a)},function(o){for(n.status="rejected",n.reason=o,o=0;o<s.length;o++)(0,s[o])(void 0)}),n}var Vu=S.S;S.S=function(e,a){Cf=St(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&T0(e,a),Vu!==null&&Vu(e,a)};var Is=N(null);function kc(){var e=Is.current;return e!==null?e:at.pooledCache}function zi(e,a){a===null?ne(Is,Is.current):ne(Is,a.pool)}function Gu(){var e=kc();return e===null?null:{parent:pt._currentValue,pool:e}}var Ln=Error(c(460)),Uc=Error(c(474)),ki=Error(c(542)),Ui={then:function(){}};function Yu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Xu(e,a,s){switch(s=e[s],s===void 0?e.push(a):s!==a&&(a.then(Qa,Qa),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Ku(e),e;default:if(typeof a.status=="string")a.then(Qa,Qa);else{if(e=at,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=a,e.status="pending",e.then(function(n){if(a.status==="pending"){var o=a;o.status="fulfilled",o.value=n}},function(n){if(a.status==="pending"){var o=a;o.status="rejected",o.reason=n}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Ku(e),e}throw Ps=a,Ln}}function Js(e){try{var a=e._init;return a(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ps=s,Ln):s}}var Ps=null;function Qu(){if(Ps===null)throw Error(c(459));var e=Ps;return Ps=null,e}function Ku(e){if(e===Ln||e===ki)throw Error(c(483))}var zn=null,Nl=0;function _i(e){var a=Nl;return Nl+=1,zn===null&&(zn=[]),Xu(zn,e,a)}function Sl(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function Bi(e,a){throw a.$$typeof===T?Error(c(525)):(e=Object.prototype.toString.call(a),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function Zu(e){function a(z,M){if(e){var $=z.deletions;$===null?(z.deletions=[M],z.flags|=16):$.push(M)}}function s(z,M){if(!e)return null;for(;M!==null;)a(z,M),M=M.sibling;return null}function n(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function o(z,M){return z=Za(z,M),z.index=0,z.sibling=null,z}function u(z,M,$){return z.index=$,e?($=z.alternate,$!==null?($=$.index,$<M?(z.flags|=67108866,M):$):(z.flags|=67108866,M)):(z.flags|=1048576,M)}function x(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function j(z,M,$,W){return M===null||M.tag!==6?(M=wc($,z.mode,W),M.return=z,M):(M=o(M,$),M.return=z,M)}function C(z,M,$,W){var we=$.type;return we===R?J(z,M,$.props.children,W,$.key):M!==null&&(M.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===ie&&Js(we)===M.type)?(M=o(M,$.props),Sl(M,$),M.return=z,M):(M=Di($.type,$.key,$.props,null,z.mode,W),Sl(M,$),M.return=z,M)}function F(z,M,$,W){return M===null||M.tag!==4||M.stateNode.containerInfo!==$.containerInfo||M.stateNode.implementation!==$.implementation?(M=Ec($,z.mode,W),M.return=z,M):(M=o(M,$.children||[]),M.return=z,M)}function J(z,M,$,W,we){return M===null||M.tag!==7?(M=Xs($,z.mode,W,we),M.return=z,M):(M=o(M,$),M.return=z,M)}function te(z,M,$){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=wc(""+M,z.mode,$),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case L:return $=Di(M.type,M.key,M.props,null,z.mode,$),Sl($,M),$.return=z,$;case E:return M=Ec(M,z.mode,$),M.return=z,M;case ie:return M=Js(M),te(z,M,$)}if(V(M)||k(M))return M=Xs(M,z.mode,$,null),M.return=z,M;if(typeof M.then=="function")return te(z,_i(M),$);if(M.$$typeof===P)return te(z,Li(z,M),$);Bi(z,M)}return null}function G(z,M,$,W){var we=M!==null?M.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return we!==null?null:j(z,M,""+$,W);if(typeof $=="object"&&$!==null){switch($.$$typeof){case L:return $.key===we?C(z,M,$,W):null;case E:return $.key===we?F(z,M,$,W):null;case ie:return $=Js($),G(z,M,$,W)}if(V($)||k($))return we!==null?null:J(z,M,$,W,null);if(typeof $.then=="function")return G(z,M,_i($),W);if($.$$typeof===P)return G(z,M,Li(z,$),W);Bi(z,$)}return null}function K(z,M,$,W,we){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return z=z.get($)||null,j(M,z,""+W,we);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case L:return z=z.get(W.key===null?$:W.key)||null,C(M,z,W,we);case E:return z=z.get(W.key===null?$:W.key)||null,F(M,z,W,we);case ie:return W=Js(W),K(z,M,$,W,we)}if(V(W)||k(W))return z=z.get($)||null,J(M,z,W,we,null);if(typeof W.then=="function")return K(z,M,$,_i(W),we);if(W.$$typeof===P)return K(z,M,$,Li(M,W),we);Bi(M,W)}return null}function ye(z,M,$,W){for(var we=null,Ye=null,je=M,ze=M=0,$e=null;je!==null&&ze<$.length;ze++){je.index>ze?($e=je,je=null):$e=je.sibling;var Xe=G(z,je,$[ze],W);if(Xe===null){je===null&&(je=$e);break}e&&je&&Xe.alternate===null&&a(z,je),M=u(Xe,M,ze),Ye===null?we=Xe:Ye.sibling=Xe,Ye=Xe,je=$e}if(ze===$.length)return s(z,je),Fe&&Ia(z,ze),we;if(je===null){for(;ze<$.length;ze++)je=te(z,$[ze],W),je!==null&&(M=u(je,M,ze),Ye===null?we=je:Ye.sibling=je,Ye=je);return Fe&&Ia(z,ze),we}for(je=n(je);ze<$.length;ze++)$e=K(je,z,ze,$[ze],W),$e!==null&&(e&&$e.alternate!==null&&je.delete($e.key===null?ze:$e.key),M=u($e,M,ze),Ye===null?we=$e:Ye.sibling=$e,Ye=$e);return e&&je.forEach(function(Bs){return a(z,Bs)}),Fe&&Ia(z,ze),we}function Ee(z,M,$,W){if($==null)throw Error(c(151));for(var we=null,Ye=null,je=M,ze=M=0,$e=null,Xe=$.next();je!==null&&!Xe.done;ze++,Xe=$.next()){je.index>ze?($e=je,je=null):$e=je.sibling;var Bs=G(z,je,Xe.value,W);if(Bs===null){je===null&&(je=$e);break}e&&je&&Bs.alternate===null&&a(z,je),M=u(Bs,M,ze),Ye===null?we=Bs:Ye.sibling=Bs,Ye=Bs,je=$e}if(Xe.done)return s(z,je),Fe&&Ia(z,ze),we;if(je===null){for(;!Xe.done;ze++,Xe=$.next())Xe=te(z,Xe.value,W),Xe!==null&&(M=u(Xe,M,ze),Ye===null?we=Xe:Ye.sibling=Xe,Ye=Xe);return Fe&&Ia(z,ze),we}for(je=n(je);!Xe.done;ze++,Xe=$.next())Xe=K(je,z,ze,Xe.value,W),Xe!==null&&(e&&Xe.alternate!==null&&je.delete(Xe.key===null?ze:Xe.key),M=u(Xe,M,ze),Ye===null?we=Xe:Ye.sibling=Xe,Ye=Xe);return e&&je.forEach(function(Hp){return a(z,Hp)}),Fe&&Ia(z,ze),we}function et(z,M,$,W){if(typeof $=="object"&&$!==null&&$.type===R&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case L:e:{for(var we=$.key;M!==null;){if(M.key===we){if(we=$.type,we===R){if(M.tag===7){s(z,M.sibling),W=o(M,$.props.children),W.return=z,z=W;break e}}else if(M.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===ie&&Js(we)===M.type){s(z,M.sibling),W=o(M,$.props),Sl(W,$),W.return=z,z=W;break e}s(z,M);break}else a(z,M);M=M.sibling}$.type===R?(W=Xs($.props.children,z.mode,W,$.key),W.return=z,z=W):(W=Di($.type,$.key,$.props,null,z.mode,W),Sl(W,$),W.return=z,z=W)}return x(z);case E:e:{for(we=$.key;M!==null;){if(M.key===we)if(M.tag===4&&M.stateNode.containerInfo===$.containerInfo&&M.stateNode.implementation===$.implementation){s(z,M.sibling),W=o(M,$.children||[]),W.return=z,z=W;break e}else{s(z,M);break}else a(z,M);M=M.sibling}W=Ec($,z.mode,W),W.return=z,z=W}return x(z);case ie:return $=Js($),et(z,M,$,W)}if(V($))return ye(z,M,$,W);if(k($)){if(we=k($),typeof we!="function")throw Error(c(150));return $=we.call($),Ee(z,M,$,W)}if(typeof $.then=="function")return et(z,M,_i($),W);if($.$$typeof===P)return et(z,M,Li(z,$),W);Bi(z,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,M!==null&&M.tag===6?(s(z,M.sibling),W=o(M,$),W.return=z,z=W):(s(z,M),W=wc($,z.mode,W),W.return=z,z=W),x(z)):s(z,M)}return function(z,M,$,W){try{Nl=0;var we=et(z,M,$,W);return zn=null,we}catch(je){if(je===Ln||je===ki)throw je;var Ye=Pt(29,je,null,z.mode);return Ye.lanes=W,Ye.return=z,Ye}}}var Ws=Zu(!0),Iu=Zu(!1),js=!1;function _c(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bc(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ns(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ss(e,a,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Qe&2)!==0){var o=n.pending;return o===null?a.next=a:(a.next=o.next,o.next=a),n.pending=a,a=Ri(e),Lu(e,null,s),a}return Ti(e,n,a,s),Ri(e)}function wl(e,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var n=a.lanes;n&=e.pendingLanes,s|=n,a.lanes=s,xs(e,s)}}function qc(e,a){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var o=null,u=null;if(s=s.firstBaseUpdate,s!==null){do{var x={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};u===null?o=u=x:u=u.next=x,s=s.next}while(s!==null);u===null?o=u=a:u=u.next=a}else o=u=a;s={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:n.shared,callbacks:n.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=a:e.next=a,s.lastBaseUpdate=a}var Hc=!1;function El(){if(Hc){var e=Mn;if(e!==null)throw e}}function Al(e,a,s,n){Hc=!1;var o=e.updateQueue;js=!1;var u=o.firstBaseUpdate,x=o.lastBaseUpdate,j=o.shared.pending;if(j!==null){o.shared.pending=null;var C=j,F=C.next;C.next=null,x===null?u=F:x.next=F,x=C;var J=e.alternate;J!==null&&(J=J.updateQueue,j=J.lastBaseUpdate,j!==x&&(j===null?J.firstBaseUpdate=F:j.next=F,J.lastBaseUpdate=C))}if(u!==null){var te=o.baseState;x=0,J=F=C=null,j=u;do{var G=j.lane&-536870913,K=G!==j.lane;if(K?(He&G)===G:(n&G)===G){G!==0&&G===On&&(Hc=!0),J!==null&&(J=J.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var ye=e,Ee=j;G=a;var et=s;switch(Ee.tag){case 1:if(ye=Ee.payload,typeof ye=="function"){te=ye.call(et,te,G);break e}te=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ee.payload,G=typeof ye=="function"?ye.call(et,te,G):ye,G==null)break e;te=v({},te,G);break e;case 2:js=!0}}G=j.callback,G!==null&&(e.flags|=64,K&&(e.flags|=8192),K=o.callbacks,K===null?o.callbacks=[G]:K.push(G))}else K={lane:G,tag:j.tag,payload:j.payload,callback:j.callback,next:null},J===null?(F=J=K,C=te):J=J.next=K,x|=G;if(j=j.next,j===null){if(j=o.shared.pending,j===null)break;K=j,j=K.next,K.next=null,o.lastBaseUpdate=K,o.shared.pending=null}}while(!0);J===null&&(C=te),o.baseState=C,o.firstBaseUpdate=F,o.lastBaseUpdate=J,u===null&&(o.shared.lanes=0),Ts|=x,e.lanes=x,e.memoizedState=te}}function Ju(e,a){if(typeof e!="function")throw Error(c(191,e));e.call(a)}function Pu(e,a){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Ju(s[e],a)}var kn=N(null),qi=N(0);function Wu(e,a){e=rs,ne(qi,e),ne(kn,a),rs=e|a.baseLanes}function $c(){ne(qi,rs),ne(kn,kn.current)}function Fc(){rs=qi.current,U(kn),U(qi)}var Wt=N(null),pa=null;function ws(e){var a=e.alternate;ne(xt,xt.current&1),ne(Wt,e),pa===null&&(a===null||kn.current!==null||a.memoizedState!==null)&&(pa=e)}function Vc(e){ne(xt,xt.current),ne(Wt,e),pa===null&&(pa=e)}function em(e){e.tag===22?(ne(xt,xt.current),ne(Wt,e),pa===null&&(pa=e)):Es()}function Es(){ne(xt,xt.current),ne(Wt,Wt.current)}function ea(e){U(Wt),pa===e&&(pa=null),U(xt)}var xt=N(0);function Hi(e){for(var a=e;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Io(s)||Jo(s)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Wa=0,Le=null,Pe=null,bt=null,$i=!1,Un=!1,en=!1,Fi=0,Cl=0,_n=null,D0=0;function ut(){throw Error(c(321))}function Gc(e,a){if(a===null)return!1;for(var s=0;s<a.length&&s<e.length;s++)if(!Jt(e[s],a[s]))return!1;return!0}function Yc(e,a,s,n,o,u){return Wa=u,Le=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,S.H=e===null||e.memoizedState===null?_m:io,en=!1,u=s(n,o),en=!1,Un&&(u=am(a,s,n,o)),tm(e),u}function tm(e){S.H=Dl;var a=Pe!==null&&Pe.next!==null;if(Wa=0,bt=Pe=Le=null,$i=!1,Cl=0,_n=null,a)throw Error(c(300));e===null||yt||(e=e.dependencies,e!==null&&Mi(e)&&(yt=!0))}function am(e,a,s,n){Le=e;var o=0;do{if(Un&&(_n=null),Cl=0,Un=!1,25<=o)throw Error(c(301));if(o+=1,bt=Pe=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}S.H=Bm,u=a(s,n)}while(Un);return u}function O0(){var e=S.H,a=e.useState()[0];return a=typeof a.then=="function"?Tl(a):a,e=e.useState()[0],(Pe!==null?Pe.memoizedState:null)!==e&&(Le.flags|=1024),a}function Xc(){var e=Fi!==0;return Fi=0,e}function Qc(e,a,s){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~s}function Kc(e){if($i){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}$i=!1}Wa=0,bt=Pe=Le=null,Un=!1,Cl=Fi=0,_n=null}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Le.memoizedState=bt=e:bt=bt.next=e,bt}function ht(){if(Pe===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var a=bt===null?Le.memoizedState:bt.next;if(a!==null)bt=a,Pe=e;else{if(e===null)throw Le.alternate===null?Error(c(467)):Error(c(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},bt===null?Le.memoizedState=bt=e:bt=bt.next=e}return bt}function Vi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tl(e){var a=Cl;return Cl+=1,_n===null&&(_n=[]),e=Xu(_n,e,a),a=Le,(bt===null?a.memoizedState:bt.next)===null&&(a=a.alternate,S.H=a===null||a.memoizedState===null?_m:io),e}function Gi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Tl(e);if(e.$$typeof===P)return Ot(e)}throw Error(c(438,String(e)))}function Zc(e){var a=null,s=Le.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var n=Le.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(a={data:n.data.map(function(o){return o.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=Vi(),Le.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(e),n=0;n<e;n++)s[n]=ue;return a.index++,s}function es(e,a){return typeof a=="function"?a(e):a}function Yi(e){var a=ht();return Ic(a,Pe,e)}function Ic(e,a,s){var n=e.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=s;var o=e.baseQueue,u=n.pending;if(u!==null){if(o!==null){var x=o.next;o.next=u.next,u.next=x}a.baseQueue=o=u,n.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{a=o.next;var j=x=null,C=null,F=a,J=!1;do{var te=F.lane&-536870913;if(te!==F.lane?(He&te)===te:(Wa&te)===te){var G=F.revertLane;if(G===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),te===On&&(J=!0);else if((Wa&G)===G){F=F.next,G===On&&(J=!0);continue}else te={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},C===null?(j=C=te,x=u):C=C.next=te,Le.lanes|=G,Ts|=G;te=F.action,en&&s(u,te),u=F.hasEagerState?F.eagerState:s(u,te)}else G={lane:te,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},C===null?(j=C=G,x=u):C=C.next=G,Le.lanes|=te,Ts|=te;F=F.next}while(F!==null&&F!==a);if(C===null?x=u:C.next=j,!Jt(u,e.memoizedState)&&(yt=!0,J&&(s=Mn,s!==null)))throw s;e.memoizedState=u,e.baseState=x,e.baseQueue=C,n.lastRenderedState=u}return o===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Jc(e){var a=ht(),s=a.queue;if(s===null)throw Error(c(311));s.lastRenderedReducer=e;var n=s.dispatch,o=s.pending,u=a.memoizedState;if(o!==null){s.pending=null;var x=o=o.next;do u=e(u,x.action),x=x.next;while(x!==o);Jt(u,a.memoizedState)||(yt=!0),a.memoizedState=u,a.baseQueue===null&&(a.baseState=u),s.lastRenderedState=u}return[u,n]}function sm(e,a,s){var n=Le,o=ht(),u=Fe;if(u){if(s===void 0)throw Error(c(407));s=s()}else s=a();var x=!Jt((Pe||o).memoizedState,s);if(x&&(o.memoizedState=s,yt=!0),o=o.queue,eo(im.bind(null,n,o,e),[e]),o.getSnapshot!==a||x||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,Bn(9,{destroy:void 0},lm.bind(null,n,o,s,a),null),at===null)throw Error(c(349));u||(Wa&127)!==0||nm(n,a,s)}return s}function nm(e,a,s){e.flags|=16384,e={getSnapshot:a,value:s},a=Le.updateQueue,a===null?(a=Vi(),Le.updateQueue=a,a.stores=[e]):(s=a.stores,s===null?a.stores=[e]:s.push(e))}function lm(e,a,s,n){a.value=s,a.getSnapshot=n,rm(a)&&cm(e)}function im(e,a,s){return s(function(){rm(a)&&cm(e)})}function rm(e){var a=e.getSnapshot;e=e.value;try{var s=a();return!Jt(e,s)}catch{return!0}}function cm(e){var a=Ys(e,2);a!==null&&Xt(a,e,2)}function Pc(e){var a=Ht();if(typeof e=="function"){var s=e;if(e=s(),en){ca(!0);try{s()}finally{ca(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:e},a}function om(e,a,s,n){return e.baseState=s,Ic(e,Pe,typeof n=="function"?n:es)}function M0(e,a,s,n,o){if(Ki(e))throw Error(c(485));if(e=a.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){u.listeners.push(x)}};S.T!==null?s(!0):u.isTransition=!1,n(u),s=a.pending,s===null?(u.next=a.pending=u,dm(a,u)):(u.next=s.next,a.pending=s.next=u)}}function dm(e,a){var s=a.action,n=a.payload,o=e.state;if(a.isTransition){var u=S.T,x={};S.T=x;try{var j=s(o,n),C=S.S;C!==null&&C(x,j),um(e,a,j)}catch(F){Wc(e,a,F)}finally{u!==null&&x.types!==null&&(u.types=x.types),S.T=u}}else try{u=s(o,n),um(e,a,u)}catch(F){Wc(e,a,F)}}function um(e,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(n){mm(e,a,n)},function(n){return Wc(e,a,n)}):mm(e,a,s)}function mm(e,a,s){a.status="fulfilled",a.value=s,fm(a),e.state=s,a=e.pending,a!==null&&(s=a.next,s===a?e.pending=null:(s=s.next,a.next=s,dm(e,s)))}function Wc(e,a,s){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do a.status="rejected",a.reason=s,fm(a),a=a.next;while(a!==n)}e.action=null}function fm(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function xm(e,a){return a}function hm(e,a){if(Fe){var s=at.formState;if(s!==null){e:{var n=Le;if(Fe){if(lt){t:{for(var o=lt,u=ga;o.nodeType!==8;){if(!u){o=null;break t}if(o=ba(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){lt=ba(o.nextSibling),n=o.data==="F!";break e}}ys(n)}n=!1}n&&(a=s[0])}}return s=Ht(),s.memoizedState=s.baseState=a,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xm,lastRenderedState:a},s.queue=n,s=zm.bind(null,Le,n),n.dispatch=s,n=Pc(!1),u=lo.bind(null,Le,!1,n.queue),n=Ht(),o={state:a,dispatch:null,action:e,pending:null},n.queue=o,s=M0.bind(null,Le,o,u,s),o.dispatch=s,n.memoizedState=e,[a,s,!1]}function gm(e){var a=ht();return pm(a,Pe,e)}function pm(e,a,s){if(a=Ic(e,a,xm)[0],e=Yi(es)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var n=Tl(a)}catch(x){throw x===Ln?ki:x}else n=a;a=ht();var o=a.queue,u=o.dispatch;return s!==a.memoizedState&&(Le.flags|=2048,Bn(9,{destroy:void 0},L0.bind(null,o,s),null)),[n,u,e]}function L0(e,a){e.action=a}function bm(e){var a=ht(),s=Pe;if(s!==null)return pm(a,s,e);ht(),a=a.memoizedState,s=ht();var n=s.queue.dispatch;return s.memoizedState=e,[a,n,!1]}function Bn(e,a,s,n){return e={tag:e,create:s,deps:n,inst:a,next:null},a=Le.updateQueue,a===null&&(a=Vi(),Le.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,a.lastEffect=e),e}function ym(){return ht().memoizedState}function Xi(e,a,s,n){var o=Ht();Le.flags|=e,o.memoizedState=Bn(1|a,{destroy:void 0},s,n===void 0?null:n)}function Qi(e,a,s,n){var o=ht();n=n===void 0?null:n;var u=o.memoizedState.inst;Pe!==null&&n!==null&&Gc(n,Pe.memoizedState.deps)?o.memoizedState=Bn(a,u,s,n):(Le.flags|=e,o.memoizedState=Bn(1|a,u,s,n))}function vm(e,a){Xi(8390656,8,e,a)}function eo(e,a){Qi(2048,8,e,a)}function z0(e){Le.flags|=4;var a=Le.updateQueue;if(a===null)a=Vi(),Le.updateQueue=a,a.events=[e];else{var s=a.events;s===null?a.events=[e]:s.push(e)}}function jm(e){var a=ht().memoizedState;return z0({ref:a,nextImpl:e}),function(){if((Qe&2)!==0)throw Error(c(440));return a.impl.apply(void 0,arguments)}}function Nm(e,a){return Qi(4,2,e,a)}function Sm(e,a){return Qi(4,4,e,a)}function wm(e,a){if(typeof a=="function"){e=e();var s=a(e);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function Em(e,a,s){s=s!=null?s.concat([e]):null,Qi(4,4,wm.bind(null,a,e),s)}function to(){}function Am(e,a){var s=ht();a=a===void 0?null:a;var n=s.memoizedState;return a!==null&&Gc(a,n[1])?n[0]:(s.memoizedState=[e,a],e)}function Cm(e,a){var s=ht();a=a===void 0?null:a;var n=s.memoizedState;if(a!==null&&Gc(a,n[1]))return n[0];if(n=e(),en){ca(!0);try{e()}finally{ca(!1)}}return s.memoizedState=[n,a],n}function ao(e,a,s){return s===void 0||(Wa&1073741824)!==0&&(He&261930)===0?e.memoizedState=a:(e.memoizedState=s,e=Rf(),Le.lanes|=e,Ts|=e,s)}function Tm(e,a,s,n){return Jt(s,a)?s:kn.current!==null?(e=ao(e,s,n),Jt(e,a)||(yt=!0),e):(Wa&42)===0||(Wa&1073741824)!==0&&(He&261930)===0?(yt=!0,e.memoizedState=s):(e=Rf(),Le.lanes|=e,Ts|=e,a)}function Rm(e,a,s,n,o){var u=w.p;w.p=u!==0&&8>u?u:8;var x=S.T,j={};S.T=j,lo(e,!1,a,s);try{var C=o(),F=S.S;if(F!==null&&F(j,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var J=R0(C,n);Rl(e,a,J,sa(e))}else Rl(e,a,n,sa(e))}catch(te){Rl(e,a,{then:function(){},status:"rejected",reason:te},sa())}finally{w.p=u,x!==null&&j.types!==null&&(x.types=j.types),S.T=x}}function k0(){}function so(e,a,s,n){if(e.tag!==5)throw Error(c(476));var o=Dm(e).queue;Rm(e,o,a,O,s===null?k0:function(){return Om(e),s(n)})}function Dm(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:O},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:s},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function Om(e){var a=Dm(e);a.next===null&&(a=e.alternate.memoizedState),Rl(e,a.next.queue,{},sa())}function no(){return Ot(Xl)}function Mm(){return ht().memoizedState}function Lm(){return ht().memoizedState}function U0(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var s=sa();e=Ns(s);var n=Ss(a,e,s);n!==null&&(Xt(n,a,s),wl(n,a,s)),a={cache:Lc()},e.payload=a;return}a=a.return}}function _0(e,a,s){var n=sa();s={lane:n,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ki(e)?km(a,s):(s=Nc(e,a,s,n),s!==null&&(Xt(s,e,n),Um(s,a,n)))}function zm(e,a,s){var n=sa();Rl(e,a,s,n)}function Rl(e,a,s,n){var o={lane:n,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ki(e))km(a,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=a.lastRenderedReducer,u!==null))try{var x=a.lastRenderedState,j=u(x,s);if(o.hasEagerState=!0,o.eagerState=j,Jt(j,x))return Ti(e,a,o,0),at===null&&Ci(),!1}catch{}if(s=Nc(e,a,o,n),s!==null)return Xt(s,e,n),Um(s,a,n),!0}return!1}function lo(e,a,s,n){if(n={lane:2,revertLane:Bo(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ki(e)){if(a)throw Error(c(479))}else a=Nc(e,s,n,2),a!==null&&Xt(a,e,2)}function Ki(e){var a=e.alternate;return e===Le||a!==null&&a===Le}function km(e,a){Un=$i=!0;var s=e.pending;s===null?a.next=a:(a.next=s.next,s.next=a),e.pending=a}function Um(e,a,s){if((s&4194048)!==0){var n=a.lanes;n&=e.pendingLanes,s|=n,a.lanes=s,xs(e,s)}}var Dl={readContext:Ot,use:Gi,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut};Dl.useEffectEvent=ut;var _m={readContext:Ot,use:Gi,useCallback:function(e,a){return Ht().memoizedState=[e,a===void 0?null:a],e},useContext:Ot,useEffect:vm,useImperativeHandle:function(e,a,s){s=s!=null?s.concat([e]):null,Xi(4194308,4,wm.bind(null,a,e),s)},useLayoutEffect:function(e,a){return Xi(4194308,4,e,a)},useInsertionEffect:function(e,a){Xi(4,2,e,a)},useMemo:function(e,a){var s=Ht();a=a===void 0?null:a;var n=e();if(en){ca(!0);try{e()}finally{ca(!1)}}return s.memoizedState=[n,a],n},useReducer:function(e,a,s){var n=Ht();if(s!==void 0){var o=s(a);if(en){ca(!0);try{s(a)}finally{ca(!1)}}}else o=a;return n.memoizedState=n.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},n.queue=e,e=e.dispatch=_0.bind(null,Le,e),[n.memoizedState,e]},useRef:function(e){var a=Ht();return e={current:e},a.memoizedState=e},useState:function(e){e=Pc(e);var a=e.queue,s=zm.bind(null,Le,a);return a.dispatch=s,[e.memoizedState,s]},useDebugValue:to,useDeferredValue:function(e,a){var s=Ht();return ao(s,e,a)},useTransition:function(){var e=Pc(!1);return e=Rm.bind(null,Le,e.queue,!0,!1),Ht().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,s){var n=Le,o=Ht();if(Fe){if(s===void 0)throw Error(c(407));s=s()}else{if(s=a(),at===null)throw Error(c(349));(He&127)!==0||nm(n,a,s)}o.memoizedState=s;var u={value:s,getSnapshot:a};return o.queue=u,vm(im.bind(null,n,u,e),[e]),n.flags|=2048,Bn(9,{destroy:void 0},lm.bind(null,n,u,s,a),null),s},useId:function(){var e=Ht(),a=at.identifierPrefix;if(Fe){var s=Ma,n=Oa;s=(n&~(1<<32-ot(n)-1)).toString(32)+s,a="_"+a+"R_"+s,s=Fi++,0<s&&(a+="H"+s.toString(32)),a+="_"}else s=D0++,a="_"+a+"r_"+s.toString(32)+"_";return e.memoizedState=a},useHostTransitionStatus:no,useFormState:hm,useActionState:hm,useOptimistic:function(e){var a=Ht();a.memoizedState=a.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=lo.bind(null,Le,!0,s),s.dispatch=a,[e,a]},useMemoCache:Zc,useCacheRefresh:function(){return Ht().memoizedState=U0.bind(null,Le)},useEffectEvent:function(e){var a=Ht(),s={impl:e};return a.memoizedState=s,function(){if((Qe&2)!==0)throw Error(c(440));return s.impl.apply(void 0,arguments)}}},io={readContext:Ot,use:Gi,useCallback:Am,useContext:Ot,useEffect:eo,useImperativeHandle:Em,useInsertionEffect:Nm,useLayoutEffect:Sm,useMemo:Cm,useReducer:Yi,useRef:ym,useState:function(){return Yi(es)},useDebugValue:to,useDeferredValue:function(e,a){var s=ht();return Tm(s,Pe.memoizedState,e,a)},useTransition:function(){var e=Yi(es)[0],a=ht().memoizedState;return[typeof e=="boolean"?e:Tl(e),a]},useSyncExternalStore:sm,useId:Mm,useHostTransitionStatus:no,useFormState:gm,useActionState:gm,useOptimistic:function(e,a){var s=ht();return om(s,Pe,e,a)},useMemoCache:Zc,useCacheRefresh:Lm};io.useEffectEvent=jm;var Bm={readContext:Ot,use:Gi,useCallback:Am,useContext:Ot,useEffect:eo,useImperativeHandle:Em,useInsertionEffect:Nm,useLayoutEffect:Sm,useMemo:Cm,useReducer:Jc,useRef:ym,useState:function(){return Jc(es)},useDebugValue:to,useDeferredValue:function(e,a){var s=ht();return Pe===null?ao(s,e,a):Tm(s,Pe.memoizedState,e,a)},useTransition:function(){var e=Jc(es)[0],a=ht().memoizedState;return[typeof e=="boolean"?e:Tl(e),a]},useSyncExternalStore:sm,useId:Mm,useHostTransitionStatus:no,useFormState:bm,useActionState:bm,useOptimistic:function(e,a){var s=ht();return Pe!==null?om(s,Pe,e,a):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Zc,useCacheRefresh:Lm};Bm.useEffectEvent=jm;function ro(e,a,s,n){a=e.memoizedState,s=s(n,a),s=s==null?a:v({},a,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var co={enqueueSetState:function(e,a,s){e=e._reactInternals;var n=sa(),o=Ns(n);o.payload=a,s!=null&&(o.callback=s),a=Ss(e,o,n),a!==null&&(Xt(a,e,n),wl(a,e,n))},enqueueReplaceState:function(e,a,s){e=e._reactInternals;var n=sa(),o=Ns(n);o.tag=1,o.payload=a,s!=null&&(o.callback=s),a=Ss(e,o,n),a!==null&&(Xt(a,e,n),wl(a,e,n))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var s=sa(),n=Ns(s);n.tag=2,a!=null&&(n.callback=a),a=Ss(e,n,s),a!==null&&(Xt(a,e,s),wl(a,e,s))}};function qm(e,a,s,n,o,u,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,u,x):a.prototype&&a.prototype.isPureReactComponent?!gl(s,n)||!gl(o,u):!0}function Hm(e,a,s,n){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,n),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,n),a.state!==e&&co.enqueueReplaceState(a,a.state,null)}function tn(e,a){var s=a;if("ref"in a){s={};for(var n in a)n!=="ref"&&(s[n]=a[n])}if(e=e.defaultProps){s===a&&(s=v({},s));for(var o in e)s[o]===void 0&&(s[o]=e[o])}return s}function $m(e){Ai(e)}function Fm(e){console.error(e)}function Vm(e){Ai(e)}function Zi(e,a){try{var s=e.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(n){setTimeout(function(){throw n})}}function Gm(e,a,s){try{var n=e.onCaughtError;n(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function oo(e,a,s){return s=Ns(s),s.tag=3,s.payload={element:null},s.callback=function(){Zi(e,a)},s}function Ym(e){return e=Ns(e),e.tag=3,e}function Xm(e,a,s,n){var o=s.type.getDerivedStateFromError;if(typeof o=="function"){var u=n.value;e.payload=function(){return o(u)},e.callback=function(){Gm(a,s,n)}}var x=s.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){Gm(a,s,n),typeof o!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var j=n.stack;this.componentDidCatch(n.value,{componentStack:j!==null?j:""})})}function B0(e,a,s,n,o){if(s.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(a=s.alternate,a!==null&&Dn(a,s,o,!0),s=Wt.current,s!==null){switch(s.tag){case 31:case 13:return pa===null?rr():s.alternate===null&&mt===0&&(mt=3),s.flags&=-257,s.flags|=65536,s.lanes=o,n===Ui?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([n]):a.add(n),ko(e,n,o)),!1;case 22:return s.flags|=65536,n===Ui?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([n])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([n]):s.add(n)),ko(e,n,o)),!1}throw Error(c(435,s.tag))}return ko(e,n,o),rr(),!1}if(Fe)return a=Wt.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=o,n!==Tc&&(e=Error(c(422),{cause:n}),yl(fa(e,s)))):(n!==Tc&&(a=Error(c(423),{cause:n}),yl(fa(a,s))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,n=fa(n,s),o=oo(e.stateNode,n,o),qc(e,o),mt!==4&&(mt=2)),!1;var u=Error(c(520),{cause:n});if(u=fa(u,s),Bl===null?Bl=[u]:Bl.push(u),mt!==4&&(mt=2),a===null)return!0;n=fa(n,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,e=o&-o,s.lanes|=e,e=oo(s.stateNode,n,e),qc(s,e),!1;case 1:if(a=s.type,u=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Rs===null||!Rs.has(u))))return s.flags|=65536,o&=-o,s.lanes|=o,o=Ym(o),Xm(o,e,s,n),qc(s,o),!1}s=s.return}while(s!==null);return!1}var uo=Error(c(461)),yt=!1;function Mt(e,a,s,n){a.child=e===null?Iu(a,null,s,n):Ws(a,e.child,s,n)}function Qm(e,a,s,n,o){s=s.render;var u=a.ref;if("ref"in n){var x={};for(var j in n)j!=="ref"&&(x[j]=n[j])}else x=n;return Zs(a),n=Yc(e,a,s,x,u,o),j=Xc(),e!==null&&!yt?(Qc(e,a,o),ts(e,a,o)):(Fe&&j&&Ac(a),a.flags|=1,Mt(e,a,n,o),a.child)}function Km(e,a,s,n,o){if(e===null){var u=s.type;return typeof u=="function"&&!Sc(u)&&u.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=u,Zm(e,a,u,n,o)):(e=Di(s.type,null,n,a,a.mode,o),e.ref=a.ref,e.return=a,a.child=e)}if(u=e.child,!yo(e,o)){var x=u.memoizedProps;if(s=s.compare,s=s!==null?s:gl,s(x,n)&&e.ref===a.ref)return ts(e,a,o)}return a.flags|=1,e=Za(u,n),e.ref=a.ref,e.return=a,a.child=e}function Zm(e,a,s,n,o){if(e!==null){var u=e.memoizedProps;if(gl(u,n)&&e.ref===a.ref)if(yt=!1,a.pendingProps=n=u,yo(e,o))(e.flags&131072)!==0&&(yt=!0);else return a.lanes=e.lanes,ts(e,a,o)}return mo(e,a,s,n,o)}function Im(e,a,s,n){var o=n.children,u=e!==null?e.memoizedState:null;if(e===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((a.flags&128)!==0){if(u=u!==null?u.baseLanes|s:s,e!==null){for(n=a.child=e.child,o=0;n!==null;)o=o|n.lanes|n.childLanes,n=n.sibling;n=o&~u}else n=0,a.child=null;return Jm(e,a,u,s,n)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&zi(a,u!==null?u.cachePool:null),u!==null?Wu(a,u):$c(),em(a);else return n=a.lanes=536870912,Jm(e,a,u!==null?u.baseLanes|s:s,s,n)}else u!==null?(zi(a,u.cachePool),Wu(a,u),Es(),a.memoizedState=null):(e!==null&&zi(a,null),$c(),Es());return Mt(e,a,o,s),a.child}function Ol(e,a){return e!==null&&e.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Jm(e,a,s,n,o){var u=kc();return u=u===null?null:{parent:pt._currentValue,pool:u},a.memoizedState={baseLanes:s,cachePool:u},e!==null&&zi(a,null),$c(),em(a),e!==null&&Dn(e,a,n,!0),a.childLanes=o,null}function Ii(e,a){return a=Pi({mode:a.mode,children:a.children},e.mode),a.ref=e.ref,e.child=a,a.return=e,a}function Pm(e,a,s){return Ws(a,e.child,null,s),e=Ii(a,a.pendingProps),e.flags|=2,ea(a),a.memoizedState=null,e}function q0(e,a,s){var n=a.pendingProps,o=(a.flags&128)!==0;if(a.flags&=-129,e===null){if(Fe){if(n.mode==="hidden")return e=Ii(a,n),a.lanes=536870912,Ol(null,e);if(Vc(a),(e=lt)?(e=ux(e,ga),e=e!==null&&e.data==="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:ps!==null?{id:Oa,overflow:Ma}:null,retryLane:536870912,hydrationErrors:null},s=ku(e),s.return=a,a.child=s,Dt=a,lt=null)):e=null,e===null)throw ys(a);return a.lanes=536870912,null}return Ii(a,n)}var u=e.memoizedState;if(u!==null){var x=u.dehydrated;if(Vc(a),o)if(a.flags&256)a.flags&=-257,a=Pm(e,a,s);else if(a.memoizedState!==null)a.child=e.child,a.flags|=128,a=null;else throw Error(c(558));else if(yt||Dn(e,a,s,!1),o=(s&e.childLanes)!==0,yt||o){if(n=at,n!==null&&(x=q(n,s),x!==0&&x!==u.retryLane))throw u.retryLane=x,Ys(e,x),Xt(n,e,x),uo;rr(),a=Pm(e,a,s)}else e=u.treeContext,lt=ba(x.nextSibling),Dt=a,Fe=!0,bs=null,ga=!1,e!==null&&Bu(a,e),a=Ii(a,n),a.flags|=4096;return a}return e=Za(e.child,{mode:n.mode,children:n.children}),e.ref=a.ref,a.child=e,e.return=a,e}function Ji(e,a){var s=a.ref;if(s===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(c(284));(e===null||e.ref!==s)&&(a.flags|=4194816)}}function mo(e,a,s,n,o){return Zs(a),s=Yc(e,a,s,n,void 0,o),n=Xc(),e!==null&&!yt?(Qc(e,a,o),ts(e,a,o)):(Fe&&n&&Ac(a),a.flags|=1,Mt(e,a,s,o),a.child)}function Wm(e,a,s,n,o,u){return Zs(a),a.updateQueue=null,s=am(a,n,s,o),tm(e),n=Xc(),e!==null&&!yt?(Qc(e,a,u),ts(e,a,u)):(Fe&&n&&Ac(a),a.flags|=1,Mt(e,a,s,u),a.child)}function ef(e,a,s,n,o){if(Zs(a),a.stateNode===null){var u=An,x=s.contextType;typeof x=="object"&&x!==null&&(u=Ot(x)),u=new s(n,u),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=co,a.stateNode=u,u._reactInternals=a,u=a.stateNode,u.props=n,u.state=a.memoizedState,u.refs={},_c(a),x=s.contextType,u.context=typeof x=="object"&&x!==null?Ot(x):An,u.state=a.memoizedState,x=s.getDerivedStateFromProps,typeof x=="function"&&(ro(a,s,x,n),u.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(x=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),x!==u.state&&co.enqueueReplaceState(u,u.state,null),Al(a,n,u,o),El(),u.state=a.memoizedState),typeof u.componentDidMount=="function"&&(a.flags|=4194308),n=!0}else if(e===null){u=a.stateNode;var j=a.memoizedProps,C=tn(s,j);u.props=C;var F=u.context,J=s.contextType;x=An,typeof J=="object"&&J!==null&&(x=Ot(J));var te=s.getDerivedStateFromProps;J=typeof te=="function"||typeof u.getSnapshotBeforeUpdate=="function",j=a.pendingProps!==j,J||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(j||F!==x)&&Hm(a,u,n,x),js=!1;var G=a.memoizedState;u.state=G,Al(a,n,u,o),El(),F=a.memoizedState,j||G!==F||js?(typeof te=="function"&&(ro(a,s,te,n),F=a.memoizedState),(C=js||qm(a,s,C,n,G,F,x))?(J||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(a.flags|=4194308)):(typeof u.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=n,a.memoizedState=F),u.props=n,u.state=F,u.context=x,n=C):(typeof u.componentDidMount=="function"&&(a.flags|=4194308),n=!1)}else{u=a.stateNode,Bc(e,a),x=a.memoizedProps,J=tn(s,x),u.props=J,te=a.pendingProps,G=u.context,F=s.contextType,C=An,typeof F=="object"&&F!==null&&(C=Ot(F)),j=s.getDerivedStateFromProps,(F=typeof j=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(x!==te||G!==C)&&Hm(a,u,n,C),js=!1,G=a.memoizedState,u.state=G,Al(a,n,u,o),El();var K=a.memoizedState;x!==te||G!==K||js||e!==null&&e.dependencies!==null&&Mi(e.dependencies)?(typeof j=="function"&&(ro(a,s,j,n),K=a.memoizedState),(J=js||qm(a,s,J,n,G,K,C)||e!==null&&e.dependencies!==null&&Mi(e.dependencies))?(F||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(n,K,C),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(n,K,C)),typeof u.componentDidUpdate=="function"&&(a.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof u.componentDidUpdate!="function"||x===e.memoizedProps&&G===e.memoizedState||(a.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&G===e.memoizedState||(a.flags|=1024),a.memoizedProps=n,a.memoizedState=K),u.props=n,u.state=K,u.context=C,n=J):(typeof u.componentDidUpdate!="function"||x===e.memoizedProps&&G===e.memoizedState||(a.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&G===e.memoizedState||(a.flags|=1024),n=!1)}return u=n,Ji(e,a),n=(a.flags&128)!==0,u||n?(u=a.stateNode,s=n&&typeof s.getDerivedStateFromError!="function"?null:u.render(),a.flags|=1,e!==null&&n?(a.child=Ws(a,e.child,null,o),a.child=Ws(a,null,s,o)):Mt(e,a,s,o),a.memoizedState=u.state,e=a.child):e=ts(e,a,o),e}function tf(e,a,s,n){return Qs(),a.flags|=256,Mt(e,a,s,n),a.child}var fo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xo(e){return{baseLanes:e,cachePool:Gu()}}function ho(e,a,s){return e=e!==null?e.childLanes&~s:0,a&&(e|=aa),e}function af(e,a,s){var n=a.pendingProps,o=!1,u=(a.flags&128)!==0,x;if((x=u)||(x=e!==null&&e.memoizedState===null?!1:(xt.current&2)!==0),x&&(o=!0,a.flags&=-129),x=(a.flags&32)!==0,a.flags&=-33,e===null){if(Fe){if(o?ws(a):Es(),(e=lt)?(e=ux(e,ga),e=e!==null&&e.data!=="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:ps!==null?{id:Oa,overflow:Ma}:null,retryLane:536870912,hydrationErrors:null},s=ku(e),s.return=a,a.child=s,Dt=a,lt=null)):e=null,e===null)throw ys(a);return Jo(e)?a.lanes=32:a.lanes=536870912,null}var j=n.children;return n=n.fallback,o?(Es(),o=a.mode,j=Pi({mode:"hidden",children:j},o),n=Xs(n,o,s,null),j.return=a,n.return=a,j.sibling=n,a.child=j,n=a.child,n.memoizedState=xo(s),n.childLanes=ho(e,x,s),a.memoizedState=fo,Ol(null,n)):(ws(a),go(a,j))}var C=e.memoizedState;if(C!==null&&(j=C.dehydrated,j!==null)){if(u)a.flags&256?(ws(a),a.flags&=-257,a=po(e,a,s)):a.memoizedState!==null?(Es(),a.child=e.child,a.flags|=128,a=null):(Es(),j=n.fallback,o=a.mode,n=Pi({mode:"visible",children:n.children},o),j=Xs(j,o,s,null),j.flags|=2,n.return=a,j.return=a,n.sibling=j,a.child=n,Ws(a,e.child,null,s),n=a.child,n.memoizedState=xo(s),n.childLanes=ho(e,x,s),a.memoizedState=fo,a=Ol(null,n));else if(ws(a),Jo(j)){if(x=j.nextSibling&&j.nextSibling.dataset,x)var F=x.dgst;x=F,n=Error(c(419)),n.stack="",n.digest=x,yl({value:n,source:null,stack:null}),a=po(e,a,s)}else if(yt||Dn(e,a,s,!1),x=(s&e.childLanes)!==0,yt||x){if(x=at,x!==null&&(n=q(x,s),n!==0&&n!==C.retryLane))throw C.retryLane=n,Ys(e,n),Xt(x,e,n),uo;Io(j)||rr(),a=po(e,a,s)}else Io(j)?(a.flags|=192,a.child=e.child,a=null):(e=C.treeContext,lt=ba(j.nextSibling),Dt=a,Fe=!0,bs=null,ga=!1,e!==null&&Bu(a,e),a=go(a,n.children),a.flags|=4096);return a}return o?(Es(),j=n.fallback,o=a.mode,C=e.child,F=C.sibling,n=Za(C,{mode:"hidden",children:n.children}),n.subtreeFlags=C.subtreeFlags&65011712,F!==null?j=Za(F,j):(j=Xs(j,o,s,null),j.flags|=2),j.return=a,n.return=a,n.sibling=j,a.child=n,Ol(null,n),n=a.child,j=e.child.memoizedState,j===null?j=xo(s):(o=j.cachePool,o!==null?(C=pt._currentValue,o=o.parent!==C?{parent:C,pool:C}:o):o=Gu(),j={baseLanes:j.baseLanes|s,cachePool:o}),n.memoizedState=j,n.childLanes=ho(e,x,s),a.memoizedState=fo,Ol(e.child,n)):(ws(a),s=e.child,e=s.sibling,s=Za(s,{mode:"visible",children:n.children}),s.return=a,s.sibling=null,e!==null&&(x=a.deletions,x===null?(a.deletions=[e],a.flags|=16):x.push(e)),a.child=s,a.memoizedState=null,s)}function go(e,a){return a=Pi({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function Pi(e,a){return e=Pt(22,e,null,a),e.lanes=0,e}function po(e,a,s){return Ws(a,e.child,null,s),e=go(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function sf(e,a,s){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a),Oc(e.return,a,s)}function bo(e,a,s,n,o,u){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:o,treeForkCount:u}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=n,x.tail=s,x.tailMode=o,x.treeForkCount=u)}function nf(e,a,s){var n=a.pendingProps,o=n.revealOrder,u=n.tail;n=n.children;var x=xt.current,j=(x&2)!==0;if(j?(x=x&1|2,a.flags|=128):x&=1,ne(xt,x),Mt(e,a,n,s),n=Fe?bl:0,!j&&e!==null&&(e.flags&128)!==0)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sf(e,s,a);else if(e.tag===19)sf(e,s,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(s=a.child,o=null;s!==null;)e=s.alternate,e!==null&&Hi(e)===null&&(o=s),s=s.sibling;s=o,s===null?(o=a.child,a.child=null):(o=s.sibling,s.sibling=null),bo(a,!1,o,s,u,n);break;case"backwards":case"unstable_legacy-backwards":for(s=null,o=a.child,a.child=null;o!==null;){if(e=o.alternate,e!==null&&Hi(e)===null){a.child=o;break}e=o.sibling,o.sibling=s,s=o,o=e}bo(a,!0,s,null,u,n);break;case"together":bo(a,!1,null,null,void 0,n);break;default:a.memoizedState=null}return a.child}function ts(e,a,s){if(e!==null&&(a.dependencies=e.dependencies),Ts|=a.lanes,(s&a.childLanes)===0)if(e!==null){if(Dn(e,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(c(153));if(a.child!==null){for(e=a.child,s=Za(e,e.pendingProps),a.child=s,s.return=a;e.sibling!==null;)e=e.sibling,s=s.sibling=Za(e,e.pendingProps),s.return=a;s.sibling=null}return a.child}function yo(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&Mi(e)))}function H0(e,a,s){switch(a.tag){case 3:Je(a,a.stateNode.containerInfo),vs(a,pt,e.memoizedState.cache),Qs();break;case 27:case 5:fe(a);break;case 4:Je(a,a.stateNode.containerInfo);break;case 10:vs(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Vc(a),null;break;case 13:var n=a.memoizedState;if(n!==null)return n.dehydrated!==null?(ws(a),a.flags|=128,null):(s&a.child.childLanes)!==0?af(e,a,s):(ws(a),e=ts(e,a,s),e!==null?e.sibling:null);ws(a);break;case 19:var o=(e.flags&128)!==0;if(n=(s&a.childLanes)!==0,n||(Dn(e,a,s,!1),n=(s&a.childLanes)!==0),o){if(n)return nf(e,a,s);a.flags|=128}if(o=a.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ne(xt,xt.current),n)break;return null;case 22:return a.lanes=0,Im(e,a,s,a.pendingProps);case 24:vs(a,pt,e.memoizedState.cache)}return ts(e,a,s)}function lf(e,a,s){if(e!==null)if(e.memoizedProps!==a.pendingProps)yt=!0;else{if(!yo(e,s)&&(a.flags&128)===0)return yt=!1,H0(e,a,s);yt=(e.flags&131072)!==0}else yt=!1,Fe&&(a.flags&1048576)!==0&&_u(a,bl,a.index);switch(a.lanes=0,a.tag){case 16:e:{var n=a.pendingProps;if(e=Js(a.elementType),a.type=e,typeof e=="function")Sc(e)?(n=tn(e,n),a.tag=1,a=ef(null,a,e,n,s)):(a.tag=0,a=mo(null,a,e,n,s));else{if(e!=null){var o=e.$$typeof;if(o===le){a.tag=11,a=Qm(null,a,e,n,s);break e}else if(o===Y){a.tag=14,a=Km(null,a,e,n,s);break e}}throw a=ce(e)||e,Error(c(306,a,""))}}return a;case 0:return mo(e,a,a.type,a.pendingProps,s);case 1:return n=a.type,o=tn(n,a.pendingProps),ef(e,a,n,o,s);case 3:e:{if(Je(a,a.stateNode.containerInfo),e===null)throw Error(c(387));n=a.pendingProps;var u=a.memoizedState;o=u.element,Bc(e,a),Al(a,n,null,s);var x=a.memoizedState;if(n=x.cache,vs(a,pt,n),n!==u.cache&&Mc(a,[pt],s,!0),El(),n=x.element,u.isDehydrated)if(u={element:n,isDehydrated:!1,cache:x.cache},a.updateQueue.baseState=u,a.memoizedState=u,a.flags&256){a=tf(e,a,n,s);break e}else if(n!==o){o=fa(Error(c(424)),a),yl(o),a=tf(e,a,n,s);break e}else for(e=a.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,lt=ba(e.firstChild),Dt=a,Fe=!0,bs=null,ga=!0,s=Iu(a,null,n,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Qs(),n===o){a=ts(e,a,s);break e}Mt(e,a,n,s)}a=a.child}return a;case 26:return Ji(e,a),e===null?(s=px(a.type,null,a.pendingProps,null))?a.memoizedState=s:Fe||(s=a.type,e=a.pendingProps,n=xr(Ne.current).createElement(s),n[Oe]=a,n[ct]=e,Lt(n,s,e),Tt(n),a.stateNode=n):a.memoizedState=px(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return fe(a),e===null&&Fe&&(n=a.stateNode=xx(a.type,a.pendingProps,Ne.current),Dt=a,ga=!0,o=lt,Ls(a.type)?(Po=o,lt=ba(n.firstChild)):lt=o),Mt(e,a,a.pendingProps.children,s),Ji(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&Fe&&((o=n=lt)&&(n=gp(n,a.type,a.pendingProps,ga),n!==null?(a.stateNode=n,Dt=a,lt=ba(n.firstChild),ga=!1,o=!0):o=!1),o||ys(a)),fe(a),o=a.type,u=a.pendingProps,x=e!==null?e.memoizedProps:null,n=u.children,Qo(o,u)?n=null:x!==null&&Qo(o,x)&&(a.flags|=32),a.memoizedState!==null&&(o=Yc(e,a,O0,null,null,s),Xl._currentValue=o),Ji(e,a),Mt(e,a,n,s),a.child;case 6:return e===null&&Fe&&((e=s=lt)&&(s=pp(s,a.pendingProps,ga),s!==null?(a.stateNode=s,Dt=a,lt=null,e=!0):e=!1),e||ys(a)),null;case 13:return af(e,a,s);case 4:return Je(a,a.stateNode.containerInfo),n=a.pendingProps,e===null?a.child=Ws(a,null,n,s):Mt(e,a,n,s),a.child;case 11:return Qm(e,a,a.type,a.pendingProps,s);case 7:return Mt(e,a,a.pendingProps,s),a.child;case 8:return Mt(e,a,a.pendingProps.children,s),a.child;case 12:return Mt(e,a,a.pendingProps.children,s),a.child;case 10:return n=a.pendingProps,vs(a,a.type,n.value),Mt(e,a,n.children,s),a.child;case 9:return o=a.type._context,n=a.pendingProps.children,Zs(a),o=Ot(o),n=n(o),a.flags|=1,Mt(e,a,n,s),a.child;case 14:return Km(e,a,a.type,a.pendingProps,s);case 15:return Zm(e,a,a.type,a.pendingProps,s);case 19:return nf(e,a,s);case 31:return q0(e,a,s);case 22:return Im(e,a,s,a.pendingProps);case 24:return Zs(a),n=Ot(pt),e===null?(o=kc(),o===null&&(o=at,u=Lc(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=s),o=u),a.memoizedState={parent:n,cache:o},_c(a),vs(a,pt,o)):((e.lanes&s)!==0&&(Bc(e,a),Al(a,null,null,s),El()),o=e.memoizedState,u=a.memoizedState,o.parent!==n?(o={parent:n,cache:n},a.memoizedState=o,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=o),vs(a,pt,n)):(n=u.cache,vs(a,pt,n),n!==o.cache&&Mc(a,[pt],s,!0))),Mt(e,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(c(156,a.tag))}function as(e){e.flags|=4}function vo(e,a,s,n,o){if((a=(e.mode&32)!==0)&&(a=!1),a){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Lf())e.flags|=8192;else throw Ps=Ui,Uc}else e.flags&=-16777217}function rf(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Nx(a))if(Lf())e.flags|=8192;else throw Ps=Ui,Uc}function Wi(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?Ue():536870912,e.lanes|=a,Fn|=a)}function Ml(e,a){if(!Fe)switch(e.tailMode){case"hidden":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function it(e){var a=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(a)for(var o=e.child;o!==null;)s|=o.lanes|o.childLanes,n|=o.subtreeFlags&65011712,n|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)s|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=s,a}function $0(e,a,s){var n=a.pendingProps;switch(Cc(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(a),null;case 1:return it(a),null;case 3:return s=a.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),a.memoizedState.cache!==n&&(a.flags|=2048),Pa(pt),_(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Rn(a)?as(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Rc())),it(a),null;case 26:var o=a.type,u=a.memoizedState;return e===null?(as(a),u!==null?(it(a),rf(a,u)):(it(a),vo(a,o,null,n,s))):u?u!==e.memoizedState?(as(a),it(a),rf(a,u)):(it(a),a.flags&=-16777217):(e=e.memoizedProps,e!==n&&as(a),it(a),vo(a,o,e,n,s)),null;case 27:if(_e(a),s=Ne.current,o=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==n&&as(a);else{if(!n){if(a.stateNode===null)throw Error(c(166));return it(a),null}e=se.current,Rn(a)?qu(a):(e=xx(o,n,s),a.stateNode=e,as(a))}return it(a),null;case 5:if(_e(a),o=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==n&&as(a);else{if(!n){if(a.stateNode===null)throw Error(c(166));return it(a),null}if(u=se.current,Rn(a))qu(a);else{var x=xr(Ne.current);switch(u){case 1:u=x.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=x.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=x.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=x.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=x.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof n.is=="string"?x.createElement("select",{is:n.is}):x.createElement("select"),n.multiple?u.multiple=!0:n.size&&(u.size=n.size);break;default:u=typeof n.is=="string"?x.createElement(o,{is:n.is}):x.createElement(o)}}u[Oe]=a,u[ct]=n;e:for(x=a.child;x!==null;){if(x.tag===5||x.tag===6)u.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===a)break e;for(;x.sibling===null;){if(x.return===null||x.return===a)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}a.stateNode=u;e:switch(Lt(u,o,n),o){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&as(a)}}return it(a),vo(a,a.type,e===null?null:e.memoizedProps,a.pendingProps,s),null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==n&&as(a);else{if(typeof n!="string"&&a.stateNode===null)throw Error(c(166));if(e=Ne.current,Rn(a)){if(e=a.stateNode,s=a.memoizedProps,n=null,o=Dt,o!==null)switch(o.tag){case 27:case 5:n=o.memoizedProps}e[Oe]=a,e=!!(e.nodeValue===s||n!==null&&n.suppressHydrationWarning===!0||sx(e.nodeValue,s)),e||ys(a,!0)}else e=xr(e).createTextNode(n),e[Oe]=a,a.stateNode=e}return it(a),null;case 31:if(s=a.memoizedState,e===null||e.memoizedState!==null){if(n=Rn(a),s!==null){if(e===null){if(!n)throw Error(c(318));if(e=a.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[Oe]=a}else Qs(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;it(a),e=!1}else s=Rc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return a.flags&256?(ea(a),a):(ea(a),null);if((a.flags&128)!==0)throw Error(c(558))}return it(a),null;case 13:if(n=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Rn(a),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(c(318));if(o=a.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(c(317));o[Oe]=a}else Qs(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;it(a),o=!1}else o=Rc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return a.flags&256?(ea(a),a):(ea(a),null)}return ea(a),(a.flags&128)!==0?(a.lanes=s,a):(s=n!==null,e=e!==null&&e.memoizedState!==null,s&&(n=a.child,o=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(o=n.alternate.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==o&&(n.flags|=2048)),s!==e&&s&&(a.child.flags|=8192),Wi(a,a.updateQueue),it(a),null);case 4:return _(),e===null&&Fo(a.stateNode.containerInfo),it(a),null;case 10:return Pa(a.type),it(a),null;case 19:if(U(xt),n=a.memoizedState,n===null)return it(a),null;if(o=(a.flags&128)!==0,u=n.rendering,u===null)if(o)Ml(n,!1);else{if(mt!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(u=Hi(e),u!==null){for(a.flags|=128,Ml(n,!1),e=u.updateQueue,a.updateQueue=e,Wi(a,e),a.subtreeFlags=0,e=s,s=a.child;s!==null;)zu(s,e),s=s.sibling;return ne(xt,xt.current&1|2),Fe&&Ia(a,n.treeForkCount),a.child}e=e.sibling}n.tail!==null&&St()>nr&&(a.flags|=128,o=!0,Ml(n,!1),a.lanes=4194304)}else{if(!o)if(e=Hi(u),e!==null){if(a.flags|=128,o=!0,e=e.updateQueue,a.updateQueue=e,Wi(a,e),Ml(n,!0),n.tail===null&&n.tailMode==="hidden"&&!u.alternate&&!Fe)return it(a),null}else 2*St()-n.renderingStartTime>nr&&s!==536870912&&(a.flags|=128,o=!0,Ml(n,!1),a.lanes=4194304);n.isBackwards?(u.sibling=a.child,a.child=u):(e=n.last,e!==null?e.sibling=u:a.child=u,n.last=u)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=St(),e.sibling=null,s=xt.current,ne(xt,o?s&1|2:s&1),Fe&&Ia(a,n.treeForkCount),e):(it(a),null);case 22:case 23:return ea(a),Fc(),n=a.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(a.flags|=8192):n&&(a.flags|=8192),n?(s&536870912)!==0&&(a.flags&128)===0&&(it(a),a.subtreeFlags&6&&(a.flags|=8192)):it(a),s=a.updateQueue,s!==null&&Wi(a,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==s&&(a.flags|=2048),e!==null&&U(Is),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),Pa(pt),it(a),null;case 25:return null;case 30:return null}throw Error(c(156,a.tag))}function F0(e,a){switch(Cc(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return Pa(pt),_(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return _e(a),null;case 31:if(a.memoizedState!==null){if(ea(a),a.alternate===null)throw Error(c(340));Qs()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 13:if(ea(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(c(340));Qs()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return U(xt),null;case 4:return _(),null;case 10:return Pa(a.type),null;case 22:case 23:return ea(a),Fc(),e!==null&&U(Is),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return Pa(pt),null;case 25:return null;default:return null}}function cf(e,a){switch(Cc(a),a.tag){case 3:Pa(pt),_();break;case 26:case 27:case 5:_e(a);break;case 4:_();break;case 31:a.memoizedState!==null&&ea(a);break;case 13:ea(a);break;case 19:U(xt);break;case 10:Pa(a.type);break;case 22:case 23:ea(a),Fc(),e!==null&&U(Is);break;case 24:Pa(pt)}}function Ll(e,a){try{var s=a.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var o=n.next;s=o;do{if((s.tag&e)===e){n=void 0;var u=s.create,x=s.inst;n=u(),x.destroy=n}s=s.next}while(s!==o)}}catch(j){Ie(a,a.return,j)}}function As(e,a,s){try{var n=a.updateQueue,o=n!==null?n.lastEffect:null;if(o!==null){var u=o.next;n=u;do{if((n.tag&e)===e){var x=n.inst,j=x.destroy;if(j!==void 0){x.destroy=void 0,o=a;var C=s,F=j;try{F()}catch(J){Ie(o,C,J)}}}n=n.next}while(n!==u)}}catch(J){Ie(a,a.return,J)}}function of(e){var a=e.updateQueue;if(a!==null){var s=e.stateNode;try{Pu(a,s)}catch(n){Ie(e,e.return,n)}}}function df(e,a,s){s.props=tn(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(n){Ie(e,a,n)}}function zl(e,a){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof s=="function"?e.refCleanup=s(n):s.current=n}}catch(o){Ie(e,a,o)}}function La(e,a){var s=e.ref,n=e.refCleanup;if(s!==null)if(typeof n=="function")try{n()}catch(o){Ie(e,a,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(o){Ie(e,a,o)}else s.current=null}function uf(e){var a=e.type,s=e.memoizedProps,n=e.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break e;case"img":s.src?n.src=s.src:s.srcSet&&(n.srcset=s.srcSet)}}catch(o){Ie(e,e.return,o)}}function jo(e,a,s){try{var n=e.stateNode;dp(n,e.type,s,a),n[ct]=a}catch(o){Ie(e,e.return,o)}}function mf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ls(e.type)||e.tag===4}function No(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ls(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function So(e,a,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(e),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=Qa));else if(n!==4&&(n===27&&Ls(e.type)&&(s=e.stateNode,a=null),e=e.child,e!==null))for(So(e,a,s),e=e.sibling;e!==null;)So(e,a,s),e=e.sibling}function er(e,a,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,a?s.insertBefore(e,a):s.appendChild(e);else if(n!==4&&(n===27&&Ls(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(er(e,a,s),e=e.sibling;e!==null;)er(e,a,s),e=e.sibling}function ff(e){var a=e.stateNode,s=e.memoizedProps;try{for(var n=e.type,o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Lt(a,n,s),a[Oe]=e,a[ct]=s}catch(u){Ie(e,e.return,u)}}var ss=!1,vt=!1,wo=!1,xf=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function V0(e,a){if(e=e.containerInfo,Yo=jr,e=Eu(e),gc(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var o=n.anchorOffset,u=n.focusNode;n=n.focusOffset;try{s.nodeType,u.nodeType}catch{s=null;break e}var x=0,j=-1,C=-1,F=0,J=0,te=e,G=null;t:for(;;){for(var K;te!==s||o!==0&&te.nodeType!==3||(j=x+o),te!==u||n!==0&&te.nodeType!==3||(C=x+n),te.nodeType===3&&(x+=te.nodeValue.length),(K=te.firstChild)!==null;)G=te,te=K;for(;;){if(te===e)break t;if(G===s&&++F===o&&(j=x),G===u&&++J===n&&(C=x),(K=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=K}s=j===-1||C===-1?null:{start:j,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(Xo={focusedElem:e,selectionRange:s},jr=!1,Rt=a;Rt!==null;)if(a=Rt,e=a.child,(a.subtreeFlags&1028)!==0&&e!==null)e.return=a,Rt=e;else for(;Rt!==null;){switch(a=Rt,u=a.alternate,e=a.flags,a.tag){case 0:if((e&4)!==0&&(e=a.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)o=e[s],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,s=a,o=u.memoizedProps,u=u.memoizedState,n=s.stateNode;try{var ye=tn(s.type,o);e=n.getSnapshotBeforeUpdate(ye,u),n.__reactInternalSnapshotBeforeUpdate=e}catch(Ee){Ie(s,s.return,Ee)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,s=e.nodeType,s===9)Zo(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=a.sibling,e!==null){e.return=a.return,Rt=e;break}Rt=a.return}}function hf(e,a,s){var n=s.flags;switch(s.tag){case 0:case 11:case 15:ls(e,s),n&4&&Ll(5,s);break;case 1:if(ls(e,s),n&4)if(e=s.stateNode,a===null)try{e.componentDidMount()}catch(x){Ie(s,s.return,x)}else{var o=tn(s.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(o,a,e.__reactInternalSnapshotBeforeUpdate)}catch(x){Ie(s,s.return,x)}}n&64&&of(s),n&512&&zl(s,s.return);break;case 3:if(ls(e,s),n&64&&(e=s.updateQueue,e!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{Pu(e,a)}catch(x){Ie(s,s.return,x)}}break;case 27:a===null&&n&4&&ff(s);case 26:case 5:ls(e,s),a===null&&n&4&&uf(s),n&512&&zl(s,s.return);break;case 12:ls(e,s);break;case 31:ls(e,s),n&4&&bf(e,s);break;case 13:ls(e,s),n&4&&yf(e,s),n&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=P0.bind(null,s),bp(e,s))));break;case 22:if(n=s.memoizedState!==null||ss,!n){a=a!==null&&a.memoizedState!==null||vt,o=ss;var u=vt;ss=n,(vt=a)&&!u?is(e,s,(s.subtreeFlags&8772)!==0):ls(e,s),ss=o,vt=u}break;case 30:break;default:ls(e,s)}}function gf(e){var a=e.alternate;a!==null&&(e.alternate=null,gf(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&Wr(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var rt=null,Ft=!1;function ns(e,a,s){for(s=s.child;s!==null;)pf(e,a,s),s=s.sibling}function pf(e,a,s){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(ra,s)}catch{}switch(s.tag){case 26:vt||La(s,a),ns(e,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:vt||La(s,a);var n=rt,o=Ft;Ls(s.type)&&(rt=s.stateNode,Ft=!1),ns(e,a,s),Vl(s.stateNode),rt=n,Ft=o;break;case 5:vt||La(s,a);case 6:if(n=rt,o=Ft,rt=null,ns(e,a,s),rt=n,Ft=o,rt!==null)if(Ft)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(s.stateNode)}catch(u){Ie(s,a,u)}else try{rt.removeChild(s.stateNode)}catch(u){Ie(s,a,u)}break;case 18:rt!==null&&(Ft?(e=rt,ox(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),In(e)):ox(rt,s.stateNode));break;case 4:n=rt,o=Ft,rt=s.stateNode.containerInfo,Ft=!0,ns(e,a,s),rt=n,Ft=o;break;case 0:case 11:case 14:case 15:As(2,s,a),vt||As(4,s,a),ns(e,a,s);break;case 1:vt||(La(s,a),n=s.stateNode,typeof n.componentWillUnmount=="function"&&df(s,a,n)),ns(e,a,s);break;case 21:ns(e,a,s);break;case 22:vt=(n=vt)||s.memoizedState!==null,ns(e,a,s),vt=n;break;default:ns(e,a,s)}}function bf(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{In(e)}catch(s){Ie(a,a.return,s)}}}function yf(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{In(e)}catch(s){Ie(a,a.return,s)}}function G0(e){switch(e.tag){case 31:case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new xf),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new xf),a;default:throw Error(c(435,e.tag))}}function tr(e,a){var s=G0(e);a.forEach(function(n){if(!s.has(n)){s.add(n);var o=W0.bind(null,e,n);n.then(o,o)}})}function Vt(e,a){var s=a.deletions;if(s!==null)for(var n=0;n<s.length;n++){var o=s[n],u=e,x=a,j=x;e:for(;j!==null;){switch(j.tag){case 27:if(Ls(j.type)){rt=j.stateNode,Ft=!1;break e}break;case 5:rt=j.stateNode,Ft=!1;break e;case 3:case 4:rt=j.stateNode.containerInfo,Ft=!0;break e}j=j.return}if(rt===null)throw Error(c(160));pf(u,x,o),rt=null,Ft=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)vf(a,e),a=a.sibling}var ja=null;function vf(e,a){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Vt(a,e),Gt(e),n&4&&(As(3,e,e.return),Ll(3,e),As(5,e,e.return));break;case 1:Vt(a,e),Gt(e),n&512&&(vt||s===null||La(s,s.return)),n&64&&ss&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?n:s.concat(n))));break;case 26:var o=ja;if(Vt(a,e),Gt(e),n&512&&(vt||s===null||La(s,s.return)),n&4){var u=s!==null?s.memoizedState:null;if(n=e.memoizedState,s===null)if(n===null)if(e.stateNode===null){e:{n=e.type,s=e.memoizedProps,o=o.ownerDocument||o;t:switch(n){case"title":u=o.getElementsByTagName("title")[0],(!u||u[rl]||u[Oe]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(n),o.head.insertBefore(u,o.querySelector("head > title"))),Lt(u,n,s),u[Oe]=e,Tt(u),n=u;break e;case"link":var x=vx("link","href",o).get(n+(s.href||""));if(x){for(var j=0;j<x.length;j++)if(u=x[j],u.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&u.getAttribute("rel")===(s.rel==null?null:s.rel)&&u.getAttribute("title")===(s.title==null?null:s.title)&&u.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){x.splice(j,1);break t}}u=o.createElement(n),Lt(u,n,s),o.head.appendChild(u);break;case"meta":if(x=vx("meta","content",o).get(n+(s.content||""))){for(j=0;j<x.length;j++)if(u=x[j],u.getAttribute("content")===(s.content==null?null:""+s.content)&&u.getAttribute("name")===(s.name==null?null:s.name)&&u.getAttribute("property")===(s.property==null?null:s.property)&&u.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&u.getAttribute("charset")===(s.charSet==null?null:s.charSet)){x.splice(j,1);break t}}u=o.createElement(n),Lt(u,n,s),o.head.appendChild(u);break;default:throw Error(c(468,n))}u[Oe]=e,Tt(u),n=u}e.stateNode=n}else jx(o,e.type,e.stateNode);else e.stateNode=yx(o,n,e.memoizedProps);else u!==n?(u===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):u.count--,n===null?jx(o,e.type,e.stateNode):yx(o,n,e.memoizedProps)):n===null&&e.stateNode!==null&&jo(e,e.memoizedProps,s.memoizedProps)}break;case 27:Vt(a,e),Gt(e),n&512&&(vt||s===null||La(s,s.return)),s!==null&&n&4&&jo(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Vt(a,e),Gt(e),n&512&&(vt||s===null||La(s,s.return)),e.flags&32){o=e.stateNode;try{yn(o,"")}catch(ye){Ie(e,e.return,ye)}}n&4&&e.stateNode!=null&&(o=e.memoizedProps,jo(e,o,s!==null?s.memoizedProps:o)),n&1024&&(wo=!0);break;case 6:if(Vt(a,e),Gt(e),n&4){if(e.stateNode===null)throw Error(c(162));n=e.memoizedProps,s=e.stateNode;try{s.nodeValue=n}catch(ye){Ie(e,e.return,ye)}}break;case 3:if(pr=null,o=ja,ja=hr(a.containerInfo),Vt(a,e),ja=o,Gt(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{In(a.containerInfo)}catch(ye){Ie(e,e.return,ye)}wo&&(wo=!1,jf(e));break;case 4:n=ja,ja=hr(e.stateNode.containerInfo),Vt(a,e),Gt(e),ja=n;break;case 12:Vt(a,e),Gt(e);break;case 31:Vt(a,e),Gt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,tr(e,n)));break;case 13:Vt(a,e),Gt(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(sr=St()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,tr(e,n)));break;case 22:o=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,F=ss,J=vt;if(ss=F||o,vt=J||C,Vt(a,e),vt=J,ss=F,Gt(e),n&8192)e:for(a=e.stateNode,a._visibility=o?a._visibility&-2:a._visibility|1,o&&(s===null||C||ss||vt||an(e)),s=null,a=e;;){if(a.tag===5||a.tag===26){if(s===null){C=s=a;try{if(u=C.stateNode,o)x=u.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{j=C.stateNode;var te=C.memoizedProps.style,G=te!=null&&te.hasOwnProperty("display")?te.display:null;j.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ye){Ie(C,C.return,ye)}}}else if(a.tag===6){if(s===null){C=a;try{C.stateNode.nodeValue=o?"":C.memoizedProps}catch(ye){Ie(C,C.return,ye)}}}else if(a.tag===18){if(s===null){C=a;try{var K=C.stateNode;o?dx(K,!0):dx(C.stateNode,!1)}catch(ye){Ie(C,C.return,ye)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}n&4&&(n=e.updateQueue,n!==null&&(s=n.retryQueue,s!==null&&(n.retryQueue=null,tr(e,s))));break;case 19:Vt(a,e),Gt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,tr(e,n)));break;case 30:break;case 21:break;default:Vt(a,e),Gt(e)}}function Gt(e){var a=e.flags;if(a&2){try{for(var s,n=e.return;n!==null;){if(mf(n)){s=n;break}n=n.return}if(s==null)throw Error(c(160));switch(s.tag){case 27:var o=s.stateNode,u=No(e);er(e,u,o);break;case 5:var x=s.stateNode;s.flags&32&&(yn(x,""),s.flags&=-33);var j=No(e);er(e,j,x);break;case 3:case 4:var C=s.stateNode.containerInfo,F=No(e);So(e,F,C);break;default:throw Error(c(161))}}catch(J){Ie(e,e.return,J)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function jf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;jf(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function ls(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)hf(e,a.alternate,a),a=a.sibling}function an(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:As(4,a,a.return),an(a);break;case 1:La(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&df(a,a.return,s),an(a);break;case 27:Vl(a.stateNode);case 26:case 5:La(a,a.return),an(a);break;case 22:a.memoizedState===null&&an(a);break;case 30:an(a);break;default:an(a)}e=e.sibling}}function is(e,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var n=a.alternate,o=e,u=a,x=u.flags;switch(u.tag){case 0:case 11:case 15:is(o,u,s),Ll(4,u);break;case 1:if(is(o,u,s),n=u,o=n.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(F){Ie(n,n.return,F)}if(n=u,o=n.updateQueue,o!==null){var j=n.stateNode;try{var C=o.shared.hiddenCallbacks;if(C!==null)for(o.shared.hiddenCallbacks=null,o=0;o<C.length;o++)Ju(C[o],j)}catch(F){Ie(n,n.return,F)}}s&&x&64&&of(u),zl(u,u.return);break;case 27:ff(u);case 26:case 5:is(o,u,s),s&&n===null&&x&4&&uf(u),zl(u,u.return);break;case 12:is(o,u,s);break;case 31:is(o,u,s),s&&x&4&&bf(o,u);break;case 13:is(o,u,s),s&&x&4&&yf(o,u);break;case 22:u.memoizedState===null&&is(o,u,s),zl(u,u.return);break;case 30:break;default:is(o,u,s)}a=a.sibling}}function Eo(e,a){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&vl(s))}function Ao(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&vl(e))}function Na(e,a,s,n){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Nf(e,a,s,n),a=a.sibling}function Nf(e,a,s,n){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Na(e,a,s,n),o&2048&&Ll(9,a);break;case 1:Na(e,a,s,n);break;case 3:Na(e,a,s,n),o&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&vl(e)));break;case 12:if(o&2048){Na(e,a,s,n),e=a.stateNode;try{var u=a.memoizedProps,x=u.id,j=u.onPostCommit;typeof j=="function"&&j(x,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Ie(a,a.return,C)}}else Na(e,a,s,n);break;case 31:Na(e,a,s,n);break;case 13:Na(e,a,s,n);break;case 23:break;case 22:u=a.stateNode,x=a.alternate,a.memoizedState!==null?u._visibility&2?Na(e,a,s,n):kl(e,a):u._visibility&2?Na(e,a,s,n):(u._visibility|=2,qn(e,a,s,n,(a.subtreeFlags&10256)!==0||!1)),o&2048&&Eo(x,a);break;case 24:Na(e,a,s,n),o&2048&&Ao(a.alternate,a);break;default:Na(e,a,s,n)}}function qn(e,a,s,n,o){for(o=o&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var u=e,x=a,j=s,C=n,F=x.flags;switch(x.tag){case 0:case 11:case 15:qn(u,x,j,C,o),Ll(8,x);break;case 23:break;case 22:var J=x.stateNode;x.memoizedState!==null?J._visibility&2?qn(u,x,j,C,o):kl(u,x):(J._visibility|=2,qn(u,x,j,C,o)),o&&F&2048&&Eo(x.alternate,x);break;case 24:qn(u,x,j,C,o),o&&F&2048&&Ao(x.alternate,x);break;default:qn(u,x,j,C,o)}a=a.sibling}}function kl(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=e,n=a,o=n.flags;switch(n.tag){case 22:kl(s,n),o&2048&&Eo(n.alternate,n);break;case 24:kl(s,n),o&2048&&Ao(n.alternate,n);break;default:kl(s,n)}a=a.sibling}}var Ul=8192;function Hn(e,a,s){if(e.subtreeFlags&Ul)for(e=e.child;e!==null;)Sf(e,a,s),e=e.sibling}function Sf(e,a,s){switch(e.tag){case 26:Hn(e,a,s),e.flags&Ul&&e.memoizedState!==null&&Dp(s,ja,e.memoizedState,e.memoizedProps);break;case 5:Hn(e,a,s);break;case 3:case 4:var n=ja;ja=hr(e.stateNode.containerInfo),Hn(e,a,s),ja=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Ul,Ul=16777216,Hn(e,a,s),Ul=n):Hn(e,a,s));break;default:Hn(e,a,s)}}function wf(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function _l(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var n=a[s];Rt=n,Af(n,e)}wf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ef(e),e=e.sibling}function Ef(e){switch(e.tag){case 0:case 11:case 15:_l(e),e.flags&2048&&As(9,e,e.return);break;case 3:_l(e);break;case 12:_l(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,ar(e)):_l(e);break;default:_l(e)}}function ar(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var n=a[s];Rt=n,Af(n,e)}wf(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:As(8,a,a.return),ar(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,ar(a));break;default:ar(a)}e=e.sibling}}function Af(e,a){for(;Rt!==null;){var s=Rt;switch(s.tag){case 0:case 11:case 15:As(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var n=s.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:vl(s.memoizedState.cache)}if(n=s.child,n!==null)n.return=s,Rt=n;else e:for(s=e;Rt!==null;){n=Rt;var o=n.sibling,u=n.return;if(gf(n),n===s){Rt=null;break e}if(o!==null){o.return=u,Rt=o;break e}Rt=u}}}var Y0={getCacheForType:function(e){var a=Ot(pt),s=a.data.get(e);return s===void 0&&(s=e(),a.data.set(e,s)),s},cacheSignal:function(){return Ot(pt).controller.signal}},X0=typeof WeakMap=="function"?WeakMap:Map,Qe=0,at=null,Be=null,He=0,Ze=0,ta=null,Cs=!1,$n=!1,Co=!1,rs=0,mt=0,Ts=0,sn=0,To=0,aa=0,Fn=0,Bl=null,Yt=null,Ro=!1,sr=0,Cf=0,nr=1/0,lr=null,Rs=null,Et=0,Ds=null,Vn=null,cs=0,Do=0,Oo=null,Tf=null,ql=0,Mo=null;function sa(){return(Qe&2)!==0&&He!==0?He&-He:S.T!==null?Bo():De()}function Rf(){if(aa===0)if((He&536870912)===0||Fe){var e=fs;fs<<=1,(fs&3932160)===0&&(fs=262144),aa=e}else aa=536870912;return e=Wt.current,e!==null&&(e.flags|=32),aa}function Xt(e,a,s){(e===at&&(Ze===2||Ze===9)||e.cancelPendingCommit!==null)&&(Gn(e,0),Os(e,He,aa,!1)),oa(e,s),((Qe&2)===0||e!==at)&&(e===at&&((Qe&2)===0&&(sn|=s),mt===4&&Os(e,He,aa,!1)),za(e))}function Df(e,a,s){if((Qe&6)!==0)throw Error(c(327));var n=!s&&(a&127)===0&&(a&e.expiredLanes)===0||ge(e,a),o=n?Z0(e,a):zo(e,a,!0),u=n;do{if(o===0){$n&&!n&&Os(e,a,0,!1);break}else{if(s=e.current.alternate,u&&!Q0(s)){o=zo(e,a,!1),u=!1;continue}if(o===2){if(u=a,e.errorRecoveryDisabledLanes&u)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){a=x;e:{var j=e;o=Bl;var C=j.current.memoizedState.isDehydrated;if(C&&(Gn(j,x).flags|=256),x=zo(j,x,!1),x!==2){if(Co&&!C){j.errorRecoveryDisabledLanes|=u,sn|=u,o=4;break e}u=Yt,Yt=o,u!==null&&(Yt===null?Yt=u:Yt.push.apply(Yt,u))}o=x}if(u=!1,o!==2)continue}}if(o===1){Gn(e,0),Os(e,a,0,!0);break}e:{switch(n=e,u=o,u){case 0:case 1:throw Error(c(345));case 4:if((a&4194048)!==a)break;case 6:Os(n,a,aa,!Cs);break e;case 2:Yt=null;break;case 3:case 5:break;default:throw Error(c(329))}if((a&62914560)===a&&(o=sr+300-St(),10<o)){if(Os(n,a,aa,!Cs),I(n,0,!0)!==0)break e;cs=a,n.timeoutHandle=rx(Of.bind(null,n,s,Yt,lr,Ro,a,aa,sn,Fn,Cs,u,"Throttled",-0,0),o);break e}Of(n,s,Yt,lr,Ro,a,aa,sn,Fn,Cs,u,null,-0,0)}}break}while(!0);za(e)}function Of(e,a,s,n,o,u,x,j,C,F,J,te,G,K){if(e.timeoutHandle=-1,te=a.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qa},Sf(a,u,te);var ye=(u&62914560)===u?sr-St():(u&4194048)===u?Cf-St():0;if(ye=Op(te,ye),ye!==null){cs=u,e.cancelPendingCommit=ye(qf.bind(null,e,a,u,s,n,o,x,j,C,J,te,null,G,K)),Os(e,u,x,!F);return}}qf(e,a,u,s,n,o,x,j,C)}function Q0(e){for(var a=e;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var n=0;n<s.length;n++){var o=s[n],u=o.getSnapshot;o=o.value;try{if(!Jt(u(),o))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Os(e,a,s,n){a&=~To,a&=~sn,e.suspendedLanes|=a,e.pingedLanes&=~a,n&&(e.warmLanes|=a),n=e.expirationTimes;for(var o=a;0<o;){var u=31-ot(o),x=1<<u;n[u]=-1,o&=~x}s!==0&&Ga(e,s,a)}function ir(){return(Qe&6)===0?(Hl(0),!1):!0}function Lo(){if(Be!==null){if(Ze===0)var e=Be.return;else e=Be,Ja=Ks=null,Kc(e),zn=null,Nl=0,e=Be;for(;e!==null;)cf(e.alternate,e),e=e.return;Be=null}}function Gn(e,a){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,fp(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),cs=0,Lo(),at=e,Be=s=Za(e.current,null),He=a,Ze=0,ta=null,Cs=!1,$n=ge(e,a),Co=!1,Fn=aa=To=sn=Ts=mt=0,Yt=Bl=null,Ro=!1,(a&8)!==0&&(a|=a&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=a;0<n;){var o=31-ot(n),u=1<<o;a|=e[o],n&=~u}return rs=a,Ci(),s}function Mf(e,a){Le=null,S.H=Dl,a===Ln||a===ki?(a=Qu(),Ze=3):a===Uc?(a=Qu(),Ze=4):Ze=a===uo?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ta=a,Be===null&&(mt=1,Zi(e,fa(a,e.current)))}function Lf(){var e=Wt.current;return e===null?!0:(He&4194048)===He?pa===null:(He&62914560)===He||(He&536870912)!==0?e===pa:!1}function zf(){var e=S.H;return S.H=Dl,e===null?Dl:e}function kf(){var e=S.A;return S.A=Y0,e}function rr(){mt=4,Cs||(He&4194048)!==He&&Wt.current!==null||($n=!0),(Ts&134217727)===0&&(sn&134217727)===0||at===null||Os(at,He,aa,!1)}function zo(e,a,s){var n=Qe;Qe|=2;var o=zf(),u=kf();(at!==e||He!==a)&&(lr=null,Gn(e,a)),a=!1;var x=mt;e:do try{if(Ze!==0&&Be!==null){var j=Be,C=ta;switch(Ze){case 8:Lo(),x=6;break e;case 3:case 2:case 9:case 6:Wt.current===null&&(a=!0);var F=Ze;if(Ze=0,ta=null,Yn(e,j,C,F),s&&$n){x=0;break e}break;default:F=Ze,Ze=0,ta=null,Yn(e,j,C,F)}}K0(),x=mt;break}catch(J){Mf(e,J)}while(!0);return a&&e.shellSuspendCounter++,Ja=Ks=null,Qe=n,S.H=o,S.A=u,Be===null&&(at=null,He=0,Ci()),x}function K0(){for(;Be!==null;)Uf(Be)}function Z0(e,a){var s=Qe;Qe|=2;var n=zf(),o=kf();at!==e||He!==a?(lr=null,nr=St()+500,Gn(e,a)):$n=ge(e,a);e:do try{if(Ze!==0&&Be!==null){a=Be;var u=ta;t:switch(Ze){case 1:Ze=0,ta=null,Yn(e,a,u,1);break;case 2:case 9:if(Yu(u)){Ze=0,ta=null,_f(a);break}a=function(){Ze!==2&&Ze!==9||at!==e||(Ze=7),za(e)},u.then(a,a);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Yu(u)?(Ze=0,ta=null,_f(a)):(Ze=0,ta=null,Yn(e,a,u,7));break;case 5:var x=null;switch(Be.tag){case 26:x=Be.memoizedState;case 5:case 27:var j=Be;if(x?Nx(x):j.stateNode.complete){Ze=0,ta=null;var C=j.sibling;if(C!==null)Be=C;else{var F=j.return;F!==null?(Be=F,cr(F)):Be=null}break t}}Ze=0,ta=null,Yn(e,a,u,5);break;case 6:Ze=0,ta=null,Yn(e,a,u,6);break;case 8:Lo(),mt=6;break e;default:throw Error(c(462))}}I0();break}catch(J){Mf(e,J)}while(!0);return Ja=Ks=null,S.H=n,S.A=o,Qe=s,Be!==null?0:(at=null,He=0,Ci(),mt)}function I0(){for(;Be!==null&&!dn();)Uf(Be)}function Uf(e){var a=lf(e.alternate,e,rs);e.memoizedProps=e.pendingProps,a===null?cr(e):Be=a}function _f(e){var a=e,s=a.alternate;switch(a.tag){case 15:case 0:a=Wm(s,a,a.pendingProps,a.type,void 0,He);break;case 11:a=Wm(s,a,a.pendingProps,a.type.render,a.ref,He);break;case 5:Kc(a);default:cf(s,a),a=Be=zu(a,rs),a=lf(s,a,rs)}e.memoizedProps=e.pendingProps,a===null?cr(e):Be=a}function Yn(e,a,s,n){Ja=Ks=null,Kc(a),zn=null,Nl=0;var o=a.return;try{if(B0(e,o,a,s,He)){mt=1,Zi(e,fa(s,e.current)),Be=null;return}}catch(u){if(o!==null)throw Be=o,u;mt=1,Zi(e,fa(s,e.current)),Be=null;return}a.flags&32768?(Fe||n===1?e=!0:$n||(He&536870912)!==0?e=!1:(Cs=e=!0,(n===2||n===9||n===3||n===6)&&(n=Wt.current,n!==null&&n.tag===13&&(n.flags|=16384))),Bf(a,e)):cr(a)}function cr(e){var a=e;do{if((a.flags&32768)!==0){Bf(a,Cs);return}e=a.return;var s=$0(a.alternate,a,rs);if(s!==null){Be=s;return}if(a=a.sibling,a!==null){Be=a;return}Be=a=e}while(a!==null);mt===0&&(mt=5)}function Bf(e,a){do{var s=F0(e.alternate,e);if(s!==null){s.flags&=32767,Be=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(e=e.sibling,e!==null)){Be=e;return}Be=e=s}while(e!==null);mt=6,Be=null}function qf(e,a,s,n,o,u,x,j,C){e.cancelPendingCommit=null;do or();while(Et!==0);if((Qe&6)!==0)throw Error(c(327));if(a!==null){if(a===e.current)throw Error(c(177));if(u=a.lanes|a.childLanes,u|=jc,Pr(e,s,u,x,j,C),e===at&&(Be=at=null,He=0),Vn=a,Ds=e,cs=s,Do=u,Oo=o,Tf=n,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ep(Ra,function(){return Gf(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||n){n=S.T,S.T=null,o=w.p,w.p=2,x=Qe,Qe|=4;try{V0(e,a,s)}finally{Qe=x,w.p=o,S.T=n}}Et=1,Hf(),$f(),Ff()}}function Hf(){if(Et===1){Et=0;var e=Ds,a=Vn,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=S.T,S.T=null;var n=w.p;w.p=2;var o=Qe;Qe|=4;try{vf(a,e);var u=Xo,x=Eu(e.containerInfo),j=u.focusedElem,C=u.selectionRange;if(x!==j&&j&&j.ownerDocument&&wu(j.ownerDocument.documentElement,j)){if(C!==null&&gc(j)){var F=C.start,J=C.end;if(J===void 0&&(J=F),"selectionStart"in j)j.selectionStart=F,j.selectionEnd=Math.min(J,j.value.length);else{var te=j.ownerDocument||document,G=te&&te.defaultView||window;if(G.getSelection){var K=G.getSelection(),ye=j.textContent.length,Ee=Math.min(C.start,ye),et=C.end===void 0?Ee:Math.min(C.end,ye);!K.extend&&Ee>et&&(x=et,et=Ee,Ee=x);var z=Su(j,Ee),M=Su(j,et);if(z&&M&&(K.rangeCount!==1||K.anchorNode!==z.node||K.anchorOffset!==z.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var $=te.createRange();$.setStart(z.node,z.offset),K.removeAllRanges(),Ee>et?(K.addRange($),K.extend(M.node,M.offset)):($.setEnd(M.node,M.offset),K.addRange($))}}}}for(te=[],K=j;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<te.length;j++){var W=te[j];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}jr=!!Yo,Xo=Yo=null}finally{Qe=o,w.p=n,S.T=s}}e.current=a,Et=2}}function $f(){if(Et===2){Et=0;var e=Ds,a=Vn,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=S.T,S.T=null;var n=w.p;w.p=2;var o=Qe;Qe|=4;try{hf(e,a.alternate,a)}finally{Qe=o,w.p=n,S.T=s}}Et=3}}function Ff(){if(Et===4||Et===3){Et=0,un();var e=Ds,a=Vn,s=cs,n=Tf;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Et=5:(Et=0,Vn=Ds=null,Vf(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Rs=null),ve(s),a=a.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(ra,a,void 0,(a.current.flags&128)===128)}catch{}if(n!==null){a=S.T,o=w.p,w.p=2,S.T=null;try{for(var u=e.onRecoverableError,x=0;x<n.length;x++){var j=n[x];u(j.value,{componentStack:j.stack})}}finally{S.T=a,w.p=o}}(cs&3)!==0&&or(),za(e),o=e.pendingLanes,(s&261930)!==0&&(o&42)!==0?e===Mo?ql++:(ql=0,Mo=e):ql=0,Hl(0)}}function Vf(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,vl(a)))}function or(){return Hf(),$f(),Ff(),Gf()}function Gf(){if(Et!==5)return!1;var e=Ds,a=Do;Do=0;var s=ve(cs),n=S.T,o=w.p;try{w.p=32>s?32:s,S.T=null,s=Oo,Oo=null;var u=Ds,x=cs;if(Et=0,Vn=Ds=null,cs=0,(Qe&6)!==0)throw Error(c(331));var j=Qe;if(Qe|=4,Ef(u.current),Nf(u,u.current,x,s),Qe=j,Hl(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(ra,u)}catch{}return!0}finally{w.p=o,S.T=n,Vf(e,a)}}function Yf(e,a,s){a=fa(s,a),a=oo(e.stateNode,a,2),e=Ss(e,a,2),e!==null&&(oa(e,2),za(e))}function Ie(e,a,s){if(e.tag===3)Yf(e,e,s);else for(;a!==null;){if(a.tag===3){Yf(a,e,s);break}else if(a.tag===1){var n=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Rs===null||!Rs.has(n))){e=fa(s,e),s=Ym(2),n=Ss(a,s,2),n!==null&&(Xm(s,n,a,e),oa(n,2),za(n));break}}a=a.return}}function ko(e,a,s){var n=e.pingCache;if(n===null){n=e.pingCache=new X0;var o=new Set;n.set(a,o)}else o=n.get(a),o===void 0&&(o=new Set,n.set(a,o));o.has(s)||(Co=!0,o.add(s),e=J0.bind(null,e,a,s),a.then(e,e))}function J0(e,a,s){var n=e.pingCache;n!==null&&n.delete(a),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,at===e&&(He&s)===s&&(mt===4||mt===3&&(He&62914560)===He&&300>St()-sr?(Qe&2)===0&&Gn(e,0):To|=s,Fn===He&&(Fn=0)),za(e)}function Xf(e,a){a===0&&(a=Ue()),e=Ys(e,a),e!==null&&(oa(e,a),za(e))}function P0(e){var a=e.memoizedState,s=0;a!==null&&(s=a.retryLane),Xf(e,s)}function W0(e,a){var s=0;switch(e.tag){case 31:case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(s=o.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(c(314))}n!==null&&n.delete(a),Xf(e,s)}function ep(e,a){return qa(e,a)}var dr=null,Xn=null,Uo=!1,ur=!1,_o=!1,Ms=0;function za(e){e!==Xn&&e.next===null&&(Xn===null?dr=Xn=e:Xn=Xn.next=e),ur=!0,Uo||(Uo=!0,ap())}function Hl(e,a){if(!_o&&ur){_o=!0;do for(var s=!1,n=dr;n!==null;){if(e!==0){var o=n.pendingLanes;if(o===0)var u=0;else{var x=n.suspendedLanes,j=n.pingedLanes;u=(1<<31-ot(42|e)+1)-1,u&=o&~(x&~j),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(s=!0,If(n,u))}else u=He,u=I(n,n===at?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(u&3)===0||ge(n,u)||(s=!0,If(n,u));n=n.next}while(s);_o=!1}}function tp(){Qf()}function Qf(){ur=Uo=!1;var e=0;Ms!==0&&mp()&&(e=Ms);for(var a=St(),s=null,n=dr;n!==null;){var o=n.next,u=Kf(n,a);u===0?(n.next=null,s===null?dr=o:s.next=o,o===null&&(Xn=s)):(s=n,(e!==0||(u&3)!==0)&&(ur=!0)),n=o}Et!==0&&Et!==5||Hl(e),Ms!==0&&(Ms=0)}function Kf(e,a){for(var s=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var x=31-ot(u),j=1<<x,C=o[x];C===-1?((j&s)===0||(j&n)!==0)&&(o[x]=pe(j,a)):C<=a&&(e.expiredLanes|=j),u&=~j}if(a=at,s=He,s=I(e,e===a?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,s===0||e===a&&(Ze===2||Ze===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Ha(n),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||ge(e,s)){if(a=s&-s,a===e.callbackPriority)return a;switch(n!==null&&Ha(n),ve(s)){case 2:case 8:s=mn;break;case 32:s=Ra;break;case 268435456:s=It;break;default:s=Ra}return n=Zf.bind(null,e),s=qa(s,n),e.callbackPriority=a,e.callbackNode=s,a}return n!==null&&n!==null&&Ha(n),e.callbackPriority=2,e.callbackNode=null,2}function Zf(e,a){if(Et!==0&&Et!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(or()&&e.callbackNode!==s)return null;var n=He;return n=I(e,e===at?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Df(e,n,a),Kf(e,St()),e.callbackNode!=null&&e.callbackNode===s?Zf.bind(null,e):null)}function If(e,a){if(or())return null;Df(e,a,!0)}function ap(){xp(function(){(Qe&6)!==0?qa(ke,tp):Qf()})}function Bo(){if(Ms===0){var e=On;e===0&&(e=qt,qt<<=1,(qt&261888)===0&&(qt=256)),Ms=e}return Ms}function Jf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:yi(""+e)}function Pf(e,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,e.id&&s.setAttribute("form",e.id),a.parentNode.insertBefore(s,a),e=new FormData(e),s.parentNode.removeChild(s),e}function sp(e,a,s,n,o){if(a==="submit"&&s&&s.stateNode===o){var u=Jf((o[ct]||null).action),x=n.submitter;x&&(a=(a=x[ct]||null)?Jf(a.formAction):x.getAttribute("formAction"),a!==null&&(u=a,x=null));var j=new Si("action","action",null,n,o);e.push({event:j,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Ms!==0){var C=x?Pf(o,x):new FormData(o);so(s,{pending:!0,data:C,method:o.method,action:u},null,C)}}else typeof u=="function"&&(j.preventDefault(),C=x?Pf(o,x):new FormData(o),so(s,{pending:!0,data:C,method:o.method,action:u},u,C))},currentTarget:o}]})}}for(var qo=0;qo<vc.length;qo++){var Ho=vc[qo],np=Ho.toLowerCase(),lp=Ho[0].toUpperCase()+Ho.slice(1);va(np,"on"+lp)}va(Tu,"onAnimationEnd"),va(Ru,"onAnimationIteration"),va(Du,"onAnimationStart"),va("dblclick","onDoubleClick"),va("focusin","onFocus"),va("focusout","onBlur"),va(j0,"onTransitionRun"),va(N0,"onTransitionStart"),va(S0,"onTransitionCancel"),va(Ou,"onTransitionEnd"),pn("onMouseEnter",["mouseout","mouseover"]),pn("onMouseLeave",["mouseout","mouseover"]),pn("onPointerEnter",["pointerout","pointerover"]),pn("onPointerLeave",["pointerout","pointerover"]),$s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$s("onBeforeInput",["compositionend","keypress","textInput","paste"]),$s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ip=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function Wf(e,a){a=(a&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],o=n.event;n=n.listeners;e:{var u=void 0;if(a)for(var x=n.length-1;0<=x;x--){var j=n[x],C=j.instance,F=j.currentTarget;if(j=j.listener,C!==u&&o.isPropagationStopped())break e;u=j,o.currentTarget=F;try{u(o)}catch(J){Ai(J)}o.currentTarget=null,u=C}else for(x=0;x<n.length;x++){if(j=n[x],C=j.instance,F=j.currentTarget,j=j.listener,C!==u&&o.isPropagationStopped())break e;u=j,o.currentTarget=F;try{u(o)}catch(J){Ai(J)}o.currentTarget=null,u=C}}}}function qe(e,a){var s=a[Ya];s===void 0&&(s=a[Ya]=new Set);var n=e+"__bubble";s.has(n)||(ex(a,e,2,!1),s.add(n))}function $o(e,a,s){var n=0;a&&(n|=4),ex(s,e,n,a)}var mr="_reactListening"+Math.random().toString(36).slice(2);function Fo(e){if(!e[mr]){e[mr]=!0,Xd.forEach(function(s){s!=="selectionchange"&&(ip.has(s)||$o(s,!1,e),$o(s,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[mr]||(a[mr]=!0,$o("selectionchange",!1,a))}}function ex(e,a,s,n){switch(Rx(a)){case 2:var o=zp;break;case 8:o=kp;break;default:o=sd}s=o.bind(null,a,s,e),o=void 0,!rc||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(a,s,{capture:!0,passive:o}):e.addEventListener(a,s,!0):o!==void 0?e.addEventListener(a,s,{passive:o}):e.addEventListener(a,s,!1)}function Vo(e,a,s,n,o){var u=n;if((a&1)===0&&(a&2)===0&&n!==null)e:for(;;){if(n===null)return;var x=n.tag;if(x===3||x===4){var j=n.stateNode.containerInfo;if(j===o)break;if(x===4)for(x=n.return;x!==null;){var C=x.tag;if((C===3||C===4)&&x.stateNode.containerInfo===o)return;x=x.return}for(;j!==null;){if(x=xn(j),x===null)return;if(C=x.tag,C===5||C===6||C===26||C===27){n=u=x;continue e}j=j.parentNode}}n=n.return}nu(function(){var F=u,J=lc(s),te=[];e:{var G=Mu.get(e);if(G!==void 0){var K=Si,ye=e;switch(e){case"keypress":if(ji(s)===0)break e;case"keydown":case"keyup":K=Wg;break;case"focusin":ye="focus",K=uc;break;case"focusout":ye="blur",K=uc;break;case"beforeblur":case"afterblur":K=uc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=ru;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=$g;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=a0;break;case Tu:case Ru:case Du:K=Gg;break;case Ou:K=n0;break;case"scroll":case"scrollend":K=qg;break;case"wheel":K=i0;break;case"copy":case"cut":case"paste":K=Xg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=ou;break;case"toggle":case"beforetoggle":K=c0}var Ee=(a&4)!==0,et=!Ee&&(e==="scroll"||e==="scrollend"),z=Ee?G!==null?G+"Capture":null:G;Ee=[];for(var M=F,$;M!==null;){var W=M;if($=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||$===null||z===null||(W=ol(M,z),W!=null&&Ee.push(Fl(M,W,$))),et)break;M=M.return}0<Ee.length&&(G=new K(G,ye,null,s,J),te.push({event:G,listeners:Ee}))}}if((a&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",G&&s!==nc&&(ye=s.relatedTarget||s.fromElement)&&(xn(ye)||ye[wt]))break e;if((K||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,K?(ye=s.relatedTarget||s.toElement,K=F,ye=ye?xn(ye):null,ye!==null&&(et=m(ye),Ee=ye.tag,ye!==et||Ee!==5&&Ee!==27&&Ee!==6)&&(ye=null)):(K=null,ye=F),K!==ye)){if(Ee=ru,W="onMouseLeave",z="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(Ee=ou,W="onPointerLeave",z="onPointerEnter",M="pointer"),et=K==null?G:cl(K),$=ye==null?G:cl(ye),G=new Ee(W,M+"leave",K,s,J),G.target=et,G.relatedTarget=$,W=null,xn(J)===F&&(Ee=new Ee(z,M+"enter",ye,s,J),Ee.target=$,Ee.relatedTarget=et,W=Ee),et=W,K&&ye)t:{for(Ee=rp,z=K,M=ye,$=0,W=z;W;W=Ee(W))$++;W=0;for(var we=M;we;we=Ee(we))W++;for(;0<$-W;)z=Ee(z),$--;for(;0<W-$;)M=Ee(M),W--;for(;$--;){if(z===M||M!==null&&z===M.alternate){Ee=z;break t}z=Ee(z),M=Ee(M)}Ee=null}else Ee=null;K!==null&&tx(te,G,K,Ee,!1),ye!==null&&et!==null&&tx(te,et,ye,Ee,!0)}}e:{if(G=F?cl(F):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var Ye=pu;else if(hu(G))if(bu)Ye=b0;else{Ye=g0;var je=h0}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&sc(F.elementType)&&(Ye=pu):Ye=p0;if(Ye&&(Ye=Ye(e,F))){gu(te,Ye,s,J);break e}je&&je(e,G,F),e==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&ac(G,"number",G.value)}switch(je=F?cl(F):window,e){case"focusin":(hu(je)||je.contentEditable==="true")&&(Sn=je,pc=F,pl=null);break;case"focusout":pl=pc=Sn=null;break;case"mousedown":bc=!0;break;case"contextmenu":case"mouseup":case"dragend":bc=!1,Au(te,s,J);break;case"selectionchange":if(v0)break;case"keydown":case"keyup":Au(te,s,J)}var ze;if(fc)e:{switch(e){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Nn?fu(e,s)&&($e="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&($e="onCompositionStart");$e&&(du&&s.locale!=="ko"&&(Nn||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Nn&&(ze=lu()):(gs=J,cc="value"in gs?gs.value:gs.textContent,Nn=!0)),je=fr(F,$e),0<je.length&&($e=new cu($e,e,null,s,J),te.push({event:$e,listeners:je}),ze?$e.data=ze:(ze=xu(s),ze!==null&&($e.data=ze)))),(ze=d0?u0(e,s):m0(e,s))&&($e=fr(F,"onBeforeInput"),0<$e.length&&(je=new cu("onBeforeInput","beforeinput",null,s,J),te.push({event:je,listeners:$e}),je.data=ze)),sp(te,e,F,s,J)}Wf(te,a)})}function Fl(e,a,s){return{instance:e,listener:a,currentTarget:s}}function fr(e,a){for(var s=a+"Capture",n=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=ol(e,s),o!=null&&n.unshift(Fl(e,o,u)),o=ol(e,a),o!=null&&n.push(Fl(e,o,u))),e.tag===3)return n;e=e.return}return[]}function rp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function tx(e,a,s,n,o){for(var u=a._reactName,x=[];s!==null&&s!==n;){var j=s,C=j.alternate,F=j.stateNode;if(j=j.tag,C!==null&&C===n)break;j!==5&&j!==26&&j!==27||F===null||(C=F,o?(F=ol(s,u),F!=null&&x.unshift(Fl(s,F,C))):o||(F=ol(s,u),F!=null&&x.push(Fl(s,F,C)))),s=s.return}x.length!==0&&e.push({event:a,listeners:x})}var cp=/\r\n?/g,op=/\u0000|\uFFFD/g;function ax(e){return(typeof e=="string"?e:""+e).replace(cp,`
`).replace(op,"")}function sx(e,a){return a=ax(a),ax(e)===a}function We(e,a,s,n,o,u){switch(s){case"children":typeof n=="string"?a==="body"||a==="textarea"&&n===""||yn(e,n):(typeof n=="number"||typeof n=="bigint")&&a!=="body"&&yn(e,""+n);break;case"className":pi(e,"class",n);break;case"tabIndex":pi(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":pi(e,s,n);break;case"style":au(e,n,u);break;case"data":if(a!=="object"){pi(e,"data",n);break}case"src":case"href":if(n===""&&(a!=="a"||s!=="href")){e.removeAttribute(s);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(s);break}n=yi(""+n),e.setAttribute(s,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(s==="formAction"?(a!=="input"&&We(e,a,"name",o.name,o,null),We(e,a,"formEncType",o.formEncType,o,null),We(e,a,"formMethod",o.formMethod,o,null),We(e,a,"formTarget",o.formTarget,o,null)):(We(e,a,"encType",o.encType,o,null),We(e,a,"method",o.method,o,null),We(e,a,"target",o.target,o,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(s);break}n=yi(""+n),e.setAttribute(s,n);break;case"onClick":n!=null&&(e.onclick=Qa);break;case"onScroll":n!=null&&qe("scroll",e);break;case"onScrollEnd":n!=null&&qe("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(c(61));if(s=n.__html,s!=null){if(o.children!=null)throw Error(c(60));e.innerHTML=s}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}s=yi(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(s,""+n):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":n===!0?e.setAttribute(s,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(s,n):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(s,n):e.removeAttribute(s);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(s):e.setAttribute(s,n);break;case"popover":qe("beforetoggle",e),qe("toggle",e),gi(e,"popover",n);break;case"xlinkActuate":Xa(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Xa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Xa(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Xa(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Xa(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Xa(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Xa(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Xa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Xa(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":gi(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=_g.get(s)||s,gi(e,s,n))}}function Go(e,a,s,n,o,u){switch(s){case"style":au(e,n,u);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(c(61));if(s=n.__html,s!=null){if(o.children!=null)throw Error(c(60));e.innerHTML=s}}break;case"children":typeof n=="string"?yn(e,n):(typeof n=="number"||typeof n=="bigint")&&yn(e,""+n);break;case"onScroll":n!=null&&qe("scroll",e);break;case"onScrollEnd":n!=null&&qe("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Qa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qd.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(o=s.endsWith("Capture"),a=s.slice(2,o?s.length-7:void 0),u=e[ct]||null,u=u!=null?u[s]:null,typeof u=="function"&&e.removeEventListener(a,u,o),typeof n=="function")){typeof u!="function"&&u!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(a,n,o);break e}s in e?e[s]=n:n===!0?e.setAttribute(s,""):gi(e,s,n)}}}function Lt(e,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",e),qe("load",e);var n=!1,o=!1,u;for(u in s)if(s.hasOwnProperty(u)){var x=s[u];if(x!=null)switch(u){case"src":n=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,a));default:We(e,a,u,x,s,null)}}o&&We(e,a,"srcSet",s.srcSet,s,null),n&&We(e,a,"src",s.src,s,null);return;case"input":qe("invalid",e);var j=u=x=o=null,C=null,F=null;for(n in s)if(s.hasOwnProperty(n)){var J=s[n];if(J!=null)switch(n){case"name":o=J;break;case"type":x=J;break;case"checked":C=J;break;case"defaultChecked":F=J;break;case"value":u=J;break;case"defaultValue":j=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(c(137,a));break;default:We(e,a,n,J,s,null)}}Pd(e,u,j,C,F,x,o,!1);return;case"select":qe("invalid",e),n=x=u=null;for(o in s)if(s.hasOwnProperty(o)&&(j=s[o],j!=null))switch(o){case"value":u=j;break;case"defaultValue":x=j;break;case"multiple":n=j;default:We(e,a,o,j,s,null)}a=u,s=x,e.multiple=!!n,a!=null?bn(e,!!n,a,!1):s!=null&&bn(e,!!n,s,!0);return;case"textarea":qe("invalid",e),u=o=n=null;for(x in s)if(s.hasOwnProperty(x)&&(j=s[x],j!=null))switch(x){case"value":n=j;break;case"defaultValue":o=j;break;case"children":u=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(c(91));break;default:We(e,a,x,j,s,null)}eu(e,n,o,u);return;case"option":for(C in s)s.hasOwnProperty(C)&&(n=s[C],n!=null)&&(C==="selected"?e.selected=n&&typeof n!="function"&&typeof n!="symbol":We(e,a,C,n,s,null));return;case"dialog":qe("beforetoggle",e),qe("toggle",e),qe("cancel",e),qe("close",e);break;case"iframe":case"object":qe("load",e);break;case"video":case"audio":for(n=0;n<$l.length;n++)qe($l[n],e);break;case"image":qe("error",e),qe("load",e);break;case"details":qe("toggle",e);break;case"embed":case"source":case"link":qe("error",e),qe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in s)if(s.hasOwnProperty(F)&&(n=s[F],n!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,a));default:We(e,a,F,n,s,null)}return;default:if(sc(a)){for(J in s)s.hasOwnProperty(J)&&(n=s[J],n!==void 0&&Go(e,a,J,n,s,void 0));return}}for(j in s)s.hasOwnProperty(j)&&(n=s[j],n!=null&&We(e,a,j,n,s,null))}function dp(e,a,s,n){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,x=null,j=null,C=null,F=null,J=null;for(K in s){var te=s[K];if(s.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":C=te;default:n.hasOwnProperty(K)||We(e,a,K,null,n,te)}}for(var G in n){var K=n[G];if(te=s[G],n.hasOwnProperty(G)&&(K!=null||te!=null))switch(G){case"type":u=K;break;case"name":o=K;break;case"checked":F=K;break;case"defaultChecked":J=K;break;case"value":x=K;break;case"defaultValue":j=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(c(137,a));break;default:K!==te&&We(e,a,G,K,n,te)}}tc(e,x,j,C,F,J,u,o);return;case"select":K=x=j=G=null;for(u in s)if(C=s[u],s.hasOwnProperty(u)&&C!=null)switch(u){case"value":break;case"multiple":K=C;default:n.hasOwnProperty(u)||We(e,a,u,null,n,C)}for(o in n)if(u=n[o],C=s[o],n.hasOwnProperty(o)&&(u!=null||C!=null))switch(o){case"value":G=u;break;case"defaultValue":j=u;break;case"multiple":x=u;default:u!==C&&We(e,a,o,u,n,C)}a=j,s=x,n=K,G!=null?bn(e,!!s,G,!1):!!n!=!!s&&(a!=null?bn(e,!!s,a,!0):bn(e,!!s,s?[]:"",!1));return;case"textarea":K=G=null;for(j in s)if(o=s[j],s.hasOwnProperty(j)&&o!=null&&!n.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:We(e,a,j,null,n,o)}for(x in n)if(o=n[x],u=s[x],n.hasOwnProperty(x)&&(o!=null||u!=null))switch(x){case"value":G=o;break;case"defaultValue":K=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(c(91));break;default:o!==u&&We(e,a,x,o,n,u)}Wd(e,G,K);return;case"option":for(var ye in s)G=s[ye],s.hasOwnProperty(ye)&&G!=null&&!n.hasOwnProperty(ye)&&(ye==="selected"?e.selected=!1:We(e,a,ye,null,n,G));for(C in n)G=n[C],K=s[C],n.hasOwnProperty(C)&&G!==K&&(G!=null||K!=null)&&(C==="selected"?e.selected=G&&typeof G!="function"&&typeof G!="symbol":We(e,a,C,G,n,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in s)G=s[Ee],s.hasOwnProperty(Ee)&&G!=null&&!n.hasOwnProperty(Ee)&&We(e,a,Ee,null,n,G);for(F in n)if(G=n[F],K=s[F],n.hasOwnProperty(F)&&G!==K&&(G!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(c(137,a));break;default:We(e,a,F,G,n,K)}return;default:if(sc(a)){for(var et in s)G=s[et],s.hasOwnProperty(et)&&G!==void 0&&!n.hasOwnProperty(et)&&Go(e,a,et,void 0,n,G);for(J in n)G=n[J],K=s[J],!n.hasOwnProperty(J)||G===K||G===void 0&&K===void 0||Go(e,a,J,G,n,K);return}}for(var z in s)G=s[z],s.hasOwnProperty(z)&&G!=null&&!n.hasOwnProperty(z)&&We(e,a,z,null,n,G);for(te in n)G=n[te],K=s[te],!n.hasOwnProperty(te)||G===K||G==null&&K==null||We(e,a,te,G,n,K)}function nx(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function up(){if(typeof performance.getEntriesByType=="function"){for(var e=0,a=0,s=performance.getEntriesByType("resource"),n=0;n<s.length;n++){var o=s[n],u=o.transferSize,x=o.initiatorType,j=o.duration;if(u&&j&&nx(x)){for(x=0,j=o.responseEnd,n+=1;n<s.length;n++){var C=s[n],F=C.startTime;if(F>j)break;var J=C.transferSize,te=C.initiatorType;J&&nx(te)&&(C=C.responseEnd,x+=J*(C<j?1:(j-F)/(C-F)))}if(--n,a+=8*(u+x)/(o.duration/1e3),e++,10<e)break}}if(0<e)return a/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Yo=null,Xo=null;function xr(e){return e.nodeType===9?e:e.ownerDocument}function lx(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ix(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function Qo(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ko=null;function mp(){var e=window.event;return e&&e.type==="popstate"?e===Ko?!1:(Ko=e,!0):(Ko=null,!1)}var rx=typeof setTimeout=="function"?setTimeout:void 0,fp=typeof clearTimeout=="function"?clearTimeout:void 0,cx=typeof Promise=="function"?Promise:void 0,xp=typeof queueMicrotask=="function"?queueMicrotask:typeof cx<"u"?function(e){return cx.resolve(null).then(e).catch(hp)}:rx;function hp(e){setTimeout(function(){throw e})}function Ls(e){return e==="head"}function ox(e,a){var s=a,n=0;do{var o=s.nextSibling;if(e.removeChild(s),o&&o.nodeType===8)if(s=o.data,s==="/$"||s==="/&"){if(n===0){e.removeChild(o),In(a);return}n--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")n++;else if(s==="html")Vl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Vl(s);for(var u=s.firstChild;u;){var x=u.nextSibling,j=u.nodeName;u[rl]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&u.rel.toLowerCase()==="stylesheet"||s.removeChild(u),u=x}}else s==="body"&&Vl(e.ownerDocument.body);s=o}while(s);In(a)}function dx(e,a){var s=e;e=0;do{var n=s.nextSibling;if(s.nodeType===1?a?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(a?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),n&&n.nodeType===8)if(s=n.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=n}while(s)}function Zo(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Zo(s),Wr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function gp(e,a,s,n){for(;e.nodeType===1;){var o=s;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[rl])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=ba(e.nextSibling),e===null)break}return null}function pp(e,a,s){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=ba(e.nextSibling),e===null))return null;return e}function ux(e,a){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ba(e.nextSibling),e===null))return null;return e}function Io(e){return e.data==="$?"||e.data==="$~"}function Jo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function bp(e,a){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=a;else if(e.data!=="$?"||s.readyState!=="loading")a();else{var n=function(){a(),s.removeEventListener("DOMContentLoaded",n)};s.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function ba(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return e}var Po=null;function mx(e){e=e.nextSibling;for(var a=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(a===0)return ba(e.nextSibling);a--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||a++}e=e.nextSibling}return null}function fx(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(a===0)return e;a--}else s!=="/$"&&s!=="/&"||a++}e=e.previousSibling}return null}function xx(e,a,s){switch(a=xr(s),e){case"html":if(e=a.documentElement,!e)throw Error(c(452));return e;case"head":if(e=a.head,!e)throw Error(c(453));return e;case"body":if(e=a.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function Vl(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);Wr(e)}var ya=new Map,hx=new Set;function hr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var os=w.d;w.d={f:yp,r:vp,D:jp,C:Np,L:Sp,m:wp,X:Ap,S:Ep,M:Cp};function yp(){var e=os.f(),a=ir();return e||a}function vp(e){var a=hn(e);a!==null&&a.tag===5&&a.type==="form"?Om(a):os.r(e)}var Qn=typeof document>"u"?null:document;function gx(e,a,s){var n=Qn;if(n&&typeof a=="string"&&a){var o=ua(a);o='link[rel="'+e+'"][href="'+o+'"]',typeof s=="string"&&(o+='[crossorigin="'+s+'"]'),hx.has(o)||(hx.add(o),e={rel:e,crossOrigin:s,href:a},n.querySelector(o)===null&&(a=n.createElement("link"),Lt(a,"link",e),Tt(a),n.head.appendChild(a)))}}function jp(e){os.D(e),gx("dns-prefetch",e,null)}function Np(e,a){os.C(e,a),gx("preconnect",e,a)}function Sp(e,a,s){os.L(e,a,s);var n=Qn;if(n&&e&&a){var o='link[rel="preload"][as="'+ua(a)+'"]';a==="image"&&s&&s.imageSrcSet?(o+='[imagesrcset="'+ua(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(o+='[imagesizes="'+ua(s.imageSizes)+'"]')):o+='[href="'+ua(e)+'"]';var u=o;switch(a){case"style":u=Kn(e);break;case"script":u=Zn(e)}ya.has(u)||(e=v({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:e,as:a},s),ya.set(u,e),n.querySelector(o)!==null||a==="style"&&n.querySelector(Gl(u))||a==="script"&&n.querySelector(Yl(u))||(a=n.createElement("link"),Lt(a,"link",e),Tt(a),n.head.appendChild(a)))}}function wp(e,a){os.m(e,a);var s=Qn;if(s&&e){var n=a&&typeof a.as=="string"?a.as:"script",o='link[rel="modulepreload"][as="'+ua(n)+'"][href="'+ua(e)+'"]',u=o;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Zn(e)}if(!ya.has(u)&&(e=v({rel:"modulepreload",href:e},a),ya.set(u,e),s.querySelector(o)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Yl(u)))return}n=s.createElement("link"),Lt(n,"link",e),Tt(n),s.head.appendChild(n)}}}function Ep(e,a,s){os.S(e,a,s);var n=Qn;if(n&&e){var o=gn(n).hoistableStyles,u=Kn(e);a=a||"default";var x=o.get(u);if(!x){var j={loading:0,preload:null};if(x=n.querySelector(Gl(u)))j.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":a},s),(s=ya.get(u))&&Wo(e,s);var C=x=n.createElement("link");Tt(C),Lt(C,"link",e),C._p=new Promise(function(F,J){C.onload=F,C.onerror=J}),C.addEventListener("load",function(){j.loading|=1}),C.addEventListener("error",function(){j.loading|=2}),j.loading|=4,gr(x,a,n)}x={type:"stylesheet",instance:x,count:1,state:j},o.set(u,x)}}}function Ap(e,a){os.X(e,a);var s=Qn;if(s&&e){var n=gn(s).hoistableScripts,o=Zn(e),u=n.get(o);u||(u=s.querySelector(Yl(o)),u||(e=v({src:e,async:!0},a),(a=ya.get(o))&&ed(e,a),u=s.createElement("script"),Tt(u),Lt(u,"link",e),s.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},n.set(o,u))}}function Cp(e,a){os.M(e,a);var s=Qn;if(s&&e){var n=gn(s).hoistableScripts,o=Zn(e),u=n.get(o);u||(u=s.querySelector(Yl(o)),u||(e=v({src:e,async:!0,type:"module"},a),(a=ya.get(o))&&ed(e,a),u=s.createElement("script"),Tt(u),Lt(u,"link",e),s.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},n.set(o,u))}}function px(e,a,s,n){var o=(o=Ne.current)?hr(o):null;if(!o)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=Kn(s.href),s=gn(o).hoistableStyles,n=s.get(a),n||(n={type:"style",instance:null,count:0,state:null},s.set(a,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Kn(s.href);var u=gn(o).hoistableStyles,x=u.get(e);if(x||(o=o.ownerDocument||o,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,x),(u=o.querySelector(Gl(e)))&&!u._p&&(x.instance=u,x.state.loading=5),ya.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ya.set(e,s),u||Tp(o,e,s,x.state))),a&&n===null)throw Error(c(528,""));return x}if(a&&n!==null)throw Error(c(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Zn(s),s=gn(o).hoistableScripts,n=s.get(a),n||(n={type:"script",instance:null,count:0,state:null},s.set(a,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function Kn(e){return'href="'+ua(e)+'"'}function Gl(e){return'link[rel="stylesheet"]['+e+"]"}function bx(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Tp(e,a,s,n){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?n.loading=1:(a=e.createElement("link"),n.preload=a,a.addEventListener("load",function(){return n.loading|=1}),a.addEventListener("error",function(){return n.loading|=2}),Lt(a,"link",s),Tt(a),e.head.appendChild(a))}function Zn(e){return'[src="'+ua(e)+'"]'}function Yl(e){return"script[async]"+e}function yx(e,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var n=e.querySelector('style[data-href~="'+ua(s.href)+'"]');if(n)return a.instance=n,Tt(n),n;var o=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Tt(n),Lt(n,"style",o),gr(n,s.precedence,e),a.instance=n;case"stylesheet":o=Kn(s.href);var u=e.querySelector(Gl(o));if(u)return a.state.loading|=4,a.instance=u,Tt(u),u;n=bx(s),(o=ya.get(o))&&Wo(n,o),u=(e.ownerDocument||e).createElement("link"),Tt(u);var x=u;return x._p=new Promise(function(j,C){x.onload=j,x.onerror=C}),Lt(u,"link",n),a.state.loading|=4,gr(u,s.precedence,e),a.instance=u;case"script":return u=Zn(s.src),(o=e.querySelector(Yl(u)))?(a.instance=o,Tt(o),o):(n=s,(o=ya.get(u))&&(n=v({},s),ed(n,o)),e=e.ownerDocument||e,o=e.createElement("script"),Tt(o),Lt(o,"link",n),e.head.appendChild(o),a.instance=o);case"void":return null;default:throw Error(c(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(n=a.instance,a.state.loading|=4,gr(n,s.precedence,e));return a.instance}function gr(e,a,s){for(var n=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=n.length?n[n.length-1]:null,u=o,x=0;x<n.length;x++){var j=n[x];if(j.dataset.precedence===a)u=j;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(e,a.firstChild))}function Wo(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function ed(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var pr=null;function vx(e,a,s){if(pr===null){var n=new Map,o=pr=new Map;o.set(s,n)}else o=pr,n=o.get(s),n||(n=new Map,o.set(s,n));if(n.has(e))return n;for(n.set(e,null),s=s.getElementsByTagName(e),o=0;o<s.length;o++){var u=s[o];if(!(u[rl]||u[Oe]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var x=u.getAttribute(a)||"";x=e+x;var j=n.get(x);j?j.push(u):n.set(x,[u])}}return n}function jx(e,a,s){e=e.ownerDocument||e,e.head.insertBefore(s,a==="title"?e.querySelector("head > title"):null)}function Rp(e,a,s){if(s===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(e=a.disabled,typeof a.precedence=="string"&&e==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Nx(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Dp(e,a,s,n){if(s.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var o=Kn(n.href),u=a.querySelector(Gl(o));if(u){a=u._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(e.count++,e=br.bind(e),a.then(e,e)),s.state.loading|=4,s.instance=u,Tt(u);return}u=a.ownerDocument||a,n=bx(n),(o=ya.get(o))&&Wo(n,o),u=u.createElement("link"),Tt(u);var x=u;x._p=new Promise(function(j,C){x.onload=j,x.onerror=C}),Lt(u,"link",n),s.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=br.bind(e),a.addEventListener("load",s),a.addEventListener("error",s))}}var td=0;function Op(e,a){return e.stylesheets&&e.count===0&&vr(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var n=setTimeout(function(){if(e.stylesheets&&vr(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+a);0<e.imgBytes&&td===0&&(td=62500*up());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vr(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>td?50:800)+a);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(o)}}:null}function br(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yr=null;function vr(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yr=new Map,a.forEach(Mp,e),yr=null,br.call(e))}function Mp(e,a){if(!(a.state.loading&4)){var s=yr.get(e);if(s)var n=s.get(null);else{s=new Map,yr.set(e,s);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var x=o[u];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(s.set(x.dataset.precedence,x),n=x)}n&&s.set(null,n)}o=a.instance,x=o.getAttribute("data-precedence"),u=s.get(x)||n,u===n&&s.set(null,o),s.set(x,o),this.count++,n=br.bind(this),o.addEventListener("load",n),o.addEventListener("error",n),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),a.state.loading|=4}}var Xl={$$typeof:P,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function Lp(e,a,s,n,o,u,x,j,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dt(0),this.hiddenUpdates=dt(null),this.identifierPrefix=n,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Sx(e,a,s,n,o,u,x,j,C,F,J,te){return e=new Lp(e,a,s,x,C,F,J,te,j),a=1,u===!0&&(a|=24),u=Pt(3,null,null,a),e.current=u,u.stateNode=e,a=Lc(),a.refCount++,e.pooledCache=a,a.refCount++,u.memoizedState={element:n,isDehydrated:s,cache:a},_c(u),e}function wx(e){return e?(e=An,e):An}function Ex(e,a,s,n,o,u){o=wx(o),n.context===null?n.context=o:n.pendingContext=o,n=Ns(a),n.payload={element:s},u=u===void 0?null:u,u!==null&&(n.callback=u),s=Ss(e,n,a),s!==null&&(Xt(s,e,a),wl(s,e,a))}function Ax(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<a?s:a}}function ad(e,a){Ax(e,a),(e=e.alternate)&&Ax(e,a)}function Cx(e){if(e.tag===13||e.tag===31){var a=Ys(e,67108864);a!==null&&Xt(a,e,67108864),ad(e,67108864)}}function Tx(e){if(e.tag===13||e.tag===31){var a=sa();a=me(a);var s=Ys(e,a);s!==null&&Xt(s,e,a),ad(e,a)}}var jr=!0;function zp(e,a,s,n){var o=S.T;S.T=null;var u=w.p;try{w.p=2,sd(e,a,s,n)}finally{w.p=u,S.T=o}}function kp(e,a,s,n){var o=S.T;S.T=null;var u=w.p;try{w.p=8,sd(e,a,s,n)}finally{w.p=u,S.T=o}}function sd(e,a,s,n){if(jr){var o=nd(n);if(o===null)Vo(e,a,n,Nr,s),Dx(e,n);else if(_p(o,e,a,s,n))n.stopPropagation();else if(Dx(e,n),a&4&&-1<Up.indexOf(e)){for(;o!==null;){var u=hn(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var x=H(u.pendingLanes);if(x!==0){var j=u;for(j.pendingLanes|=2,j.entangledLanes|=2;x;){var C=1<<31-ot(x);j.entanglements[1]|=C,x&=~C}za(u),(Qe&6)===0&&(nr=St()+500,Hl(0))}}break;case 31:case 13:j=Ys(u,2),j!==null&&Xt(j,u,2),ir(),ad(u,2)}if(u=nd(n),u===null&&Vo(e,a,n,Nr,s),u===o)break;o=u}o!==null&&n.stopPropagation()}else Vo(e,a,n,null,s)}}function nd(e){return e=lc(e),ld(e)}var Nr=null;function ld(e){if(Nr=null,e=xn(e),e!==null){var a=m(e);if(a===null)e=null;else{var s=a.tag;if(s===13){if(e=f(a),e!==null)return e;e=null}else if(s===31){if(e=h(a),e!==null)return e;e=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return Nr=e,null}function Rx(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hs()){case ke:return 2;case mn:return 8;case Ra:case $a:return 32;case It:return 268435456;default:return 32}default:return 32}}var id=!1,zs=null,ks=null,Us=null,Ql=new Map,Kl=new Map,_s=[],Up="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dx(e,a){switch(e){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":Ql.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(a.pointerId)}}function Zl(e,a,s,n,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:a,domEventName:s,eventSystemFlags:n,nativeEvent:u,targetContainers:[o]},a!==null&&(a=hn(a),a!==null&&Cx(a)),e):(e.eventSystemFlags|=n,a=e.targetContainers,o!==null&&a.indexOf(o)===-1&&a.push(o),e)}function _p(e,a,s,n,o){switch(a){case"focusin":return zs=Zl(zs,e,a,s,n,o),!0;case"dragenter":return ks=Zl(ks,e,a,s,n,o),!0;case"mouseover":return Us=Zl(Us,e,a,s,n,o),!0;case"pointerover":var u=o.pointerId;return Ql.set(u,Zl(Ql.get(u)||null,e,a,s,n,o)),!0;case"gotpointercapture":return u=o.pointerId,Kl.set(u,Zl(Kl.get(u)||null,e,a,s,n,o)),!0}return!1}function Ox(e){var a=xn(e.target);if(a!==null){var s=m(a);if(s!==null){if(a=s.tag,a===13){if(a=f(s),a!==null){e.blockedOn=a,tt(e.priority,function(){Tx(s)});return}}else if(a===31){if(a=h(s),a!==null){e.blockedOn=a,tt(e.priority,function(){Tx(s)});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sr(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var s=nd(e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);nc=n,s.target.dispatchEvent(n),nc=null}else return a=hn(s),a!==null&&Cx(a),e.blockedOn=s,!1;a.shift()}return!0}function Mx(e,a,s){Sr(e)&&s.delete(a)}function Bp(){id=!1,zs!==null&&Sr(zs)&&(zs=null),ks!==null&&Sr(ks)&&(ks=null),Us!==null&&Sr(Us)&&(Us=null),Ql.forEach(Mx),Kl.forEach(Mx)}function wr(e,a){e.blockedOn===a&&(e.blockedOn=null,id||(id=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Bp)))}var Er=null;function Lx(e){Er!==e&&(Er=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Er===e&&(Er=null);for(var a=0;a<e.length;a+=3){var s=e[a],n=e[a+1],o=e[a+2];if(typeof n!="function"){if(ld(n||s)===null)continue;break}var u=hn(s);u!==null&&(e.splice(a,3),a-=3,so(u,{pending:!0,data:o,method:s.method,action:n},n,o))}}))}function In(e){function a(C){return wr(C,e)}zs!==null&&wr(zs,e),ks!==null&&wr(ks,e),Us!==null&&wr(Us,e),Ql.forEach(a),Kl.forEach(a);for(var s=0;s<_s.length;s++){var n=_s[s];n.blockedOn===e&&(n.blockedOn=null)}for(;0<_s.length&&(s=_s[0],s.blockedOn===null);)Ox(s),s.blockedOn===null&&_s.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(n=0;n<s.length;n+=3){var o=s[n],u=s[n+1],x=o[ct]||null;if(typeof u=="function")x||Lx(s);else if(x){var j=null;if(u&&u.hasAttribute("formAction")){if(o=u,x=u[ct]||null)j=x.formAction;else if(ld(o)!==null)continue}else j=x.action;typeof j=="function"?s[n+1]=j:(s.splice(n,3),n-=3),Lx(s)}}}function zx(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(x){return o=x})},focusReset:"manual",scroll:"manual"})}function a(){o!==null&&(o(),o=null),n||setTimeout(s,20)}function s(){if(!n&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(s,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),o!==null&&(o(),o=null)}}}function rd(e){this._internalRoot=e}Ar.prototype.render=rd.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(c(409));var s=a.current,n=sa();Ex(s,n,e,a,null,null)},Ar.prototype.unmount=rd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;Ex(e.current,2,null,e,null,null),ir(),a[wt]=null}};function Ar(e){this._internalRoot=e}Ar.prototype.unstable_scheduleHydration=function(e){if(e){var a=De();e={blockedOn:null,target:e,priority:a};for(var s=0;s<_s.length&&a!==0&&a<_s[s].priority;s++);_s.splice(s,0,e),s===0&&Ox(e)}};var kx=i.version;if(kx!=="19.2.4")throw Error(c(527,kx,"19.2.4"));w.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=g(a),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var qp={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:S,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cr.isDisabled&&Cr.supportsFiber)try{ra=Cr.inject(qp),Ct=Cr}catch{}}return Pl.createRoot=function(e,a){if(!d(e))throw Error(c(299));var s=!1,n="",o=$m,u=Fm,x=Vm;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(o=a.onUncaughtError),a.onCaughtError!==void 0&&(u=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=Sx(e,1,!1,null,null,s,n,null,o,u,x,zx),e[wt]=a.current,Fo(e),new rd(a)},Pl.hydrateRoot=function(e,a,s){if(!d(e))throw Error(c(299));var n=!1,o="",u=$m,x=Fm,j=Vm,C=null;return s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(u=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(j=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),a=Sx(e,1,!0,a,s??null,n,o,C,u,x,j,zx),a.context=wx(null),s=a.current,n=sa(),n=me(n),o=Ns(n),o.callback=null,Ss(s,o,n),s=n,a.current.lanes=s,oa(a,s),za(a),e[wt]=a.current,Fo(e),new Ar(a)},Pl.version="19.2.4",Pl}var dh;function Gb(){if(dh)return fd.exports;dh=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(i){console.error(i)}}return l(),fd.exports=Vb(),fd.exports}var Yb=Gb();var uh="popstate";function Xb(l={}){function i(c,d){let{pathname:m,search:f,hash:h}=c.location;return Ad("",{pathname:m,search:f,hash:h},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function r(c,d){return typeof d=="string"?d:ci(d)}return Kb(i,r,null,l)}function jt(l,i){if(l===!1||l===null||typeof l>"u")throw new Error(i)}function wa(l,i){if(!l){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function Qb(){return Math.random().toString(36).substring(2,10)}function mh(l,i){return{usr:l.state,key:l.key,idx:i}}function Ad(l,i,r=null,c){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof i=="string"?oi(i):i,state:r,key:i&&i.key||c||Qb()}}function ci({pathname:l="/",search:i="",hash:r=""}){return i&&i!=="?"&&(l+=i.charAt(0)==="?"?i:"?"+i),r&&r!=="#"&&(l+=r.charAt(0)==="#"?r:"#"+r),l}function oi(l){let i={};if(l){let r=l.indexOf("#");r>=0&&(i.hash=l.substring(r),l=l.substring(0,r));let c=l.indexOf("?");c>=0&&(i.search=l.substring(c),l=l.substring(0,c)),l&&(i.pathname=l)}return i}function Kb(l,i,r,c={}){let{window:d=document.defaultView,v5Compat:m=!1}=c,f=d.history,h="POP",p=null,g=b();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function b(){return(f.state||{idx:null}).idx}function v(){h="POP";let D=b(),X=D==null?null:D-g;g=D,p&&p({action:h,location:R.location,delta:X})}function T(D,X){h="PUSH";let Q=Ad(R.location,D,X);g=b()+1;let P=mh(Q,g),le=R.createHref(Q);try{f.pushState(P,"",le)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;d.location.assign(le)}m&&p&&p({action:h,location:R.location,delta:1})}function L(D,X){h="REPLACE";let Q=Ad(R.location,D,X);g=b();let P=mh(Q,g),le=R.createHref(Q);f.replaceState(P,"",le),m&&p&&p({action:h,location:R.location,delta:0})}function E(D){return Zb(D)}let R={get action(){return h},get location(){return l(d,f)},listen(D){if(p)throw new Error("A history only accepts one active listener");return d.addEventListener(uh,v),p=D,()=>{d.removeEventListener(uh,v),p=null}},createHref(D){return i(d,D)},createURL:E,encodeLocation(D){let X=E(D);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:T,replace:L,go(D){return f.go(D)}};return R}function Zb(l,i=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),jt(r,"No window.location.(origin|href) available to create URL");let c=typeof l=="string"?l:ci(l);return c=c.replace(/ $/,"%20"),!i&&c.startsWith("//")&&(c=r+c),new URL(c,r)}function Gh(l,i,r="/"){return Ib(l,i,r,!1)}function Ib(l,i,r,c){let d=typeof i=="string"?oi(i):i,m=us(d.pathname||"/",r);if(m==null)return null;let f=Yh(l);Jb(f);let h=null;for(let p=0;h==null&&p<f.length;++p){let g=cy(m);h=iy(f[p],g,c)}return h}function Yh(l,i=[],r=[],c="",d=!1){let m=(f,h,p=d,g)=>{let b={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:h,route:f};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(c)&&p)return;jt(b.relativePath.startsWith(c),`Absolute route path "${b.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(c.length)}let v=ds([c,b.relativePath]),T=r.concat(b);f.children&&f.children.length>0&&(jt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Yh(f.children,i,T,v,p)),!(f.path==null&&!f.index)&&i.push({path:v,score:ny(v,f.index),routesMeta:T})};return l.forEach((f,h)=>{if(f.path===""||!f.path?.includes("?"))m(f,h);else for(let p of Xh(f.path))m(f,h,!0,p)}),i}function Xh(l){let i=l.split("/");if(i.length===0)return[];let[r,...c]=i,d=r.endsWith("?"),m=r.replace(/\?$/,"");if(c.length===0)return d?[m,""]:[m];let f=Xh(c.join("/")),h=[];return h.push(...f.map(p=>p===""?m:[m,p].join("/"))),d&&h.push(...f),h.map(p=>l.startsWith("/")&&p===""?"/":p)}function Jb(l){l.sort((i,r)=>i.score!==r.score?r.score-i.score:ly(i.routesMeta.map(c=>c.childrenIndex),r.routesMeta.map(c=>c.childrenIndex)))}var Pb=/^:[\w-]+$/,Wb=3,ey=2,ty=1,ay=10,sy=-2,fh=l=>l==="*";function ny(l,i){let r=l.split("/"),c=r.length;return r.some(fh)&&(c+=sy),i&&(c+=ey),r.filter(d=>!fh(d)).reduce((d,m)=>d+(Pb.test(m)?Wb:m===""?ty:ay),c)}function ly(l,i){return l.length===i.length&&l.slice(0,-1).every((c,d)=>c===i[d])?l[l.length-1]-i[i.length-1]:0}function iy(l,i,r=!1){let{routesMeta:c}=l,d={},m="/",f=[];for(let h=0;h<c.length;++h){let p=c[h],g=h===c.length-1,b=m==="/"?i:i.slice(m.length)||"/",v=Hr({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},b),T=p.route;if(!v&&g&&r&&!c[c.length-1].route.index&&(v=Hr({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!v)return null;Object.assign(d,v.params),f.push({params:d,pathname:ds([m,v.pathname]),pathnameBase:my(ds([m,v.pathnameBase])),route:T}),v.pathnameBase!=="/"&&(m=ds([m,v.pathnameBase]))}return f}function Hr(l,i){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[r,c]=ry(l.path,l.caseSensitive,l.end),d=i.match(r);if(!d)return null;let m=d[0],f=m.replace(/(.)\/+$/,"$1"),h=d.slice(1);return{params:c.reduce((g,{paramName:b,isOptional:v},T)=>{if(b==="*"){let E=h[T]||"";f=m.slice(0,m.length-E.length).replace(/(.)\/+$/,"$1")}const L=h[T];return v&&!L?g[b]=void 0:g[b]=(L||"").replace(/%2F/g,"/"),g},{}),pathname:m,pathnameBase:f,pattern:l}}function ry(l,i=!1,r=!0){wa(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let c=[],d="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,p)=>(c.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return l.endsWith("*")?(c.push({paramName:"*"}),d+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?d+="\\/*$":l!==""&&l!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,i?void 0:"i"),c]}function cy(l){try{return l.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return wa(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),l}}function us(l,i){if(i==="/")return l;if(!l.toLowerCase().startsWith(i.toLowerCase()))return null;let r=i.endsWith("/")?i.length-1:i.length,c=l.charAt(r);return c&&c!=="/"?null:l.slice(r)||"/"}var oy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function dy(l,i="/"){let{pathname:r,search:c="",hash:d=""}=typeof l=="string"?oi(l):l,m;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?m=xh(r.substring(1),"/"):m=xh(r,i)):m=i,{pathname:m,search:fy(c),hash:xy(d)}}function xh(l,i){let r=i.replace(/\/+$/,"").split("/");return l.split("/").forEach(d=>{d===".."?r.length>1&&r.pop():d!=="."&&r.push(d)}),r.length>1?r.join("/"):"/"}function pd(l,i,r,c){return`Cannot include a '${l}' character in a manually specified \`to.${i}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uy(l){return l.filter((i,r)=>r===0||i.route.path&&i.route.path.length>0)}function Ld(l){let i=uy(l);return i.map((r,c)=>c===i.length-1?r.pathname:r.pathnameBase)}function zd(l,i,r,c=!1){let d;typeof l=="string"?d=oi(l):(d={...l},jt(!d.pathname||!d.pathname.includes("?"),pd("?","pathname","search",d)),jt(!d.pathname||!d.pathname.includes("#"),pd("#","pathname","hash",d)),jt(!d.search||!d.search.includes("#"),pd("#","search","hash",d)));let m=l===""||d.pathname==="",f=m?"/":d.pathname,h;if(f==null)h=r;else{let v=i.length-1;if(!c&&f.startsWith("..")){let T=f.split("/");for(;T[0]==="..";)T.shift(),v-=1;d.pathname=T.join("/")}h=v>=0?i[v]:"/"}let p=dy(d,h),g=f&&f!=="/"&&f.endsWith("/"),b=(m||f===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(g||b)&&(p.pathname+="/"),p}var ds=l=>l.join("/").replace(/\/\/+/g,"/"),my=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),fy=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,xy=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l,hy=class{constructor(l,i,r,c=!1){this.status=l,this.statusText=i||"",this.internal=c,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function gy(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}function py(l){return l.map(i=>i.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Qh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Kh(l,i){let r=l;if(typeof r!="string"||!oy.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let c=r,d=!1;if(Qh)try{let m=new URL(window.location.href),f=r.startsWith("//")?new URL(m.protocol+r):new URL(r),h=us(f.pathname,i);f.origin===m.origin&&h!=null?r=h+f.search+f.hash:d=!0}catch{wa(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:c,isExternal:d,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Zh=["POST","PUT","PATCH","DELETE"];new Set(Zh);var by=["GET",...Zh];new Set(by);var al=y.createContext(null);al.displayName="DataRouter";var Gr=y.createContext(null);Gr.displayName="DataRouterState";var yy=y.createContext(!1),Ih=y.createContext({isTransitioning:!1});Ih.displayName="ViewTransition";var vy=y.createContext(new Map);vy.displayName="Fetchers";var jy=y.createContext(null);jy.displayName="Await";var la=y.createContext(null);la.displayName="Navigation";var Yr=y.createContext(null);Yr.displayName="Location";var Ea=y.createContext({outlet:null,matches:[],isDataRoute:!1});Ea.displayName="Route";var kd=y.createContext(null);kd.displayName="RouteError";var Jh="REACT_ROUTER_ERROR",Ny="REDIRECT",Sy="ROUTE_ERROR_RESPONSE";function wy(l){if(l.startsWith(`${Jh}:${Ny}:{`))try{let i=JSON.parse(l.slice(28));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.location=="string"&&typeof i.reloadDocument=="boolean"&&typeof i.replace=="boolean")return i}catch{}}function Ey(l){if(l.startsWith(`${Jh}:${Sy}:{`))try{let i=JSON.parse(l.slice(40));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string")return new hy(i.status,i.statusText,i.data)}catch{}}function Ay(l,{relative:i}={}){jt(sl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:c}=y.useContext(la),{hash:d,pathname:m,search:f}=di(l,{relative:i}),h=m;return r!=="/"&&(h=m==="/"?r:ds([r,m])),c.createHref({pathname:h,search:f,hash:d})}function sl(){return y.useContext(Yr)!=null}function Ba(){return jt(sl(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Yr).location}var Ph="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wh(l){y.useContext(la).static||y.useLayoutEffect(l)}function Aa(){let{isDataRoute:l}=y.useContext(Ea);return l?qy():Cy()}function Cy(){jt(sl(),"useNavigate() may be used only in the context of a <Router> component.");let l=y.useContext(al),{basename:i,navigator:r}=y.useContext(la),{matches:c}=y.useContext(Ea),{pathname:d}=Ba(),m=JSON.stringify(Ld(c)),f=y.useRef(!1);return Wh(()=>{f.current=!0}),y.useCallback((p,g={})=>{if(wa(f.current,Ph),!f.current)return;if(typeof p=="number"){r.go(p);return}let b=zd(p,JSON.parse(m),d,g.relative==="path");l==null&&i!=="/"&&(b.pathname=b.pathname==="/"?i:ds([i,b.pathname])),(g.replace?r.replace:r.push)(b,g.state,g)},[i,r,m,d,l])}y.createContext(null);function Ud(){let{matches:l}=y.useContext(Ea),i=l[l.length-1];return i?i.params:{}}function di(l,{relative:i}={}){let{matches:r}=y.useContext(Ea),{pathname:c}=Ba(),d=JSON.stringify(Ld(r));return y.useMemo(()=>zd(l,JSON.parse(d),c,i==="path"),[l,d,c,i])}function Ty(l,i){return eg(l)}function eg(l,i,r,c,d){jt(sl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:m}=y.useContext(la),{matches:f}=y.useContext(Ea),h=f[f.length-1],p=h?h.params:{},g=h?h.pathname:"/",b=h?h.pathnameBase:"/",v=h&&h.route;{let Q=v&&v.path||"";ag(g,!v||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let T=Ba(),L;L=T;let E=L.pathname||"/",R=E;if(b!=="/"){let Q=b.replace(/^\//,"").split("/");R="/"+E.replace(/^\//,"").split("/").slice(Q.length).join("/")}let D=Gh(l,{pathname:R});return wa(v||D!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),wa(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Ly(D&&D.map(Q=>Object.assign({},Q,{params:Object.assign({},p,Q.params),pathname:ds([b,m.encodeLocation?m.encodeLocation(Q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?b:ds([b,m.encodeLocation?m.encodeLocation(Q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathnameBase])})),f,r,c,d)}function Ry(){let l=By(),i=gy(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),r=l instanceof Error?l.stack:null,c="rgba(200,200,200, 0.5)",d={padding:"0.5rem",backgroundColor:c},m={padding:"2px 4px",backgroundColor:c},f=null;return console.error("Error handled by React Router default ErrorBoundary:",l),f=y.createElement(y.Fragment,null,y.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:m},"ErrorBoundary")," or"," ",y.createElement("code",{style:m},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},i),r?y.createElement("pre",{style:d},r):null,f)}var Dy=y.createElement(Ry,null),tg=class extends y.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,i){return i.location!==l.location||i.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:i.error,location:i.location,revalidation:l.revalidation||i.revalidation}}componentDidCatch(l,i){this.props.onError?this.props.onError(l,i):console.error("React Router caught the following error during render",l)}render(){let l=this.state.error;if(this.context&&typeof l=="object"&&l&&"digest"in l&&typeof l.digest=="string"){const r=Ey(l.digest);r&&(l=r)}let i=l!==void 0?y.createElement(Ea.Provider,{value:this.props.routeContext},y.createElement(kd.Provider,{value:l,children:this.props.component})):this.props.children;return this.context?y.createElement(Oy,{error:l},i):i}};tg.contextType=yy;var bd=new WeakMap;function Oy({children:l,error:i}){let{basename:r}=y.useContext(la);if(typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){let c=wy(i.digest);if(c){let d=bd.get(i);if(d)throw d;let m=Kh(c.location,r);if(Qh&&!bd.get(i))if(m.isExternal||c.reloadDocument)window.location.href=m.absoluteURL||m.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(m.to,{replace:c.replace}));throw bd.set(i,f),f}return y.createElement("meta",{httpEquiv:"refresh",content:`0;url=${m.absoluteURL||m.to}`})}}return l}function My({routeContext:l,match:i,children:r}){let c=y.useContext(al);return c&&c.static&&c.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=i.route.id),y.createElement(Ea.Provider,{value:l},r)}function Ly(l,i=[],r=null,c=null,d=null){if(l==null){if(!r)return null;if(r.errors)l=r.matches;else if(i.length===0&&!r.initialized&&r.matches.length>0)l=r.matches;else return null}let m=l,f=r?.errors;if(f!=null){let b=m.findIndex(v=>v.route.id&&f?.[v.route.id]!==void 0);jt(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),m=m.slice(0,Math.min(m.length,b+1))}let h=!1,p=-1;if(r)for(let b=0;b<m.length;b++){let v=m[b];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=b),v.route.id){let{loaderData:T,errors:L}=r,E=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!L||L[v.route.id]===void 0);if(v.route.lazy||E){h=!0,p>=0?m=m.slice(0,p+1):m=[m[0]];break}}}let g=r&&c?(b,v)=>{c(b,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:py(r.matches),errorInfo:v})}:void 0;return m.reduceRight((b,v,T)=>{let L,E=!1,R=null,D=null;r&&(L=f&&v.route.id?f[v.route.id]:void 0,R=v.route.errorElement||Dy,h&&(p<0&&T===0?(ag("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,D=null):p===T&&(E=!0,D=v.route.hydrateFallbackElement||null)));let X=i.concat(m.slice(0,T+1)),Q=()=>{let P;return L?P=R:E?P=D:v.route.Component?P=y.createElement(v.route.Component,null):v.route.element?P=v.route.element:P=b,y.createElement(My,{match:v,routeContext:{outlet:b,matches:X,isDataRoute:r!=null},children:P})};return r&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?y.createElement(tg,{location:r.location,revalidation:r.revalidation,component:R,error:L,children:Q(),routeContext:{outlet:null,matches:X,isDataRoute:!0},onError:g}):Q()},null)}function _d(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zy(l){let i=y.useContext(al);return jt(i,_d(l)),i}function ky(l){let i=y.useContext(Gr);return jt(i,_d(l)),i}function Uy(l){let i=y.useContext(Ea);return jt(i,_d(l)),i}function Bd(l){let i=Uy(l),r=i.matches[i.matches.length-1];return jt(r.route.id,`${l} can only be used on routes that contain a unique "id"`),r.route.id}function _y(){return Bd("useRouteId")}function By(){let l=y.useContext(kd),i=ky("useRouteError"),r=Bd("useRouteError");return l!==void 0?l:i.errors?.[r]}function qy(){let{router:l}=zy("useNavigate"),i=Bd("useNavigate"),r=y.useRef(!1);return Wh(()=>{r.current=!0}),y.useCallback(async(d,m={})=>{wa(r.current,Ph),r.current&&(typeof d=="number"?await l.navigate(d):await l.navigate(d,{fromRouteId:i,...m}))},[l,i])}var hh={};function ag(l,i,r){!i&&!hh[l]&&(hh[l]=!0,wa(!1,r))}y.memo(Hy);function Hy({routes:l,future:i,state:r,onError:c}){return eg(l,void 0,r,c,i)}function Cd({to:l,replace:i,state:r,relative:c}){jt(sl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:d}=y.useContext(la);wa(!d,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:m}=y.useContext(Ea),{pathname:f}=Ba(),h=Aa(),p=zd(l,Ld(m),f,c==="path"),g=JSON.stringify(p);return y.useEffect(()=>{h(JSON.parse(g),{replace:i,state:r,relative:c})},[h,g,c,i,r]),null}function $y({basename:l="/",children:i=null,location:r,navigationType:c="POP",navigator:d,static:m=!1,unstable_useTransitions:f}){jt(!sl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=l.replace(/^\/*/,"/"),p=y.useMemo(()=>({basename:h,navigator:d,static:m,unstable_useTransitions:f,future:{}}),[h,d,m,f]);typeof r=="string"&&(r=oi(r));let{pathname:g="/",search:b="",hash:v="",state:T=null,key:L="default"}=r,E=y.useMemo(()=>{let R=us(g,h);return R==null?null:{location:{pathname:R,search:b,hash:v,state:T,key:L},navigationType:c}},[h,g,b,v,T,L,c]);return wa(E!=null,`<Router basename="${h}"> is not able to match the URL "${g}${b}${v}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:y.createElement(la.Provider,{value:p},y.createElement(Yr.Provider,{children:i,value:E}))}var Mr="get",Lr="application/x-www-form-urlencoded";function Xr(l){return typeof HTMLElement<"u"&&l instanceof HTMLElement}function Fy(l){return Xr(l)&&l.tagName.toLowerCase()==="button"}function Vy(l){return Xr(l)&&l.tagName.toLowerCase()==="form"}function Gy(l){return Xr(l)&&l.tagName.toLowerCase()==="input"}function Yy(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function Xy(l,i){return l.button===0&&(!i||i==="_self")&&!Yy(l)}var Rr=null;function Qy(){if(Rr===null)try{new FormData(document.createElement("form"),0),Rr=!1}catch{Rr=!0}return Rr}var Ky=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yd(l){return l!=null&&!Ky.has(l)?(wa(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lr}"`),null):l}function Zy(l,i){let r,c,d,m,f;if(Vy(l)){let h=l.getAttribute("action");c=h?us(h,i):null,r=l.getAttribute("method")||Mr,d=yd(l.getAttribute("enctype"))||Lr,m=new FormData(l)}else if(Fy(l)||Gy(l)&&(l.type==="submit"||l.type==="image")){let h=l.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=l.getAttribute("formaction")||h.getAttribute("action");if(c=p?us(p,i):null,r=l.getAttribute("formmethod")||h.getAttribute("method")||Mr,d=yd(l.getAttribute("formenctype"))||yd(h.getAttribute("enctype"))||Lr,m=new FormData(h,l),!Qy()){let{name:g,type:b,value:v}=l;if(b==="image"){let T=g?`${g}.`:"";m.append(`${T}x`,"0"),m.append(`${T}y`,"0")}else g&&m.append(g,v)}}else{if(Xr(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Mr,c=null,d=Lr,f=l}return m&&d==="text/plain"&&(f=m,m=void 0),{action:c,method:r.toLowerCase(),encType:d,formData:m,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qd(l,i){if(l===!1||l===null||typeof l>"u")throw new Error(i)}function Iy(l,i,r,c){let d=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return r?d.pathname.endsWith("/")?d.pathname=`${d.pathname}_.${c}`:d.pathname=`${d.pathname}.${c}`:d.pathname==="/"?d.pathname=`_root.${c}`:i&&us(d.pathname,i)==="/"?d.pathname=`${i.replace(/\/$/,"")}/_root.${c}`:d.pathname=`${d.pathname.replace(/\/$/,"")}.${c}`,d}async function Jy(l,i){if(l.id in i)return i[l.id];try{let r=await import(l.module);return i[l.id]=r,r}catch(r){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Py(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function Wy(l,i,r){let c=await Promise.all(l.map(async d=>{let m=i.routes[d.route.id];if(m){let f=await Jy(m,r);return f.links?f.links():[]}return[]}));return sv(c.flat(1).filter(Py).filter(d=>d.rel==="stylesheet"||d.rel==="preload").map(d=>d.rel==="stylesheet"?{...d,rel:"prefetch",as:"style"}:{...d,rel:"prefetch"}))}function gh(l,i,r,c,d,m){let f=(p,g)=>r[g]?p.route.id!==r[g].route.id:!0,h=(p,g)=>r[g].pathname!==p.pathname||r[g].route.path?.endsWith("*")&&r[g].params["*"]!==p.params["*"];return m==="assets"?i.filter((p,g)=>f(p,g)||h(p,g)):m==="data"?i.filter((p,g)=>{let b=c.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(f(p,g)||h(p,g))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(d.pathname+d.search+d.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(l,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function ev(l,i,{includeHydrateFallback:r}={}){return tv(l.map(c=>{let d=i.routes[c.route.id];if(!d)return[];let m=[d.module];return d.clientActionModule&&(m=m.concat(d.clientActionModule)),d.clientLoaderModule&&(m=m.concat(d.clientLoaderModule)),r&&d.hydrateFallbackModule&&(m=m.concat(d.hydrateFallbackModule)),d.imports&&(m=m.concat(d.imports)),m}).flat(1))}function tv(l){return[...new Set(l)]}function av(l){let i={},r=Object.keys(l).sort();for(let c of r)i[c]=l[c];return i}function sv(l,i){let r=new Set;return new Set(i),l.reduce((c,d)=>{let m=JSON.stringify(av(d));return r.has(m)||(r.add(m),c.push({key:m,link:d})),c},[])}function sg(){let l=y.useContext(al);return qd(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function nv(){let l=y.useContext(Gr);return qd(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var Hd=y.createContext(void 0);Hd.displayName="FrameworkContext";function ng(){let l=y.useContext(Hd);return qd(l,"You must render this element inside a <HydratedRouter> element"),l}function lv(l,i){let r=y.useContext(Hd),[c,d]=y.useState(!1),[m,f]=y.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:g,onMouseLeave:b,onTouchStart:v}=i,T=y.useRef(null);y.useEffect(()=>{if(l==="render"&&f(!0),l==="viewport"){let R=X=>{X.forEach(Q=>{f(Q.isIntersecting)})},D=new IntersectionObserver(R,{threshold:.5});return T.current&&D.observe(T.current),()=>{D.disconnect()}}},[l]),y.useEffect(()=>{if(c){let R=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(R)}}},[c]);let L=()=>{d(!0)},E=()=>{d(!1),f(!1)};return r?l!=="intent"?[m,T,{}]:[m,T,{onFocus:Wl(h,L),onBlur:Wl(p,E),onMouseEnter:Wl(g,L),onMouseLeave:Wl(b,E),onTouchStart:Wl(v,L)}]:[!1,T,{}]}function Wl(l,i){return r=>{l&&l(r),r.defaultPrevented||i(r)}}function iv({page:l,...i}){let{router:r}=sg(),c=y.useMemo(()=>Gh(r.routes,l,r.basename),[r.routes,l,r.basename]);return c?y.createElement(cv,{page:l,matches:c,...i}):null}function rv(l){let{manifest:i,routeModules:r}=ng(),[c,d]=y.useState([]);return y.useEffect(()=>{let m=!1;return Wy(l,i,r).then(f=>{m||d(f)}),()=>{m=!0}},[l,i,r]),c}function cv({page:l,matches:i,...r}){let c=Ba(),{future:d,manifest:m,routeModules:f}=ng(),{basename:h}=sg(),{loaderData:p,matches:g}=nv(),b=y.useMemo(()=>gh(l,i,g,m,c,"data"),[l,i,g,m,c]),v=y.useMemo(()=>gh(l,i,g,m,c,"assets"),[l,i,g,m,c]),T=y.useMemo(()=>{if(l===c.pathname+c.search+c.hash)return[];let R=new Set,D=!1;if(i.forEach(Q=>{let P=m.routes[Q.route.id];!P||!P.hasLoader||(!b.some(le=>le.route.id===Q.route.id)&&Q.route.id in p&&f[Q.route.id]?.shouldRevalidate||P.hasClientLoader?D=!0:R.add(Q.route.id))}),R.size===0)return[];let X=Iy(l,h,d.unstable_trailingSlashAwareDataRequests,"data");return D&&R.size>0&&X.searchParams.set("_routes",i.filter(Q=>R.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[X.pathname+X.search]},[h,d.unstable_trailingSlashAwareDataRequests,p,c,m,b,i,l,f]),L=y.useMemo(()=>ev(v,m),[v,m]),E=rv(v);return y.createElement(y.Fragment,null,T.map(R=>y.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...r})),L.map(R=>y.createElement("link",{key:R,rel:"modulepreload",href:R,...r})),E.map(({key:R,link:D})=>y.createElement("link",{key:R,nonce:r.nonce,...D,crossOrigin:D.crossOrigin??r.crossOrigin})))}function ov(...l){return i=>{l.forEach(r=>{typeof r=="function"?r(i):r!=null&&(r.current=i)})}}var dv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dv&&(window.__reactRouterVersion="7.13.0")}catch{}function uv({basename:l,children:i,unstable_useTransitions:r,window:c}){let d=y.useRef();d.current==null&&(d.current=Xb({window:c,v5Compat:!0}));let m=d.current,[f,h]=y.useState({action:m.action,location:m.location}),p=y.useCallback(g=>{r===!1?h(g):y.startTransition(()=>h(g))},[r]);return y.useLayoutEffect(()=>m.listen(p),[m,p]),y.createElement($y,{basename:l,children:i,location:f.location,navigationType:f.action,navigator:m,unstable_useTransitions:r})}var lg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,st=y.forwardRef(function({onClick:i,discover:r="render",prefetch:c="none",relative:d,reloadDocument:m,replace:f,state:h,target:p,to:g,preventScrollReset:b,viewTransition:v,unstable_defaultShouldRevalidate:T,...L},E){let{basename:R,unstable_useTransitions:D}=y.useContext(la),X=typeof g=="string"&&lg.test(g),Q=Kh(g,R);g=Q.to;let P=Ay(g,{relative:d}),[le,oe,ae]=lv(c,L),Y=hv(g,{replace:f,state:h,target:p,preventScrollReset:b,relative:d,viewTransition:v,unstable_defaultShouldRevalidate:T,unstable_useTransitions:D});function ie(ue){i&&i(ue),ue.defaultPrevented||Y(ue)}let de=y.createElement("a",{...L,...ae,href:Q.absoluteURL||P,onClick:Q.isExternal||m?i:ie,ref:ov(E,oe),target:p,"data-discover":!X&&r==="render"?"true":void 0});return le&&!X?y.createElement(y.Fragment,null,de,y.createElement(iv,{page:P})):de});st.displayName="Link";var mv=y.forwardRef(function({"aria-current":i="page",caseSensitive:r=!1,className:c="",end:d=!1,style:m,to:f,viewTransition:h,children:p,...g},b){let v=di(f,{relative:g.relative}),T=Ba(),L=y.useContext(Gr),{navigator:E,basename:R}=y.useContext(la),D=L!=null&&vv(v)&&h===!0,X=E.encodeLocation?E.encodeLocation(v).pathname:v.pathname,Q=T.pathname,P=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;r||(Q=Q.toLowerCase(),P=P?P.toLowerCase():null,X=X.toLowerCase()),P&&R&&(P=us(P,R)||P);const le=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let oe=Q===X||!d&&Q.startsWith(X)&&Q.charAt(le)==="/",ae=P!=null&&(P===X||!d&&P.startsWith(X)&&P.charAt(X.length)==="/"),Y={isActive:oe,isPending:ae,isTransitioning:D},ie=oe?i:void 0,de;typeof c=="function"?de=c(Y):de=[c,oe?"active":null,ae?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let ue=typeof m=="function"?m(Y):m;return y.createElement(st,{...g,"aria-current":ie,className:de,ref:b,style:ue,to:f,viewTransition:h},typeof p=="function"?p(Y):p)});mv.displayName="NavLink";var fv=y.forwardRef(({discover:l="render",fetcherKey:i,navigate:r,reloadDocument:c,replace:d,state:m,method:f=Mr,action:h,onSubmit:p,relative:g,preventScrollReset:b,viewTransition:v,unstable_defaultShouldRevalidate:T,...L},E)=>{let{unstable_useTransitions:R}=y.useContext(la),D=bv(),X=yv(h,{relative:g}),Q=f.toLowerCase()==="get"?"get":"post",P=typeof h=="string"&&lg.test(h),le=oe=>{if(p&&p(oe),oe.defaultPrevented)return;oe.preventDefault();let ae=oe.nativeEvent.submitter,Y=ae?.getAttribute("formmethod")||f,ie=()=>D(ae||oe.currentTarget,{fetcherKey:i,method:Y,navigate:r,replace:d,state:m,relative:g,preventScrollReset:b,viewTransition:v,unstable_defaultShouldRevalidate:T});R&&r!==!1?y.startTransition(()=>ie()):ie()};return y.createElement("form",{ref:E,method:Q,action:X,onSubmit:c?p:le,...L,"data-discover":!P&&l==="render"?"true":void 0})});fv.displayName="Form";function xv(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ig(l){let i=y.useContext(al);return jt(i,xv(l)),i}function hv(l,{target:i,replace:r,state:c,preventScrollReset:d,relative:m,viewTransition:f,unstable_defaultShouldRevalidate:h,unstable_useTransitions:p}={}){let g=Aa(),b=Ba(),v=di(l,{relative:m});return y.useCallback(T=>{if(Xy(T,i)){T.preventDefault();let L=r!==void 0?r:ci(b)===ci(v),E=()=>g(l,{replace:L,state:c,preventScrollReset:d,relative:m,viewTransition:f,unstable_defaultShouldRevalidate:h});p?y.startTransition(()=>E()):E()}},[b,g,v,r,c,i,l,d,m,f,h,p])}var gv=0,pv=()=>`__${String(++gv)}__`;function bv(){let{router:l}=ig("useSubmit"),{basename:i}=y.useContext(la),r=_y(),c=l.fetch,d=l.navigate;return y.useCallback(async(m,f={})=>{let{action:h,method:p,encType:g,formData:b,body:v}=Zy(m,i);if(f.navigate===!1){let T=f.fetcherKey||pv();await c(T,r,f.action||h,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:b,body:v,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await d(f.action||h,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:b,body:v,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:r,flushSync:f.flushSync,viewTransition:f.viewTransition})},[c,d,i,r])}function yv(l,{relative:i}={}){let{basename:r}=y.useContext(la),c=y.useContext(Ea);jt(c,"useFormAction must be used inside a RouteContext");let[d]=c.matches.slice(-1),m={...di(l||".",{relative:i})},f=Ba();if(l==null){m.search=f.search;let h=new URLSearchParams(m.search),p=h.getAll("index");if(p.some(b=>b==="")){h.delete("index"),p.filter(v=>v).forEach(v=>h.append("index",v));let b=h.toString();m.search=b?`?${b}`:""}}return(!l||l===".")&&d.route.index&&(m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(m.pathname=m.pathname==="/"?r:ds([r,m.pathname])),ci(m)}function vv(l,{relative:i}={}){let r=y.useContext(Ih);jt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=ig("useViewTransitionState"),d=di(l,{relative:i});if(!r.isTransitioning)return!1;let m=us(r.currentLocation.pathname,c)||r.currentLocation.pathname,f=us(r.nextLocation.pathname,c)||r.nextLocation.pathname;return Hr(d.pathname,f)!=null||Hr(d.pathname,m)!=null}function jv(){const l=Ba();return t.jsxs("div",{className:"relative flex flex-col items-center justify-center h-screen text-center px-4",children:[t.jsx("h1",{className:"absolute bottom-0 text-9xl md:text-[12rem] font-black text-gray-50 select-none pointer-events-none z-0",children:"404"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("h1",{className:"text-xl md:text-2xl font-semibold mt-6",children:"This page has not been generated"}),t.jsx("p",{className:"mt-2 text-base text-gray-400 font-mono",children:l.pathname}),t.jsx("p",{className:"mt-4 text-lg md:text-xl text-gray-500",children:"Tell me more about this page, so I can generate it"})]})]})}function Nv(){const[l,i]=y.useState(!1),[r,c]=y.useState(""),[d,m]=y.useState([]),[f,h]=y.useState(""),[p,g]=y.useState("fr-FR"),[b,v]=y.useState(!1),T=y.useRef(null),L=y.useRef(0),E=y.useRef(null),R=[{code:"fr-FR",label:"FranÃ§ais",flag:"ðŸ‡«ðŸ‡·"},{code:"ar-TN",label:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",flag:"ðŸ‡¹ðŸ‡³"},{code:"en-US",label:"English",flag:"ðŸ‡ºðŸ‡¸"}],D=()=>new Date().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),X=y.useCallback(()=>{h("");const Y=window.SpeechRecognition||window.webkitSpeechRecognition;if(!Y){h("La reconnaissance vocale n'est pas supportÃ©e par votre navigateur. Utilisez Chrome ou Edge.");return}const ie=new Y;ie.lang=p,ie.interimResults=!0,ie.continuous=!0,ie.maxAlternatives=1,ie.onstart=()=>{i(!0),v(!0)},ie.onresult=de=>{let ue="",A="";for(let k=de.resultIndex;k<de.results.length;k++){const ee=de.results[k][0].transcript;de.results[k].isFinal?A+=ee:ue+=ee}if(A){L.current+=1;const k={id:L.current,text:A.trim(),timestamp:D()};m(ee=>[...ee,k]),c("")}else c(ue)},ie.onerror=de=>{de.error==="no-speech"?h("Aucune voix dÃ©tectÃ©e. Parlez plus fort ou rapprochez-vous du micro."):de.error==="not-allowed"?h("AccÃ¨s au microphone refusÃ©. Veuillez autoriser l'accÃ¨s dans les paramÃ¨tres du navigateur."):h("Erreur de reconnaissance vocale. Veuillez rÃ©essayer."),i(!1),v(!1)},ie.onend=()=>{i(!1),v(!1),c("")},T.current=ie,ie.start()},[p]),Q=y.useCallback(()=>{T.current&&(T.current.stop(),T.current=null),i(!1),v(!1),c("")},[]),P=()=>{l?Q():X()},le=()=>{m([]),c(""),h("")},oe=Y=>{m(ie=>ie.filter(de=>de.id!==Y))},ae=()=>{const Y=d.map(ie=>ie.text).join(`
`);Y&&navigator.clipboard.writeText(Y).catch(()=>{})};return y.useEffect(()=>{E.current&&(E.current.scrollTop=E.current.scrollHeight)},[d,r]),y.useEffect(()=>()=>{T.current&&T.current.stop()},[]),t.jsx("section",{className:"py-20 bg-white",id:"voice-to-text",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("span",{className:"inline-block text-teal-600 font-semibold text-sm uppercase tracking-wider mb-4",children:"Outil interactif"}),t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Voix vers Texte"}),t.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Cliquez sur le microphone, parlez, et votre discours s'affiche instantanÃ©ment sur le tableau. IdÃ©al pour la prise de notes rapide en formation."})]}),t.jsx("div",{className:"max-w-4xl mx-auto",children:t.jsxs("div",{className:"bg-gray-50 rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 px-6 py-4 bg-white border-b border-gray-200",children:[t.jsx("div",{className:"flex items-center gap-3",children:t.jsx("div",{className:"flex items-center gap-1 bg-gray-100 rounded-lg p-1",children:R.map(Y=>t.jsxs("button",{onClick:()=>{l||g(Y.code)},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-all cursor-pointer whitespace-nowrap ${p===Y.code?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"} ${l?"opacity-50 cursor-not-allowed":""}`,disabled:l,children:[t.jsx("span",{children:Y.flag}),t.jsx("span",{className:"hidden sm:inline",children:Y.label})]},Y.code))})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:ae,disabled:d.length===0,className:"flex items-center gap-1.5 px-3 py-1.5 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors cursor-pointer whitespace-nowrap disabled:opacity-40 disabled:cursor-not-allowed",title:"Copier tout le texte",children:[t.jsx("i",{className:"ri-file-copy-line"}),t.jsx("span",{className:"hidden sm:inline",children:"Copier"})]}),t.jsxs("button",{onClick:le,disabled:d.length===0&&!r,className:"flex items-center gap-1.5 px-3 py-1.5 text-sm text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors cursor-pointer whitespace-nowrap disabled:opacity-40 disabled:cursor-not-allowed",title:"Effacer le tableau",children:[t.jsx("i",{className:"ri-delete-bin-line"}),t.jsx("span",{className:"hidden sm:inline",children:"Effacer"})]})]})]}),t.jsxs("div",{ref:E,className:"min-h-[280px] max-h-[400px] overflow-y-auto px-6 py-5 space-y-3",children:[d.length===0&&!r&&!f&&t.jsxs("div",{className:"flex flex-col items-center justify-center h-60 text-gray-400",children:[t.jsx("div",{className:"w-16 h-16 flex items-center justify-center bg-gray-100 rounded-full mb-4",children:t.jsx("i",{className:"ri-mic-line text-3xl"})}),t.jsx("p",{className:"text-sm font-medium",children:"Appuyez sur le microphone pour commencer"}),t.jsx("p",{className:"text-xs mt-1",children:"Votre texte apparaÃ®tra ici"})]}),d.map(Y=>t.jsxs("div",{className:"group flex items-start gap-3 bg-white rounded-xl px-4 py-3 border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[t.jsx("div",{className:"flex-shrink-0 mt-0.5",children:t.jsx("div",{className:"w-7 h-7 flex items-center justify-center bg-teal-50 rounded-full",children:t.jsx("i",{className:"ri-chat-voice-line text-teal-600 text-sm"})})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-gray-900 text-sm leading-relaxed",children:Y.text}),t.jsx("span",{className:"text-xs text-gray-400 mt-1 block",children:Y.timestamp})]}),t.jsx("button",{onClick:()=>oe(Y.id),className:"flex-shrink-0 opacity-0 group-hover:opacity-100 w-7 h-7 flex items-center justify-center text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all cursor-pointer",title:"Supprimer",children:t.jsx("i",{className:"ri-close-line text-sm"})})]},Y.id)),r&&t.jsxs("div",{className:"flex items-start gap-3 bg-teal-50/50 rounded-xl px-4 py-3 border border-teal-100 animate-pulse",children:[t.jsx("div",{className:"flex-shrink-0 mt-0.5",children:t.jsx("div",{className:"w-7 h-7 flex items-center justify-center bg-teal-100 rounded-full",children:t.jsx("i",{className:"ri-loader-4-line text-teal-600 text-sm animate-spin"})})}),t.jsx("p",{className:"text-teal-700 text-sm leading-relaxed italic",children:r})]}),f&&t.jsxs("div",{className:"flex items-center gap-3 bg-red-50 rounded-xl px-4 py-3 border border-red-100",children:[t.jsx("div",{className:"w-7 h-7 flex items-center justify-center bg-red-100 rounded-full flex-shrink-0",children:t.jsx("i",{className:"ri-error-warning-line text-red-500 text-sm"})}),t.jsx("p",{className:"text-red-600 text-sm",children:f})]})]}),t.jsxs("div",{className:"flex flex-col items-center gap-3 px-6 py-6 bg-white border-t border-gray-200",children:[t.jsxs("button",{onClick:P,className:`relative w-16 h-16 rounded-full flex items-center justify-center transition-all duration-300 cursor-pointer ${l?"bg-red-500 hover:bg-red-600 shadow-lg shadow-red-200":"bg-teal-600 hover:bg-teal-700 shadow-lg shadow-teal-200"}`,"aria-label":l?"ArrÃªter l'enregistrement":"Commencer l'enregistrement",children:[b&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"absolute inset-0 rounded-full bg-red-400 animate-ping opacity-30"}),t.jsx("span",{className:"absolute -inset-2 rounded-full border-2 border-red-300 animate-pulse opacity-50"})]}),t.jsx("i",{className:`${l?"ri-stop-fill":"ri-mic-fill"} text-white text-2xl relative z-10`})]}),t.jsx("span",{className:`text-sm font-medium ${l?"text-red-500":"text-gray-500"}`,children:l?"Ã‰coute en cours... Cliquez pour arrÃªter":"Cliquez pour parler"}),d.length>0&&t.jsxs("span",{className:"text-xs text-gray-400",children:[d.length," ",d.length===1?"entrÃ©e":"entrÃ©es"," enregistrÃ©e",d.length>1?"s":""]})]})]})})]})})}const Sv=[{value:"150+",label:"??l??ves accompagn??s",icon:"ri-user-line"},{value:"4",label:"Formations actives",icon:"ri-book-open-line"},{value:"24",label:"Sessions par formation",icon:"ri-calendar-line"},{value:"98%",label:"Taux de satisfaction",icon:"ri-star-line"}],wv=[{icon:"ri-user-add-line",title:"Gestion des Ã©lÃ¨ves",description:"CrÃ©ez et consultez les fiches Ã©lÃ¨ves avec toutes les informations personnelles et le suivi de progression.",color:"bg-teal-50 text-teal-600"},{icon:"ri-calendar-schedule-line",title:"Suivi des formations",description:"Organisez vos formations par niveaux (4 niveaux) avec 6 sÃ©ances par niveau. Vue calendrier intÃ©grÃ©e.",color:"bg-amber-50 text-amber-600"},{icon:"ri-checkbox-circle-line",title:"Gestion des prÃ©sences",description:"Enregistrez les prÃ©sences sÃ©ance par sÃ©ance. Visualisez clairement les sÃ©ances manquÃ©es.",color:"bg-rose-50 text-rose-600"},{icon:"ri-award-line",title:"Certification automatique",description:"Validation automatique aprÃ¨s complÃ©tion des 4 niveaux. GÃ©nÃ©ration et impression des certificats.",color:"bg-emerald-50 text-emerald-600"},{icon:"ri-bar-chart-box-line",title:"Tableau de bord",description:"Vue globale de l'avancement par Ã©lÃ¨ve : niveaux validÃ©s, sÃ©ances restantes, formations terminÃ©es.",color:"bg-sky-50 text-sky-600"},{icon:"ri-history-line",title:"Historique complet",description:"Consultez l'historique des prÃ©sences et des formations suivies par chaque Ã©lÃ¨ve.",color:"bg-violet-50 text-violet-600"}],Ev=[{before:"Listes papier et suivi manuel",after:"SystÃ¨me numÃ©rique centralisÃ©",icon:"ri-file-paper-line"},{before:"Erreurs et perte de temps",after:"DonnÃ©es fiables et automatisÃ©es",icon:"ri-error-warning-line"},{before:"Manque de visibilitÃ© globale",after:"Tableaux de bord en temps rÃ©el",icon:"ri-eye-off-line"},{before:"Validation manuelle des certifications",after:"Certification automatique",icon:"ri-medal-line"}],Av=[{title:"Formateurs",description:"GÃ©rez vos sÃ©ances, prenez les prÃ©sences et suivez la progression de vos Ã©lÃ¨ves en temps rÃ©el.",icon:"ri-presentation-line",tasks:["Prendre les prÃ©sences","Voir les sÃ©ances du jour","Suivre les Ã©lÃ¨ves"]},{title:"Responsables de formation",description:"Supervisez l'ensemble des formations, validez les passages de niveau et gÃ©nÃ©rez les certificats.",icon:"ri-admin-line",tasks:["CrÃ©er des formations","Valider les niveaux","GÃ©nÃ©rer les certificats"]},{title:"Membres administratifs",description:"AccÃ©dez aux statistiques globales et aux rapports pour piloter l'activitÃ© de l'association.",icon:"ri-building-line",tasks:["Consulter les statistiques","Exporter les rapports","GÃ©rer les Ã©lÃ¨ves"]}];function Cv(){const[l,i]=y.useState(!1);return y.useEffect(()=>{const r=()=>{i(window.scrollY>50)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]),t.jsxs("div",{className:"min-h-screen bg-white",children:[t.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${l?"bg-white shadow-md":"bg-transparent"}`,children:t.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("img",{src:"https://static.readdy.ai/image/bf4e711212c75bfc790e10d1f48c04b1/405300009b422c3bf3fc7c3883a1975c.png",alt:"ASTBA Logo",className:"h-10 w-auto"}),t.jsx("span",{className:`font-bold text-xl ${l?"text-gray-900":"text-white"}`,children:"ASTBA"})]}),t.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[t.jsx("a",{href:"#features",className:`text-sm font-medium hover:text-teal-600 transition-colors ${l?"text-gray-700":"text-white/90"}`,children:"FonctionnalitÃ©s"}),t.jsx("a",{href:"#problems",className:`text-sm font-medium hover:text-teal-600 transition-colors ${l?"text-gray-700":"text-white/90"}`,children:"ProblÃ¨mes rÃ©solus"}),t.jsx("a",{href:"#voice-to-text",className:`text-sm font-medium hover:text-teal-600 transition-colors ${l?"text-gray-700":"text-white/90"}`,children:"Voix â†’ Texte"}),t.jsx("a",{href:"#users",className:`text-sm font-medium hover:text-teal-600 transition-colors ${l?"text-gray-700":"text-white/90"}`,children:"Utilisateurs"})]}),t.jsx(st,{to:"/login",className:"bg-teal-600 text-white px-5 py-2.5 rounded-lg text-sm font-medium hover:bg-teal-700 transition-colors cursor-pointer whitespace-nowrap",children:"Se connecter"})]})})}),t.jsxs("section",{className:"relative min-h-[90vh] flex items-center overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0",children:[t.jsx("img",{src:"https://readdy.ai/api/search-image?query=Modern%20educational%20classroom%20with%20students%20learning%20technology%20and%20science%20projects%20with%20computers%20and%20robotics%20equipment%20bright%20natural%20lighting%20contemporary%20learning%20environment%20warm%20atmosphere%20professional%20educational%20setting&width=1920&height=1080&seq=hero001&orientation=landscape",alt:"ASTBA Formation",className:"w-full h-full object-cover object-center"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/90 via-gray-900/70 to-gray-900/50"})]}),t.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-6 py-32 w-full",children:t.jsxs("div",{className:"max-w-2xl",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm border border-white/20 rounded-full px-4 py-2 mb-8",children:[t.jsx("i",{className:"ri-verified-badge-line text-teal-400"}),t.jsx("span",{className:"text-white/90 text-sm",children:"Association Sciences and Technology Ben Arous"})]}),t.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white leading-tight mb-6",children:["Plateforme de suivi des ",t.jsx("span",{className:"text-teal-400",children:"formations"})," et ",t.jsx("span",{className:"text-teal-400",children:"prÃ©sences"})]}),t.jsx("p",{className:"text-lg text-white/80 mb-8 leading-relaxed",children:"Centralisez la gestion de vos Ã©lÃ¨ves, suivez les prÃ©sences sÃ©ance par sÃ©ance, et automatisez la certification. Une solution simple et claire pour un usage quotidien."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs(st,{to:"/login",className:"inline-flex items-center justify-center gap-2 bg-teal-600 text-white px-8 py-4 rounded-lg font-medium hover:bg-teal-700 transition-colors cursor-pointer whitespace-nowrap",children:["AccÃ©der Ã  la plateforme",t.jsx("i",{className:"ri-arrow-right-line"})]}),t.jsxs("a",{href:"#features",className:"inline-flex items-center justify-center gap-2 bg-white/10 backdrop-blur-sm border border-white/30 text-white px-8 py-4 rounded-lg font-medium hover:bg-white/20 transition-colors cursor-pointer whitespace-nowrap",children:[t.jsx("i",{className:"ri-play-circle-line"}),"DÃ©couvrir les fonctionnalitÃ©s"]})]})]})})]}),t.jsx("section",{className:"py-16 bg-gray-50",children:t.jsx("div",{className:"max-w-7xl mx-auto px-6",children:t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:Sv.map((r,c)=>t.jsxs("div",{className:"bg-white rounded-xl p-6 text-center shadow-sm border border-gray-100",children:[t.jsx("div",{className:"w-12 h-12 bg-teal-50 rounded-lg flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:`${r.icon} text-teal-600 text-2xl`})}),t.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:r.value}),t.jsx("div",{className:"text-sm text-gray-600",children:r.label})]},c))})})}),t.jsx("section",{className:"py-20 bg-white",children:t.jsx("div",{className:"max-w-7xl mx-auto px-6",children:t.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[t.jsxs("div",{children:[t.jsx("span",{className:"inline-block text-teal-600 font-semibold text-sm uppercase tracking-wider mb-4",children:"Ã€ propos de la plateforme"}),t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Qu'est-ce que ASTBA Training Tracker ?"}),t.jsxs("p",{className:"text-gray-600 mb-6 leading-relaxed",children:["L'Association Sciences and Technology Ben Arous Å“uvre depuis ",t.jsx("strong",{children:"2018"})," pour le dÃ©veloppement des compÃ©tences scientifiques et technologiques des Ã©lÃ¨ves."]}),t.jsxs("p",{className:"text-gray-600 mb-8 leading-relaxed",children:["Cette plateforme est conÃ§ue pour ",t.jsx("strong",{children:"centraliser et simplifier"})," la gestion pÃ©dagogique : suivi des formations structurÃ©es par niveaux, enregistrement des prÃ©sences, et validation automatique des certifications."]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-10 h-10 bg-teal-100 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx("i",{className:"ri-lightbulb-line text-teal-600 text-lg"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Apprentissage pratique"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Formations axÃ©es sur la pratique et les projets technologiques"})]})]}),t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx("i",{className:"ri-rocket-line text-amber-600 text-lg"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Innovation Ã©ducative"}),t.jsx("p",{className:"text-sm text-gray-600",children:"MÃ©thodes pÃ©dagogiques modernes et innovantes"})]})]}),t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx("i",{className:"ri-team-line text-emerald-600 text-lg"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Accompagnement personnalisÃ©"}),t.jsx("p",{className:"text-sm text-gray-600",children:"150 Ã©lÃ¨ves encadrÃ©s par une Ã©quipe de 6 membres dÃ©vouÃ©s"})]})]})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"bg-gradient-to-br from-teal-50 to-emerald-50 rounded-2xl p-8",children:t.jsx("img",{src:"https://readdy.ai/api/search-image?query=Students%20working%20on%20robotics%20and%20technology%20projects%20in%20modern%20classroom%20with%20computers%20and%20electronic%20components%20collaborative%20learning%20environment%20bright%20lighting%20educational%20workshop%20setting&width=600&height=500&seq=about001&orientation=portrait",alt:"Ã‰lÃ¨ves en formation",className:"w-full h-80 object-cover object-top rounded-xl shadow-lg"})}),t.jsx("div",{className:"absolute -bottom-6 -left-6 bg-white rounded-xl shadow-lg p-4 border border-gray-100",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-teal-600 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"ri-calendar-line text-white text-xl"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"Depuis 2018"}),t.jsx("div",{className:"text-sm text-gray-600",children:"Au service de l'Ã©ducation"})]})]})})]})]})})}),t.jsx("section",{id:"features",className:"py-20 bg-gray-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("span",{className:"inline-block text-teal-600 font-semibold text-sm uppercase tracking-wider mb-4",children:"FonctionnalitÃ©s"}),t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Tout ce dont vous avez besoin"}),t.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Une plateforme complÃ¨te pour gÃ©rer vos formations, suivre les prÃ©sences et dÃ©livrer les certifications."})]}),t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:wv.map((r,c)=>t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow cursor-pointer",children:[t.jsx("div",{className:`w-14 h-14 ${r.color} rounded-xl flex items-center justify-center mb-5`,children:t.jsx("i",{className:`${r.icon} text-2xl`})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:r.title}),t.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:r.description})]},c))})]})}),t.jsx("section",{id:"problems",className:"py-20 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("span",{className:"inline-block text-teal-600 font-semibold text-sm uppercase tracking-wider mb-4",children:"ProblÃ¨mes rÃ©solus"}),t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Avant vs AprÃ¨s ASTBA"}),t.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"DÃ©couvrez comment notre plateforme transforme la gestion quotidienne de vos formations."})]}),t.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Ev.map((r,c)=>t.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-white rounded-xl p-6 border border-gray-100",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx("i",{className:`${r.icon} text-gray-500 text-xl`})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("span",{className:"text-red-500 text-sm font-medium bg-red-50 px-3 py-1 rounded-full",children:"Avant"}),t.jsx("span",{className:"text-gray-600 text-sm",children:r.before})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-teal-600 text-sm font-medium bg-teal-50 px-3 py-1 rounded-full",children:"AprÃ¨s"}),t.jsx("span",{className:"text-gray-900 font-medium text-sm",children:r.after})]})]}),t.jsx("div",{className:"w-10 h-10 bg-teal-100 rounded-full flex items-center justify-center flex-shrink-0",children:t.jsx("i",{className:"ri-check-line text-teal-600 text-lg"})})]})},c))})]})}),t.jsx("section",{className:"py-20 bg-gradient-to-br from-teal-600 to-teal-700",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("span",{className:"inline-block text-teal-200 font-semibold text-sm uppercase tracking-wider mb-4",children:"Comment Ã§a marche"}),t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Structure des formations"}),t.jsx("p",{className:"text-teal-100 max-w-2xl mx-auto",children:"Chaque formation est organisÃ©e en 4 niveaux progressifs, avec 6 sÃ©ances par niveau."})]}),t.jsx("div",{className:"grid md:grid-cols-4 gap-6",children:[1,2,3,4].map(r=>t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("span",{className:"text-2xl font-bold text-teal-600",children:r})}),t.jsxs("h3",{className:"text-lg font-semibold text-white mb-2",children:["Niveau ",r]}),t.jsx("p",{className:"text-teal-100 text-sm mb-4",children:"6 sÃ©ances de formation"}),t.jsx("div",{className:"flex justify-center gap-1",children:[1,2,3,4,5,6].map(c=>t.jsx("div",{className:"w-6 h-6 bg-white/20 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-xs text-white",children:c})},c))})]},r))}),t.jsx("div",{className:"mt-12 text-center",children:t.jsxs("div",{className:"inline-flex items-center gap-4 bg-white/10 backdrop-blur-sm rounded-xl px-8 py-4 border border-white/20",children:[t.jsx("i",{className:"ri-award-line text-3xl text-amber-400"}),t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:"text-white font-semibold",children:"Certification automatique"}),t.jsx("div",{className:"text-teal-100 text-sm",children:"AprÃ¨s validation des 24 sÃ©ances (4 niveaux Ã— 6 sÃ©ances)"})]})]})})]})}),t.jsx("section",{id:"users",className:"py-20 bg-gray-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("span",{className:"inline-block text-teal-600 font-semibold text-sm uppercase tracking-wider mb-4",children:"Utilisateurs cibles"}),t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Pour qui est cette plateforme ?"}),t.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"ConÃ§ue pour une utilisation quotidienne par tous les acteurs de la formation."})]}),t.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:Av.map((r,c)=>t.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[t.jsx("div",{className:"w-16 h-16 bg-teal-50 rounded-xl flex items-center justify-center mb-6",children:t.jsx("i",{className:`${r.icon} text-teal-600 text-3xl`})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:r.title}),t.jsx("p",{className:"text-gray-600 text-sm mb-6 leading-relaxed",children:r.description}),t.jsx("div",{className:"space-y-2",children:r.tasks.map((d,m)=>t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[t.jsx("i",{className:"ri-check-line text-teal-600"}),t.jsx("span",{children:d})]},m))})]},c))})]})}),t.jsx("section",{className:"py-20 bg-white",children:t.jsx("div",{className:"max-w-7xl mx-auto px-6",children:t.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[t.jsx("div",{className:"order-2 lg:order-1",children:t.jsx("div",{className:"bg-gray-50 rounded-2xl p-6",children:t.jsx("img",{src:"https://readdy.ai/api/search-image?query=Modern%20dashboard%20interface%20showing%20attendance%20tracking%20system%20with%20charts%20and%20student%20progress%20data%20clean%20minimal%20design%20professional%20educational%20software%20interface%20light%20background&width=600&height=450&seq=dashboard001&orientation=landscape",alt:"Interface de la plateforme",className:"w-full h-72 object-cover object-top rounded-xl shadow-lg"})})}),t.jsxs("div",{className:"order-1 lg:order-2",children:[t.jsx("span",{className:"inline-block text-teal-600 font-semibold text-sm uppercase tracking-wider mb-4",children:"Avantages"}),t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Pourquoi utiliser ASTBA ?"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-10 h-10 bg-teal-600 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx("i",{className:"ri-time-line text-white text-lg"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Gain de temps"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Fini les listes papier et le suivi manuel. Tout est automatisÃ© et centralisÃ©."})]})]}),t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-10 h-10 bg-teal-600 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx("i",{className:"ri-shield-check-line text-white text-lg"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"FiabilitÃ© des donnÃ©es"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Ã‰liminez les erreurs de saisie et assurez l'intÃ©gritÃ© de vos donnÃ©es."})]})]}),t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-10 h-10 bg-teal-600 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx("i",{className:"ri-eye-line text-white text-lg"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"VisibilitÃ© complÃ¨te"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Suivez l'avancement de chaque Ã©lÃ¨ve en temps rÃ©el avec des indicateurs clairs."})]})]}),t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-10 h-10 bg-teal-600 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx("i",{className:"ri-smartphone-line text-white text-lg"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Accessible partout"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Application web responsive, accessible depuis PC et tablette."})]})]})]})]})]})})}),t.jsx(Nv,{}),t.jsx("section",{className:"py-20 bg-gray-900",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-teal-600 rounded-2xl flex items-center justify-center mx-auto mb-8",children:t.jsx("i",{className:"ri-rocket-2-line text-white text-4xl"})}),t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"PrÃªt Ã  simplifier votre gestion pÃ©dagogique ?"}),t.jsx("p",{className:"text-gray-400 mb-8 max-w-2xl mx-auto",children:"Rejoignez l'Ã©quipe ASTBA et dÃ©couvrez une nouvelle faÃ§on de gÃ©rer vos formations, suivre les prÃ©sences et dÃ©livrer les certifications."}),t.jsxs(st,{to:"/login",className:"inline-flex items-center justify-center gap-2 bg-teal-600 text-white px-8 py-4 rounded-lg font-medium hover:bg-teal-700 transition-colors cursor-pointer whitespace-nowrap",children:["Commencer maintenant",t.jsx("i",{className:"ri-arrow-right-line"})]})]})}),t.jsx("footer",{className:"bg-gray-50 border-t border-gray-200",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[t.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("img",{src:"https://static.readdy.ai/image/bf4e711212c75bfc790e10d1f48c04b1/405300009b422c3bf3fc7c3883a1975c.png",alt:"ASTBA Logo",className:"h-10 w-auto"}),t.jsx("span",{className:"font-bold text-xl text-gray-900",children:"ASTBA"})]}),t.jsx("p",{className:"text-gray-600 text-sm mb-4 max-w-md",children:"Association Sciences and Technology Ben Arous - Plateforme de suivi des formations et prÃ©sences pour le dÃ©veloppement des compÃ©tences scientifiques et technologiques."}),t.jsx("p",{className:"text-gray-500 text-sm",children:"Depuis 2018 au service de l'Ã©ducation"})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Navigation"}),t.jsxs("ul",{className:"space-y-2",children:[t.jsx("li",{children:t.jsx(st,{to:"/students",className:"text-gray-600 text-sm hover:text-teal-600 transition-colors cursor-pointer",children:"Ã‰lÃ¨ves"})}),t.jsx("li",{children:t.jsx(st,{to:"/trainings",className:"text-gray-600 text-sm hover:text-teal-600 transition-colors cursor-pointer",children:"Formations"})}),t.jsx("li",{children:t.jsx(st,{to:"/attendance",className:"text-gray-600 text-sm hover:text-teal-600 transition-colors cursor-pointer",children:"PrÃ©sences"})}),t.jsx("li",{children:t.jsx(st,{to:"/certification",className:"text-gray-600 text-sm hover:text-teal-600 transition-colors cursor-pointer",children:"Certifications"})})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Contact"}),t.jsxs("ul",{className:"space-y-2",children:[t.jsxs("li",{className:"flex items-center gap-2 text-gray-600 text-sm",children:[t.jsx("i",{className:"ri-map-pin-line text-teal-600"}),"Ben Arous, Tunisie"]}),t.jsxs("li",{className:"flex items-center gap-2 text-gray-600 text-sm",children:[t.jsx("i",{className:"ri-mail-line text-teal-600"}),"contact@astba.tn"]})]})]})]}),t.jsxs("div",{className:"border-t border-gray-200 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[t.jsx("p",{className:"text-gray-500 text-sm",children:"Â© 2025 ASTBA. Tous droits rÃ©servÃ©s."}),t.jsx("a",{href:"https://readdy.ai/?ref=logo",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 text-sm hover:text-teal-600 transition-colors cursor-pointer",children:"Powered by Readdy"})]})]})})]})}function rg(l,i){return function(){return l.apply(i,arguments)}}const{toString:Tv}=Object.prototype,{getPrototypeOf:$d}=Object,{iterator:Qr,toStringTag:cg}=Symbol,Kr=(l=>i=>{const r=Tv.call(i);return l[r]||(l[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ca=l=>(l=l.toLowerCase(),i=>Kr(i)===l),Zr=l=>i=>typeof i===l,{isArray:nl}=Array,el=Zr("undefined");function ui(l){return l!==null&&!el(l)&&l.constructor!==null&&!el(l.constructor)&&Qt(l.constructor.isBuffer)&&l.constructor.isBuffer(l)}const og=Ca("ArrayBuffer");function Rv(l){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(l):i=l&&l.buffer&&og(l.buffer),i}const Dv=Zr("string"),Qt=Zr("function"),dg=Zr("number"),mi=l=>l!==null&&typeof l=="object",Ov=l=>l===!0||l===!1,zr=l=>{if(Kr(l)!=="object")return!1;const i=$d(l);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(cg in l)&&!(Qr in l)},Mv=l=>{if(!mi(l)||ui(l))return!1;try{return Object.keys(l).length===0&&Object.getPrototypeOf(l)===Object.prototype}catch{return!1}},Lv=Ca("Date"),zv=Ca("File"),kv=Ca("Blob"),Uv=Ca("FileList"),_v=l=>mi(l)&&Qt(l.pipe),Bv=l=>{let i;return l&&(typeof FormData=="function"&&l instanceof FormData||Qt(l.append)&&((i=Kr(l))==="formdata"||i==="object"&&Qt(l.toString)&&l.toString()==="[object FormData]"))},qv=Ca("URLSearchParams"),[Hv,$v,Fv,Vv]=["ReadableStream","Request","Response","Headers"].map(Ca),Gv=l=>l.trim?l.trim():l.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fi(l,i,{allOwnKeys:r=!1}={}){if(l===null||typeof l>"u")return;let c,d;if(typeof l!="object"&&(l=[l]),nl(l))for(c=0,d=l.length;c<d;c++)i.call(null,l[c],c,l);else{if(ui(l))return;const m=r?Object.getOwnPropertyNames(l):Object.keys(l),f=m.length;let h;for(c=0;c<f;c++)h=m[c],i.call(null,l[h],h,l)}}function ug(l,i){if(ui(l))return null;i=i.toLowerCase();const r=Object.keys(l);let c=r.length,d;for(;c-- >0;)if(d=r[c],i===d.toLowerCase())return d;return null}const rn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,mg=l=>!el(l)&&l!==rn;function Td(){const{caseless:l,skipUndefined:i}=mg(this)&&this||{},r={},c=(d,m)=>{const f=l&&ug(r,m)||m;zr(r[f])&&zr(d)?r[f]=Td(r[f],d):zr(d)?r[f]=Td({},d):nl(d)?r[f]=d.slice():(!i||!el(d))&&(r[f]=d)};for(let d=0,m=arguments.length;d<m;d++)arguments[d]&&fi(arguments[d],c);return r}const Yv=(l,i,r,{allOwnKeys:c}={})=>(fi(i,(d,m)=>{r&&Qt(d)?Object.defineProperty(l,m,{value:rg(d,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(l,m,{value:d,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:c}),l),Xv=l=>(l.charCodeAt(0)===65279&&(l=l.slice(1)),l),Qv=(l,i,r,c)=>{l.prototype=Object.create(i.prototype,c),Object.defineProperty(l.prototype,"constructor",{value:l,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(l,"super",{value:i.prototype}),r&&Object.assign(l.prototype,r)},Kv=(l,i,r,c)=>{let d,m,f;const h={};if(i=i||{},l==null)return i;do{for(d=Object.getOwnPropertyNames(l),m=d.length;m-- >0;)f=d[m],(!c||c(f,l,i))&&!h[f]&&(i[f]=l[f],h[f]=!0);l=r!==!1&&$d(l)}while(l&&(!r||r(l,i))&&l!==Object.prototype);return i},Zv=(l,i,r)=>{l=String(l),(r===void 0||r>l.length)&&(r=l.length),r-=i.length;const c=l.indexOf(i,r);return c!==-1&&c===r},Iv=l=>{if(!l)return null;if(nl(l))return l;let i=l.length;if(!dg(i))return null;const r=new Array(i);for(;i-- >0;)r[i]=l[i];return r},Jv=(l=>i=>l&&i instanceof l)(typeof Uint8Array<"u"&&$d(Uint8Array)),Pv=(l,i)=>{const c=(l&&l[Qr]).call(l);let d;for(;(d=c.next())&&!d.done;){const m=d.value;i.call(l,m[0],m[1])}},Wv=(l,i)=>{let r;const c=[];for(;(r=l.exec(i))!==null;)c.push(r);return c},ej=Ca("HTMLFormElement"),tj=l=>l.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,c,d){return c.toUpperCase()+d}),ph=(({hasOwnProperty:l})=>(i,r)=>l.call(i,r))(Object.prototype),aj=Ca("RegExp"),fg=(l,i)=>{const r=Object.getOwnPropertyDescriptors(l),c={};fi(r,(d,m)=>{let f;(f=i(d,m,l))!==!1&&(c[m]=f||d)}),Object.defineProperties(l,c)},sj=l=>{fg(l,(i,r)=>{if(Qt(l)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const c=l[r];if(Qt(c)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},nj=(l,i)=>{const r={},c=d=>{d.forEach(m=>{r[m]=!0})};return nl(l)?c(l):c(String(l).split(i)),r},lj=()=>{},ij=(l,i)=>l!=null&&Number.isFinite(l=+l)?l:i;function rj(l){return!!(l&&Qt(l.append)&&l[cg]==="FormData"&&l[Qr])}const cj=l=>{const i=new Array(10),r=(c,d)=>{if(mi(c)){if(i.indexOf(c)>=0)return;if(ui(c))return c;if(!("toJSON"in c)){i[d]=c;const m=nl(c)?[]:{};return fi(c,(f,h)=>{const p=r(f,d+1);!el(p)&&(m[h]=p)}),i[d]=void 0,m}}return c};return r(l,0)},oj=Ca("AsyncFunction"),dj=l=>l&&(mi(l)||Qt(l))&&Qt(l.then)&&Qt(l.catch),xg=((l,i)=>l?setImmediate:i?((r,c)=>(rn.addEventListener("message",({source:d,data:m})=>{d===rn&&m===r&&c.length&&c.shift()()},!1),d=>{c.push(d),rn.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Qt(rn.postMessage)),uj=typeof queueMicrotask<"u"?queueMicrotask.bind(rn):typeof process<"u"&&process.nextTick||xg,mj=l=>l!=null&&Qt(l[Qr]),Z={isArray:nl,isArrayBuffer:og,isBuffer:ui,isFormData:Bv,isArrayBufferView:Rv,isString:Dv,isNumber:dg,isBoolean:Ov,isObject:mi,isPlainObject:zr,isEmptyObject:Mv,isReadableStream:Hv,isRequest:$v,isResponse:Fv,isHeaders:Vv,isUndefined:el,isDate:Lv,isFile:zv,isBlob:kv,isRegExp:aj,isFunction:Qt,isStream:_v,isURLSearchParams:qv,isTypedArray:Jv,isFileList:Uv,forEach:fi,merge:Td,extend:Yv,trim:Gv,stripBOM:Xv,inherits:Qv,toFlatObject:Kv,kindOf:Kr,kindOfTest:Ca,endsWith:Zv,toArray:Iv,forEachEntry:Pv,matchAll:Wv,isHTMLForm:ej,hasOwnProperty:ph,hasOwnProp:ph,reduceDescriptors:fg,freezeMethods:sj,toObjectSet:nj,toCamelCase:tj,noop:lj,toFiniteNumber:ij,findKey:ug,global:rn,isContextDefined:mg,isSpecCompliantForm:rj,toJSONObject:cj,isAsyncFn:oj,isThenable:dj,setImmediate:xg,asap:uj,isIterable:mj};let Ae=class hg extends Error{static from(i,r,c,d,m,f){const h=new hg(i.message,r||i.code,c,d,m);return h.cause=i,h.name=i.name,f&&Object.assign(h,f),h}constructor(i,r,c,d,m){super(i),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),c&&(this.config=c),d&&(this.request=d),m&&(this.response=m,this.status=m.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Z.toJSONObject(this.config),code:this.code,status:this.status}}};Ae.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Ae.ERR_BAD_OPTION="ERR_BAD_OPTION";Ae.ECONNABORTED="ECONNABORTED";Ae.ETIMEDOUT="ETIMEDOUT";Ae.ERR_NETWORK="ERR_NETWORK";Ae.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Ae.ERR_DEPRECATED="ERR_DEPRECATED";Ae.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Ae.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Ae.ERR_CANCELED="ERR_CANCELED";Ae.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Ae.ERR_INVALID_URL="ERR_INVALID_URL";const fj=null;function Rd(l){return Z.isPlainObject(l)||Z.isArray(l)}function gg(l){return Z.endsWith(l,"[]")?l.slice(0,-2):l}function bh(l,i,r){return l?l.concat(i).map(function(d,m){return d=gg(d),!r&&m?"["+d+"]":d}).join(r?".":""):i}function xj(l){return Z.isArray(l)&&!l.some(Rd)}const hj=Z.toFlatObject(Z,{},null,function(i){return/^is[A-Z]/.test(i)});function Ir(l,i,r){if(!Z.isObject(l))throw new TypeError("target must be an object");i=i||new FormData,r=Z.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,D){return!Z.isUndefined(D[R])});const c=r.metaTokens,d=r.visitor||b,m=r.dots,f=r.indexes,p=(r.Blob||typeof Blob<"u"&&Blob)&&Z.isSpecCompliantForm(i);if(!Z.isFunction(d))throw new TypeError("visitor must be a function");function g(E){if(E===null)return"";if(Z.isDate(E))return E.toISOString();if(Z.isBoolean(E))return E.toString();if(!p&&Z.isBlob(E))throw new Ae("Blob is not supported. Use a Buffer instead.");return Z.isArrayBuffer(E)||Z.isTypedArray(E)?p&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function b(E,R,D){let X=E;if(E&&!D&&typeof E=="object"){if(Z.endsWith(R,"{}"))R=c?R:R.slice(0,-2),E=JSON.stringify(E);else if(Z.isArray(E)&&xj(E)||(Z.isFileList(E)||Z.endsWith(R,"[]"))&&(X=Z.toArray(E)))return R=gg(R),X.forEach(function(P,le){!(Z.isUndefined(P)||P===null)&&i.append(f===!0?bh([R],le,m):f===null?R:R+"[]",g(P))}),!1}return Rd(E)?!0:(i.append(bh(D,R,m),g(E)),!1)}const v=[],T=Object.assign(hj,{defaultVisitor:b,convertValue:g,isVisitable:Rd});function L(E,R){if(!Z.isUndefined(E)){if(v.indexOf(E)!==-1)throw Error("Circular reference detected in "+R.join("."));v.push(E),Z.forEach(E,function(X,Q){(!(Z.isUndefined(X)||X===null)&&d.call(i,X,Z.isString(Q)?Q.trim():Q,R,T))===!0&&L(X,R?R.concat(Q):[Q])}),v.pop()}}if(!Z.isObject(l))throw new TypeError("data must be an object");return L(l),i}function yh(l){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(l).replace(/[!'()~]|%20|%00/g,function(c){return i[c]})}function Fd(l,i){this._pairs=[],l&&Ir(l,this,i)}const pg=Fd.prototype;pg.append=function(i,r){this._pairs.push([i,r])};pg.toString=function(i){const r=i?function(c){return i.call(this,c,yh)}:yh;return this._pairs.map(function(d){return r(d[0])+"="+r(d[1])},"").join("&")};function gj(l){return encodeURIComponent(l).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function bg(l,i,r){if(!i)return l;const c=r&&r.encode||gj,d=Z.isFunction(r)?{serialize:r}:r,m=d&&d.serialize;let f;if(m?f=m(i,d):f=Z.isURLSearchParams(i)?i.toString():new Fd(i,d).toString(c),f){const h=l.indexOf("#");h!==-1&&(l=l.slice(0,h)),l+=(l.indexOf("?")===-1?"?":"&")+f}return l}class vh{constructor(){this.handlers=[]}use(i,r,c){return this.handlers.push({fulfilled:i,rejected:r,synchronous:c?c.synchronous:!1,runWhen:c?c.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){Z.forEach(this.handlers,function(c){c!==null&&i(c)})}}const yg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pj=typeof URLSearchParams<"u"?URLSearchParams:Fd,bj=typeof FormData<"u"?FormData:null,yj=typeof Blob<"u"?Blob:null,vj={isBrowser:!0,classes:{URLSearchParams:pj,FormData:bj,Blob:yj},protocols:["http","https","file","blob","url","data"]},Vd=typeof window<"u"&&typeof document<"u",Dd=typeof navigator=="object"&&navigator||void 0,jj=Vd&&(!Dd||["ReactNative","NativeScript","NS"].indexOf(Dd.product)<0),Nj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Sj=Vd&&window.location.href||"http://localhost",wj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vd,hasStandardBrowserEnv:jj,hasStandardBrowserWebWorkerEnv:Nj,navigator:Dd,origin:Sj},Symbol.toStringTag,{value:"Module"})),kt={...wj,...vj};function Ej(l,i){return Ir(l,new kt.classes.URLSearchParams,{visitor:function(r,c,d,m){return kt.isNode&&Z.isBuffer(r)?(this.append(c,r.toString("base64")),!1):m.defaultVisitor.apply(this,arguments)},...i})}function Aj(l){return Z.matchAll(/\w+|\[(\w*)]/g,l).map(i=>i[0]==="[]"?"":i[1]||i[0])}function Cj(l){const i={},r=Object.keys(l);let c;const d=r.length;let m;for(c=0;c<d;c++)m=r[c],i[m]=l[m];return i}function vg(l){function i(r,c,d,m){let f=r[m++];if(f==="__proto__")return!0;const h=Number.isFinite(+f),p=m>=r.length;return f=!f&&Z.isArray(d)?d.length:f,p?(Z.hasOwnProp(d,f)?d[f]=[d[f],c]:d[f]=c,!h):((!d[f]||!Z.isObject(d[f]))&&(d[f]=[]),i(r,c,d[f],m)&&Z.isArray(d[f])&&(d[f]=Cj(d[f])),!h)}if(Z.isFormData(l)&&Z.isFunction(l.entries)){const r={};return Z.forEachEntry(l,(c,d)=>{i(Aj(c),d,r,0)}),r}return null}function Tj(l,i,r){if(Z.isString(l))try{return(i||JSON.parse)(l),Z.trim(l)}catch(c){if(c.name!=="SyntaxError")throw c}return(r||JSON.stringify)(l)}const xi={transitional:yg,adapter:["xhr","http","fetch"],transformRequest:[function(i,r){const c=r.getContentType()||"",d=c.indexOf("application/json")>-1,m=Z.isObject(i);if(m&&Z.isHTMLForm(i)&&(i=new FormData(i)),Z.isFormData(i))return d?JSON.stringify(vg(i)):i;if(Z.isArrayBuffer(i)||Z.isBuffer(i)||Z.isStream(i)||Z.isFile(i)||Z.isBlob(i)||Z.isReadableStream(i))return i;if(Z.isArrayBufferView(i))return i.buffer;if(Z.isURLSearchParams(i))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let h;if(m){if(c.indexOf("application/x-www-form-urlencoded")>-1)return Ej(i,this.formSerializer).toString();if((h=Z.isFileList(i))||c.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Ir(h?{"files[]":i}:i,p&&new p,this.formSerializer)}}return m||d?(r.setContentType("application/json",!1),Tj(i)):i}],transformResponse:[function(i){const r=this.transitional||xi.transitional,c=r&&r.forcedJSONParsing,d=this.responseType==="json";if(Z.isResponse(i)||Z.isReadableStream(i))return i;if(i&&Z.isString(i)&&(c&&!this.responseType||d)){const f=!(r&&r.silentJSONParsing)&&d;try{return JSON.parse(i,this.parseReviver)}catch(h){if(f)throw h.name==="SyntaxError"?Ae.from(h,Ae.ERR_BAD_RESPONSE,this,null,this.response):h}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kt.classes.FormData,Blob:kt.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Z.forEach(["delete","get","head","post","put","patch"],l=>{xi.headers[l]={}});const Rj=Z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Dj=l=>{const i={};let r,c,d;return l&&l.split(`
`).forEach(function(f){d=f.indexOf(":"),r=f.substring(0,d).trim().toLowerCase(),c=f.substring(d+1).trim(),!(!r||i[r]&&Rj[r])&&(r==="set-cookie"?i[r]?i[r].push(c):i[r]=[c]:i[r]=i[r]?i[r]+", "+c:c)}),i},jh=Symbol("internals");function ei(l){return l&&String(l).trim().toLowerCase()}function kr(l){return l===!1||l==null?l:Z.isArray(l)?l.map(kr):String(l)}function Oj(l){const i=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let c;for(;c=r.exec(l);)i[c[1]]=c[2];return i}const Mj=l=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(l.trim());function vd(l,i,r,c,d){if(Z.isFunction(c))return c.call(this,i,r);if(d&&(i=r),!!Z.isString(i)){if(Z.isString(c))return i.indexOf(c)!==-1;if(Z.isRegExp(c))return c.test(i)}}function Lj(l){return l.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,r,c)=>r.toUpperCase()+c)}function zj(l,i){const r=Z.toCamelCase(" "+i);["get","set","has"].forEach(c=>{Object.defineProperty(l,c+r,{value:function(d,m,f){return this[c].call(this,i,d,m,f)},configurable:!0})})}let Kt=class{constructor(i){i&&this.set(i)}set(i,r,c){const d=this;function m(h,p,g){const b=ei(p);if(!b)throw new Error("header name must be a non-empty string");const v=Z.findKey(d,b);(!v||d[v]===void 0||g===!0||g===void 0&&d[v]!==!1)&&(d[v||p]=kr(h))}const f=(h,p)=>Z.forEach(h,(g,b)=>m(g,b,p));if(Z.isPlainObject(i)||i instanceof this.constructor)f(i,r);else if(Z.isString(i)&&(i=i.trim())&&!Mj(i))f(Dj(i),r);else if(Z.isObject(i)&&Z.isIterable(i)){let h={},p,g;for(const b of i){if(!Z.isArray(b))throw TypeError("Object iterator must return a key-value pair");h[g=b[0]]=(p=h[g])?Z.isArray(p)?[...p,b[1]]:[p,b[1]]:b[1]}f(h,r)}else i!=null&&m(r,i,c);return this}get(i,r){if(i=ei(i),i){const c=Z.findKey(this,i);if(c){const d=this[c];if(!r)return d;if(r===!0)return Oj(d);if(Z.isFunction(r))return r.call(this,d,c);if(Z.isRegExp(r))return r.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,r){if(i=ei(i),i){const c=Z.findKey(this,i);return!!(c&&this[c]!==void 0&&(!r||vd(this,this[c],c,r)))}return!1}delete(i,r){const c=this;let d=!1;function m(f){if(f=ei(f),f){const h=Z.findKey(c,f);h&&(!r||vd(c,c[h],h,r))&&(delete c[h],d=!0)}}return Z.isArray(i)?i.forEach(m):m(i),d}clear(i){const r=Object.keys(this);let c=r.length,d=!1;for(;c--;){const m=r[c];(!i||vd(this,this[m],m,i,!0))&&(delete this[m],d=!0)}return d}normalize(i){const r=this,c={};return Z.forEach(this,(d,m)=>{const f=Z.findKey(c,m);if(f){r[f]=kr(d),delete r[m];return}const h=i?Lj(m):String(m).trim();h!==m&&delete r[m],r[h]=kr(d),c[h]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const r=Object.create(null);return Z.forEach(this,(c,d)=>{c!=null&&c!==!1&&(r[d]=i&&Z.isArray(c)?c.join(", "):c)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,r])=>i+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...r){const c=new this(i);return r.forEach(d=>c.set(d)),c}static accessor(i){const c=(this[jh]=this[jh]={accessors:{}}).accessors,d=this.prototype;function m(f){const h=ei(f);c[h]||(zj(d,f),c[h]=!0)}return Z.isArray(i)?i.forEach(m):m(i),this}};Kt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Z.reduceDescriptors(Kt.prototype,({value:l},i)=>{let r=i[0].toUpperCase()+i.slice(1);return{get:()=>l,set(c){this[r]=c}}});Z.freezeMethods(Kt);function jd(l,i){const r=this||xi,c=i||r,d=Kt.from(c.headers);let m=c.data;return Z.forEach(l,function(h){m=h.call(r,m,d.normalize(),i?i.status:void 0)}),d.normalize(),m}function jg(l){return!!(l&&l.__CANCEL__)}let hi=class extends Ae{constructor(i,r,c){super(i??"canceled",Ae.ERR_CANCELED,r,c),this.name="CanceledError",this.__CANCEL__=!0}};function Ng(l,i,r){const c=r.config.validateStatus;!r.status||!c||c(r.status)?l(r):i(new Ae("Request failed with status code "+r.status,[Ae.ERR_BAD_REQUEST,Ae.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function kj(l){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(l);return i&&i[1]||""}function Uj(l,i){l=l||10;const r=new Array(l),c=new Array(l);let d=0,m=0,f;return i=i!==void 0?i:1e3,function(p){const g=Date.now(),b=c[m];f||(f=g),r[d]=p,c[d]=g;let v=m,T=0;for(;v!==d;)T+=r[v++],v=v%l;if(d=(d+1)%l,d===m&&(m=(m+1)%l),g-f<i)return;const L=b&&g-b;return L?Math.round(T*1e3/L):void 0}}function _j(l,i){let r=0,c=1e3/i,d,m;const f=(g,b=Date.now())=>{r=b,d=null,m&&(clearTimeout(m),m=null),l(...g)};return[(...g)=>{const b=Date.now(),v=b-r;v>=c?f(g,b):(d=g,m||(m=setTimeout(()=>{m=null,f(d)},c-v)))},()=>d&&f(d)]}const $r=(l,i,r=3)=>{let c=0;const d=Uj(50,250);return _j(m=>{const f=m.loaded,h=m.lengthComputable?m.total:void 0,p=f-c,g=d(p),b=f<=h;c=f;const v={loaded:f,total:h,progress:h?f/h:void 0,bytes:p,rate:g||void 0,estimated:g&&h&&b?(h-f)/g:void 0,event:m,lengthComputable:h!=null,[i?"download":"upload"]:!0};l(v)},r)},Nh=(l,i)=>{const r=l!=null;return[c=>i[0]({lengthComputable:r,total:l,loaded:c}),i[1]]},Sh=l=>(...i)=>Z.asap(()=>l(...i)),Bj=kt.hasStandardBrowserEnv?((l,i)=>r=>(r=new URL(r,kt.origin),l.protocol===r.protocol&&l.host===r.host&&(i||l.port===r.port)))(new URL(kt.origin),kt.navigator&&/(msie|trident)/i.test(kt.navigator.userAgent)):()=>!0,qj=kt.hasStandardBrowserEnv?{write(l,i,r,c,d,m,f){if(typeof document>"u")return;const h=[`${l}=${encodeURIComponent(i)}`];Z.isNumber(r)&&h.push(`expires=${new Date(r).toUTCString()}`),Z.isString(c)&&h.push(`path=${c}`),Z.isString(d)&&h.push(`domain=${d}`),m===!0&&h.push("secure"),Z.isString(f)&&h.push(`SameSite=${f}`),document.cookie=h.join("; ")},read(l){if(typeof document>"u")return null;const i=document.cookie.match(new RegExp("(?:^|; )"+l+"=([^;]*)"));return i?decodeURIComponent(i[1]):null},remove(l){this.write(l,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Hj(l){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(l)}function $j(l,i){return i?l.replace(/\/?\/$/,"")+"/"+i.replace(/^\/+/,""):l}function Sg(l,i,r){let c=!Hj(i);return l&&(c||r==!1)?$j(l,i):i}const wh=l=>l instanceof Kt?{...l}:l;function on(l,i){i=i||{};const r={};function c(g,b,v,T){return Z.isPlainObject(g)&&Z.isPlainObject(b)?Z.merge.call({caseless:T},g,b):Z.isPlainObject(b)?Z.merge({},b):Z.isArray(b)?b.slice():b}function d(g,b,v,T){if(Z.isUndefined(b)){if(!Z.isUndefined(g))return c(void 0,g,v,T)}else return c(g,b,v,T)}function m(g,b){if(!Z.isUndefined(b))return c(void 0,b)}function f(g,b){if(Z.isUndefined(b)){if(!Z.isUndefined(g))return c(void 0,g)}else return c(void 0,b)}function h(g,b,v){if(v in i)return c(g,b);if(v in l)return c(void 0,g)}const p={url:m,method:m,data:m,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:h,headers:(g,b,v)=>d(wh(g),wh(b),v,!0)};return Z.forEach(Object.keys({...l,...i}),function(b){const v=p[b]||d,T=v(l[b],i[b],b);Z.isUndefined(T)&&v!==h||(r[b]=T)}),r}const wg=l=>{const i=on({},l);let{data:r,withXSRFToken:c,xsrfHeaderName:d,xsrfCookieName:m,headers:f,auth:h}=i;if(i.headers=f=Kt.from(f),i.url=bg(Sg(i.baseURL,i.url,i.allowAbsoluteUrls),l.params,l.paramsSerializer),h&&f.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),Z.isFormData(r)){if(kt.hasStandardBrowserEnv||kt.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(Z.isFunction(r.getHeaders)){const p=r.getHeaders(),g=["content-type","content-length"];Object.entries(p).forEach(([b,v])=>{g.includes(b.toLowerCase())&&f.set(b,v)})}}if(kt.hasStandardBrowserEnv&&(c&&Z.isFunction(c)&&(c=c(i)),c||c!==!1&&Bj(i.url))){const p=d&&m&&qj.read(m);p&&f.set(d,p)}return i},Fj=typeof XMLHttpRequest<"u",Vj=Fj&&function(l){return new Promise(function(r,c){const d=wg(l);let m=d.data;const f=Kt.from(d.headers).normalize();let{responseType:h,onUploadProgress:p,onDownloadProgress:g}=d,b,v,T,L,E;function R(){L&&L(),E&&E(),d.cancelToken&&d.cancelToken.unsubscribe(b),d.signal&&d.signal.removeEventListener("abort",b)}let D=new XMLHttpRequest;D.open(d.method.toUpperCase(),d.url,!0),D.timeout=d.timeout;function X(){if(!D)return;const P=Kt.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),oe={data:!h||h==="text"||h==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:P,config:l,request:D};Ng(function(Y){r(Y),R()},function(Y){c(Y),R()},oe),D=null}"onloadend"in D?D.onloadend=X:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(X)},D.onabort=function(){D&&(c(new Ae("Request aborted",Ae.ECONNABORTED,l,D)),D=null)},D.onerror=function(le){const oe=le&&le.message?le.message:"Network Error",ae=new Ae(oe,Ae.ERR_NETWORK,l,D);ae.event=le||null,c(ae),D=null},D.ontimeout=function(){let le=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const oe=d.transitional||yg;d.timeoutErrorMessage&&(le=d.timeoutErrorMessage),c(new Ae(le,oe.clarifyTimeoutError?Ae.ETIMEDOUT:Ae.ECONNABORTED,l,D)),D=null},m===void 0&&f.setContentType(null),"setRequestHeader"in D&&Z.forEach(f.toJSON(),function(le,oe){D.setRequestHeader(oe,le)}),Z.isUndefined(d.withCredentials)||(D.withCredentials=!!d.withCredentials),h&&h!=="json"&&(D.responseType=d.responseType),g&&([T,E]=$r(g,!0),D.addEventListener("progress",T)),p&&D.upload&&([v,L]=$r(p),D.upload.addEventListener("progress",v),D.upload.addEventListener("loadend",L)),(d.cancelToken||d.signal)&&(b=P=>{D&&(c(!P||P.type?new hi(null,l,D):P),D.abort(),D=null)},d.cancelToken&&d.cancelToken.subscribe(b),d.signal&&(d.signal.aborted?b():d.signal.addEventListener("abort",b)));const Q=kj(d.url);if(Q&&kt.protocols.indexOf(Q)===-1){c(new Ae("Unsupported protocol "+Q+":",Ae.ERR_BAD_REQUEST,l));return}D.send(m||null)})},Gj=(l,i)=>{const{length:r}=l=l?l.filter(Boolean):[];if(i||r){let c=new AbortController,d;const m=function(g){if(!d){d=!0,h();const b=g instanceof Error?g:this.reason;c.abort(b instanceof Ae?b:new hi(b instanceof Error?b.message:b))}};let f=i&&setTimeout(()=>{f=null,m(new Ae(`timeout of ${i}ms exceeded`,Ae.ETIMEDOUT))},i);const h=()=>{l&&(f&&clearTimeout(f),f=null,l.forEach(g=>{g.unsubscribe?g.unsubscribe(m):g.removeEventListener("abort",m)}),l=null)};l.forEach(g=>g.addEventListener("abort",m));const{signal:p}=c;return p.unsubscribe=()=>Z.asap(h),p}},Yj=function*(l,i){let r=l.byteLength;if(r<i){yield l;return}let c=0,d;for(;c<r;)d=c+i,yield l.slice(c,d),c=d},Xj=async function*(l,i){for await(const r of Qj(l))yield*Yj(r,i)},Qj=async function*(l){if(l[Symbol.asyncIterator]){yield*l;return}const i=l.getReader();try{for(;;){const{done:r,value:c}=await i.read();if(r)break;yield c}}finally{await i.cancel()}},Eh=(l,i,r,c)=>{const d=Xj(l,i);let m=0,f,h=p=>{f||(f=!0,c&&c(p))};return new ReadableStream({async pull(p){try{const{done:g,value:b}=await d.next();if(g){h(),p.close();return}let v=b.byteLength;if(r){let T=m+=v;r(T)}p.enqueue(new Uint8Array(b))}catch(g){throw h(g),g}},cancel(p){return h(p),d.return()}},{highWaterMark:2})},Ah=64*1024,{isFunction:Dr}=Z,Kj=(({Request:l,Response:i})=>({Request:l,Response:i}))(Z.global),{ReadableStream:Ch,TextEncoder:Th}=Z.global,Rh=(l,...i)=>{try{return!!l(...i)}catch{return!1}},Zj=l=>{l=Z.merge.call({skipUndefined:!0},Kj,l);const{fetch:i,Request:r,Response:c}=l,d=i?Dr(i):typeof fetch=="function",m=Dr(r),f=Dr(c);if(!d)return!1;const h=d&&Dr(Ch),p=d&&(typeof Th=="function"?(E=>R=>E.encode(R))(new Th):async E=>new Uint8Array(await new r(E).arrayBuffer())),g=m&&h&&Rh(()=>{let E=!1;const R=new r(kt.origin,{body:new Ch,method:"POST",get duplex(){return E=!0,"half"}}).headers.has("Content-Type");return E&&!R}),b=f&&h&&Rh(()=>Z.isReadableStream(new c("").body)),v={stream:b&&(E=>E.body)};d&&["text","arrayBuffer","blob","formData","stream"].forEach(E=>{!v[E]&&(v[E]=(R,D)=>{let X=R&&R[E];if(X)return X.call(R);throw new Ae(`Response type '${E}' is not supported`,Ae.ERR_NOT_SUPPORT,D)})});const T=async E=>{if(E==null)return 0;if(Z.isBlob(E))return E.size;if(Z.isSpecCompliantForm(E))return(await new r(kt.origin,{method:"POST",body:E}).arrayBuffer()).byteLength;if(Z.isArrayBufferView(E)||Z.isArrayBuffer(E))return E.byteLength;if(Z.isURLSearchParams(E)&&(E=E+""),Z.isString(E))return(await p(E)).byteLength},L=async(E,R)=>{const D=Z.toFiniteNumber(E.getContentLength());return D??T(R)};return async E=>{let{url:R,method:D,data:X,signal:Q,cancelToken:P,timeout:le,onDownloadProgress:oe,onUploadProgress:ae,responseType:Y,headers:ie,withCredentials:de="same-origin",fetchOptions:ue}=wg(E),A=i||fetch;Y=Y?(Y+"").toLowerCase():"text";let k=Gj([Q,P&&P.toAbortSignal()],le),ee=null;const ce=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let V;try{if(ae&&g&&D!=="get"&&D!=="head"&&(V=await L(ie,X))!==0){let N=new r(R,{method:"POST",body:X,duplex:"half"}),U;if(Z.isFormData(X)&&(U=N.headers.get("content-type"))&&ie.setContentType(U),N.body){const[ne,se]=Nh(V,$r(Sh(ae)));X=Eh(N.body,Ah,ne,se)}}Z.isString(de)||(de=de?"include":"omit");const S=m&&"credentials"in r.prototype,w={...ue,signal:k,method:D.toUpperCase(),headers:ie.normalize().toJSON(),body:X,duplex:"half",credentials:S?de:void 0};ee=m&&new r(R,w);let O=await(m?A(ee,ue):A(R,w));const re=b&&(Y==="stream"||Y==="response");if(b&&(oe||re&&ce)){const N={};["status","statusText","headers"].forEach(be=>{N[be]=O[be]});const U=Z.toFiniteNumber(O.headers.get("content-length")),[ne,se]=oe&&Nh(U,$r(Sh(oe),!0))||[];O=new c(Eh(O.body,Ah,ne,()=>{se&&se(),ce&&ce()}),N)}Y=Y||"text";let B=await v[Z.findKey(v,Y)||"text"](O,E);return!re&&ce&&ce(),await new Promise((N,U)=>{Ng(N,U,{data:B,headers:Kt.from(O.headers),status:O.status,statusText:O.statusText,config:E,request:ee})})}catch(S){throw ce&&ce(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new Ae("Network Error",Ae.ERR_NETWORK,E,ee),{cause:S.cause||S}):Ae.from(S,S&&S.code,E,ee)}}},Ij=new Map,Eg=l=>{let i=l&&l.env||{};const{fetch:r,Request:c,Response:d}=i,m=[c,d,r];let f=m.length,h=f,p,g,b=Ij;for(;h--;)p=m[h],g=b.get(p),g===void 0&&b.set(p,g=h?new Map:Zj(i)),b=g;return g};Eg();const Gd={http:fj,xhr:Vj,fetch:{get:Eg}};Z.forEach(Gd,(l,i)=>{if(l){try{Object.defineProperty(l,"name",{value:i})}catch{}Object.defineProperty(l,"adapterName",{value:i})}});const Dh=l=>`- ${l}`,Jj=l=>Z.isFunction(l)||l===null||l===!1;function Pj(l,i){l=Z.isArray(l)?l:[l];const{length:r}=l;let c,d;const m={};for(let f=0;f<r;f++){c=l[f];let h;if(d=c,!Jj(c)&&(d=Gd[(h=String(c)).toLowerCase()],d===void 0))throw new Ae(`Unknown adapter '${h}'`);if(d&&(Z.isFunction(d)||(d=d.get(i))))break;m[h||"#"+f]=d}if(!d){const f=Object.entries(m).map(([p,g])=>`adapter ${p} `+(g===!1?"is not supported by the environment":"is not available in the build"));let h=r?f.length>1?`since :
`+f.map(Dh).join(`
`):" "+Dh(f[0]):"as no adapter specified";throw new Ae("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return d}const Ag={getAdapter:Pj,adapters:Gd};function Nd(l){if(l.cancelToken&&l.cancelToken.throwIfRequested(),l.signal&&l.signal.aborted)throw new hi(null,l)}function Oh(l){return Nd(l),l.headers=Kt.from(l.headers),l.data=jd.call(l,l.transformRequest),["post","put","patch"].indexOf(l.method)!==-1&&l.headers.setContentType("application/x-www-form-urlencoded",!1),Ag.getAdapter(l.adapter||xi.adapter,l)(l).then(function(c){return Nd(l),c.data=jd.call(l,l.transformResponse,c),c.headers=Kt.from(c.headers),c},function(c){return jg(c)||(Nd(l),c&&c.response&&(c.response.data=jd.call(l,l.transformResponse,c.response),c.response.headers=Kt.from(c.response.headers))),Promise.reject(c)})}const Cg="1.13.4",Jr={};["object","boolean","number","function","string","symbol"].forEach((l,i)=>{Jr[l]=function(c){return typeof c===l||"a"+(i<1?"n ":" ")+l}});const Mh={};Jr.transitional=function(i,r,c){function d(m,f){return"[Axios v"+Cg+"] Transitional option '"+m+"'"+f+(c?". "+c:"")}return(m,f,h)=>{if(i===!1)throw new Ae(d(f," has been removed"+(r?" in "+r:"")),Ae.ERR_DEPRECATED);return r&&!Mh[f]&&(Mh[f]=!0,console.warn(d(f," has been deprecated since v"+r+" and will be removed in the near future"))),i?i(m,f,h):!0}};Jr.spelling=function(i){return(r,c)=>(console.warn(`${c} is likely a misspelling of ${i}`),!0)};function Wj(l,i,r){if(typeof l!="object")throw new Ae("options must be an object",Ae.ERR_BAD_OPTION_VALUE);const c=Object.keys(l);let d=c.length;for(;d-- >0;){const m=c[d],f=i[m];if(f){const h=l[m],p=h===void 0||f(h,m,l);if(p!==!0)throw new Ae("option "+m+" must be "+p,Ae.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ae("Unknown option "+m,Ae.ERR_BAD_OPTION)}}const Ur={assertOptions:Wj,validators:Jr},ka=Ur.validators;let cn=class{constructor(i){this.defaults=i||{},this.interceptors={request:new vh,response:new vh}}async request(i,r){try{return await this._request(i,r)}catch(c){if(c instanceof Error){let d={};Error.captureStackTrace?Error.captureStackTrace(d):d=new Error;const m=d.stack?d.stack.replace(/^.+\n/,""):"";try{c.stack?m&&!String(c.stack).endsWith(m.replace(/^.+\n.+\n/,""))&&(c.stack+=`
`+m):c.stack=m}catch{}}throw c}}_request(i,r){typeof i=="string"?(r=r||{},r.url=i):r=i||{},r=on(this.defaults,r);const{transitional:c,paramsSerializer:d,headers:m}=r;c!==void 0&&Ur.assertOptions(c,{silentJSONParsing:ka.transitional(ka.boolean),forcedJSONParsing:ka.transitional(ka.boolean),clarifyTimeoutError:ka.transitional(ka.boolean)},!1),d!=null&&(Z.isFunction(d)?r.paramsSerializer={serialize:d}:Ur.assertOptions(d,{encode:ka.function,serialize:ka.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ur.assertOptions(r,{baseUrl:ka.spelling("baseURL"),withXsrfToken:ka.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let f=m&&Z.merge(m.common,m[r.method]);m&&Z.forEach(["delete","get","head","post","put","patch","common"],E=>{delete m[E]}),r.headers=Kt.concat(f,m);const h=[];let p=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(r)===!1||(p=p&&R.synchronous,h.unshift(R.fulfilled,R.rejected))});const g=[];this.interceptors.response.forEach(function(R){g.push(R.fulfilled,R.rejected)});let b,v=0,T;if(!p){const E=[Oh.bind(this),void 0];for(E.unshift(...h),E.push(...g),T=E.length,b=Promise.resolve(r);v<T;)b=b.then(E[v++],E[v++]);return b}T=h.length;let L=r;for(;v<T;){const E=h[v++],R=h[v++];try{L=E(L)}catch(D){R.call(this,D);break}}try{b=Oh.call(this,L)}catch(E){return Promise.reject(E)}for(v=0,T=g.length;v<T;)b=b.then(g[v++],g[v++]);return b}getUri(i){i=on(this.defaults,i);const r=Sg(i.baseURL,i.url,i.allowAbsoluteUrls);return bg(r,i.params,i.paramsSerializer)}};Z.forEach(["delete","get","head","options"],function(i){cn.prototype[i]=function(r,c){return this.request(on(c||{},{method:i,url:r,data:(c||{}).data}))}});Z.forEach(["post","put","patch"],function(i){function r(c){return function(m,f,h){return this.request(on(h||{},{method:i,headers:c?{"Content-Type":"multipart/form-data"}:{},url:m,data:f}))}}cn.prototype[i]=r(),cn.prototype[i+"Form"]=r(!0)});let eN=class Tg{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(m){r=m});const c=this;this.promise.then(d=>{if(!c._listeners)return;let m=c._listeners.length;for(;m-- >0;)c._listeners[m](d);c._listeners=null}),this.promise.then=d=>{let m;const f=new Promise(h=>{c.subscribe(h),m=h}).then(d);return f.cancel=function(){c.unsubscribe(m)},f},i(function(m,f,h){c.reason||(c.reason=new hi(m,f,h),r(c.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const r=this._listeners.indexOf(i);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const i=new AbortController,r=c=>{i.abort(c)};return this.subscribe(r),i.signal.unsubscribe=()=>this.unsubscribe(r),i.signal}static source(){let i;return{token:new Tg(function(d){i=d}),cancel:i}}};function tN(l){return function(r){return l.apply(null,r)}}function aN(l){return Z.isObject(l)&&l.isAxiosError===!0}const Od={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Od).forEach(([l,i])=>{Od[i]=l});function Rg(l){const i=new cn(l),r=rg(cn.prototype.request,i);return Z.extend(r,cn.prototype,i,{allOwnKeys:!0}),Z.extend(r,i,null,{allOwnKeys:!0}),r.create=function(d){return Rg(on(l,d))},r}const gt=Rg(xi);gt.Axios=cn;gt.CanceledError=hi;gt.CancelToken=eN;gt.isCancel=jg;gt.VERSION=Cg;gt.toFormData=Ir;gt.AxiosError=Ae;gt.Cancel=gt.CanceledError;gt.all=function(i){return Promise.all(i)};gt.spread=tN;gt.isAxiosError=aN;gt.mergeConfig=on;gt.AxiosHeaders=Kt;gt.formToJSON=l=>vg(Z.isHTMLForm(l)?new FormData(l):l);gt.getAdapter=Ag.getAdapter;gt.HttpStatusCode=Od;gt.default=gt;const{Axios:YN,AxiosError:XN,CanceledError:QN,isCancel:KN,CancelToken:ZN,VERSION:IN,all:JN,Cancel:PN,isAxiosError:WN,spread:e1,toFormData:t1,AxiosHeaders:a1,HttpStatusCode:s1,formToJSON:n1,getAdapter:l1,mergeConfig:i1}=gt,Re=gt.create({baseURL:"http://localhost:8080/api",headers:{"Content-Type":"application/json"}});Re.interceptors.request.use(l=>{const i=localStorage.getItem("token");return i&&(l.headers.Authorization=`Bearer ${i}`),l},l=>Promise.reject(l));const ft={token:"token",email:"userEmail",role:"userRole",firstName:"userFirstName",lastName:"userLastName",id:"userId"},sN=l=>{if(l?.accessToken&&localStorage.setItem(ft.token,l.accessToken),l?.user){const{user:i}=l;i.id!==void 0&&i.id!==null&&localStorage.setItem(ft.id,String(i.id)),i.email&&localStorage.setItem(ft.email,i.email),i.role&&localStorage.setItem(ft.role,i.role),i.firstName&&localStorage.setItem(ft.firstName,i.firstName),i.lastName&&localStorage.setItem(ft.lastName,i.lastName)}},na={login:async(l,i)=>{const r=await Re.post("/auth/login",{email:l,password:i});return sN(r.data),!r.data?.user&&l&&localStorage.setItem(ft.email,l),r.data},logout:()=>{localStorage.removeItem(ft.token),localStorage.removeItem(ft.email),localStorage.removeItem(ft.role),localStorage.removeItem(ft.firstName),localStorage.removeItem(ft.lastName),localStorage.removeItem(ft.id)},getCurrentUser:()=>localStorage.getItem(ft.email),getUserProfile:()=>({id:localStorage.getItem(ft.id),email:localStorage.getItem(ft.email),role:localStorage.getItem(ft.role),firstName:localStorage.getItem(ft.firstName),lastName:localStorage.getItem(ft.lastName)}),getUserRole:()=>localStorage.getItem(ft.role),hasRole:l=>localStorage.getItem(ft.role)===l,isAuthenticated:()=>!!localStorage.getItem(ft.token)},Fr={getAll:async()=>(await Re.get("/messages")).data,sendMessage:async l=>(await Re.post("/messages",l)).data};function Nt(){const l=Ba(),i=Aa(),[r,c]=y.useState(!1),[d,m]=y.useState(0),f=y.useRef(null),h=na.getUserProfile(),p=h?.role||"",g=`${h?.firstName||""} ${h?.lastName||""}`.trim()||"Utilisateur",b=R=>l.pathname===R;y.useEffect(()=>{const R=D=>{f.current&&!f.current.contains(D.target)&&c(!1)};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]),y.useEffect(()=>{const R=async()=>{try{const D=await Fr.getAll(),X=na.getCurrentUser(),Q=D.filter(P=>!(P.read??P.isRead??!1)&&P.recipientId===X).length;m(Q)}catch(D){console.error("Failed to load unread messages",D)}};na.isAuthenticated()&&R()},[]);const v=[{path:"/dashboard",label:"Tableau de bord",icon:"ri-dashboard-line",roles:["ADMIN","FORMATEUR","RESPONSABLE"]},{path:"/students",label:"Eleves",icon:"ri-user-line",roles:["ADMIN","FORMATEUR","RESPONSABLE"]},{path:"/trainings",label:"Formations",icon:"ri-book-line",roles:["ADMIN","RESPONSABLE"]},{path:"/attendance",label:"Presences",icon:"ri-calendar-check-line",roles:["ADMIN","FORMATEUR","RESPONSABLE"]},{path:"/certification",label:"Certifications",icon:"ri-award-line",roles:["ADMIN","RESPONSABLE"]},{path:"/reports",label:"Rapports",icon:"ri-bar-chart-2-line",roles:["ADMIN","RESPONSABLE"]},{path:"/users",label:"Utilisateurs",icon:"ri-team-line",roles:["ADMIN"]},{path:"/audit-logs",label:"Audit",icon:"ri-shield-check-line",roles:["ADMIN"]},{path:"/messages",label:"Messages",icon:"ri-message-3-line",badge:d,roles:["ADMIN","FORMATEUR","RESPONSABLE"]}],T=p?v.filter(R=>!R.roles||R.roles.includes(p)):v,L=l.pathname==="/profile"||l.pathname==="/accessibility",E=()=>{c(!1),na.logout(),i("/login")};return t.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex items-center justify-between h-16",children:[t.jsxs(st,{to:"/dashboard",className:"flex items-center gap-3 cursor-pointer",children:[t.jsx("img",{src:"https://static.readdy.ai/image/bf4e711212c75bfc790e10d1f48c04b1/405300009b422c3bf3fc7c3883a1975c.png",alt:"ASTBA Logo",className:"h-10 w-auto"}),t.jsx("span",{className:"text-xl font-bold text-gray-900",children:"ASTBA"})]}),t.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[T.map(R=>t.jsxs(st,{to:R.path,className:`relative flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 cursor-pointer whitespace-nowrap ${b(R.path)?"bg-teal-50 text-teal-600":"text-gray-700 hover:bg-gray-100"}`,children:[t.jsx("i",{className:`${R.icon} text-lg`,"aria-hidden":"true"}),t.jsx("span",{children:R.label}),R.badge&&R.badge>0&&t.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 flex items-center justify-center bg-teal-500 text-white text-xs font-bold rounded-full",children:R.badge>9?"9+":R.badge})]},R.path)),t.jsxs("div",{className:"relative ml-2",ref:f,children:[t.jsxs("button",{onClick:()=>c(!r),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 cursor-pointer whitespace-nowrap ${L?"bg-teal-50 text-teal-600":"text-gray-700 hover:bg-gray-100"}`,children:[t.jsx("div",{className:"w-7 h-7 bg-gradient-to-br from-teal-500 to-teal-600 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"ri-user-3-line text-white text-sm","aria-hidden":"true"})}),t.jsx("span",{children:"Compte"}),t.jsx("i",{className:`ri-arrow-down-s-line text-base transition-transform duration-200 ${r?"rotate-180":""}`,"aria-hidden":"true"})]}),r&&t.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50 animate-fade-in",children:[t.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:g}),t.jsx("p",{className:"text-xs text-gray-500",children:p==="ADMIN"?"Administrateur":p==="RESPONSABLE"?"Responsable formation":"Formateur"})]}),t.jsxs("div",{className:"py-1",children:[t.jsxs(st,{to:"/profile",onClick:()=>c(!1),className:`flex items-center gap-3 px-4 py-2.5 text-sm transition-colors cursor-pointer ${b("/profile")?"bg-teal-50 text-teal-600":"text-gray-700 hover:bg-gray-50"}`,children:[t.jsx("div",{className:"w-5 h-5 flex items-center justify-center",children:t.jsx("i",{className:"ri-user-settings-line text-lg","aria-hidden":"true"})}),t.jsx("span",{children:"Mon Profil"})]}),t.jsxs(st,{to:"/accessibility",onClick:()=>c(!1),className:`flex items-center gap-3 px-4 py-2.5 text-sm transition-colors cursor-pointer ${b("/accessibility")?"bg-teal-50 text-teal-600":"text-gray-700 hover:bg-gray-50"}`,children:[t.jsx("div",{className:"w-5 h-5 flex items-center justify-center",children:t.jsx("i",{className:"ri-accessibility-line text-lg","aria-hidden":"true"})}),t.jsx("span",{children:"AccessibilitÃ©"})]})]}),t.jsx("div",{className:"border-t border-gray-100 pt-1",children:t.jsxs("button",{onClick:E,className:"flex items-center gap-3 px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors cursor-pointer w-full whitespace-nowrap",children:[t.jsx("div",{className:"w-5 h-5 flex items-center justify-center",children:t.jsx("i",{className:"ri-logout-box-r-line text-lg","aria-hidden":"true"})}),t.jsx("span",{children:"Se dÃ©connecter"})]})})]})]})]})]})})})}function xe({children:l,className:i="",padding:r="md",hover:c=!1}){const d={none:"",sm:"p-4",md:"p-6",lg:"p-8"};return t.jsx("div",{className:`bg-white rounded-lg border border-gray-200 shadow-sm ${d[r]} ${c?"hover:shadow-md transition-shadow duration-200":""} ${i}`,children:l})}function Or({title:l,value:i,icon:r,iconColor:c,trend:d,description:m}){return t.jsx(xe,{hover:!0,children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:l}),t.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:i}),d&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("i",{className:`${d.isPositive?"ri-arrow-up-line":"ri-arrow-down-line"} text-sm ${d.isPositive?"text-green-600":"text-red-600"}`,"aria-hidden":"true"}),t.jsx("span",{className:`text-sm font-medium ${d.isPositive?"text-green-600":"text-red-600"}`,children:d.value})]}),m&&t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:m})]}),t.jsx("div",{className:`w-12 h-12 flex items-center justify-center rounded-lg ${c}`,children:t.jsx("i",{className:`${r} text-2xl text-white`,"aria-hidden":"true"})})]})})}function Ce({children:l,variant:i="neutral",size:r="md",className:c=""}){const d={success:"bg-green-100 text-green-800 border-green-200",warning:"bg-amber-100 text-amber-800 border-amber-200",danger:"bg-red-100 text-red-800 border-red-200",info:"bg-teal-100 text-teal-800 border-teal-200",neutral:"bg-gray-100 text-gray-800 border-gray-200"},m={sm:"px-2 py-0.5 text-xs",md:"px-3 py-1 text-sm"};return t.jsx("span",{className:`inline-flex items-center font-medium rounded-full border whitespace-nowrap ${d[i]} ${m[r]} ${c}`,children:l})}function he({variant:l="primary",size:i="md",children:r,fullWidth:c=!1,icon:d,className:m="",disabled:f,...h}){const p="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap cursor-pointer",g={primary:"bg-teal-600 text-white hover:bg-teal-700 focus:ring-teal-300",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-300",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-300",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-300",outline:"bg-white border-2 border-gray-300 text-gray-700 hover:bg-gray-50 focus:ring-gray-300"},b={sm:"px-3 py-2 text-sm min-h-[36px]",md:"px-4 py-2.5 text-base min-h-[44px]",lg:"px-6 py-3 text-lg min-h-[52px]"};return t.jsxs("button",{className:`${p} ${g[l]} ${b[i]} ${c?"w-full":""} ${m}`,disabled:f,...h,children:[d&&t.jsx("span",{className:"mr-2",children:d}),r]})}const ms={getAll:async()=>(await Re.get("/students")).data,getProgressAll:async()=>(await Re.get("/students/progress")).data,getById:async l=>(await Re.get(`/students/${l}`)).data,getProgressById:async l=>(await Re.get(`/students/${l}/progress`)).data,create:async l=>(await Re.post("/students",l)).data,update:async(l,i)=>(await Re.put(`/students/${l}`,i)).data},Ut={getAll:async()=>(await Re.get("/trainings")).data,getById:async l=>(await Re.get(`/trainings/${l}`)).data,create:async l=>(await Re.post("/trainings",l)).data,update:async(l,i)=>(await Re.put(`/trainings/${l}`,i)).data,createLevel:async(l,i)=>(await Re.post(`/trainings/${l}/levels`,i)).data,generateStructure:async l=>(await Re.post(`/trainings/${l}/generate-structure`)).data,requestAiPlan:async(l,i)=>(await Re.post(`/trainings/${l}/ai-plan`,i)).data,applyAiPlan:async(l,i)=>(await Re.post(`/trainings/${l}/apply-ai-plan`,{approvedPlan:i})).data},Sa={getMe:async()=>(await Re.get("/users/me")).data,getByRole:async l=>(await Re.get("/users",{params:{role:l}})).data,getAll:async()=>(await Re.get("/users")).data,createUser:async l=>(await Re.post("/users",{...l,generatePassword:!0,sendEmail:!0})).data,updateUser:async(l,i)=>(await Re.put(`/users/${l}`,i)).data,deleteUser:async l=>(await Re.delete(`/users/${l}`)).data,createTrainer:async l=>{const i=l?.role||"FORMATEUR";return(await Re.post("/users",{...l,role:i,generatePassword:!0,sendEmail:!0})).data}};function nN(){const[l,i]=y.useState("week"),[r,c]=y.useState(new Date),[d,m]=y.useState([]),[f,h]=y.useState([]),[p,g]=y.useState(!1),[b,v]=y.useState({firstName:"",lastName:"",email:"",role:"FORMATEUR"}),[T,L]=y.useState({}),[E,R]=y.useState(!1),[D,X]=y.useState(!1),[Q,P]=y.useState(""),[le,oe]=y.useState(null),[ae,Y]=y.useState(""),ie=na.getUserProfile(),de=ie?.role||"",ue=ie?.email||"Utilisateur",A=`${ie?.firstName||""} ${ie?.lastName||""}`.trim()||ue.split("@")[0].charAt(0).toUpperCase()+ue.split("@")[0].slice(1);y.useEffect(()=>{const _=setInterval(()=>c(new Date),6e4);return()=>clearInterval(_)},[]),y.useEffect(()=>{(async()=>{try{const[fe,_e]=await Promise.all([ms.getAll(),Ut.getAll()]);m(fe),h(_e)}catch(fe){console.error("Failed to load dashboard data",fe)}})()},[]);const k=()=>{const _=r.getHours();return _<12?"Bonjour":_<18?"Bon aprÃ¨s-midi":"Bonsoir"},ee=_=>{const fe=_.training?.id??_.trainingId??null,_e=_.totalSessions??24,nt=_.completedSessions??0,At=_.attendanceRate??(_e>0?Math.round(nt/_e*100):0),Ge=_.eligibleForCertification??(nt>=_e&&At>=80);return{..._,trainingId:fe,totalSessions:_e,completedSessions:nt,attendanceRate:At,eligibleForCertification:Ge}},ce=d.map(ee),V=ce.length,S=f.filter(_=>_.status==="active").length,w=ce.filter(_=>_.eligibleForCertification).length,O=f.filter(_=>_.status==="completed").length,re=ce.filter(_=>_.attendanceRate<85),B=[{student:"Michael Chen",action:"A complÃ©tÃ© le Niveau 4",time:"Il y a 2 heures",type:"success"},{student:"Emma Johnson",action:"MarquÃ© prÃ©sent - Session 12",time:"Il y a 3 heures",type:"info"},{student:"Olivia Brown",action:"Session 5 manquÃ©e",time:"Il y a 5 heures",type:"warning"},{student:"Sarah Williams",action:"A complÃ©tÃ© le Niveau 3",time:"Hier",type:"success"}],N=[{label:"Nouvel eleve",icon:"ri-user-add-line",path:"/students",color:"bg-teal-600",roles:["ADMIN","FORMATEUR","RESPONSABLE"]},{label:"Prendre presences",icon:"ri-checkbox-line",path:"/attendance",color:"bg-amber-600",roles:["ADMIN","FORMATEUR","RESPONSABLE"]},{label:"Voir formations",icon:"ri-book-open-line",path:"/trainings",color:"bg-indigo-600",roles:["ADMIN","RESPONSABLE"]},{label:"Certifications",icon:"ri-award-line",path:"/certification",color:"bg-green-600",roles:["ADMIN","RESPONSABLE"]},{label:"Utilisateurs",icon:"ri-team-line",path:"/users",color:"bg-slate-600",roles:["ADMIN"]},{label:"Ajouter compte",icon:"ri-user-add-line",action:"add-trainer",color:"bg-rose-600",roles:["ADMIN"]}],U=de?N.filter(_=>!_.roles||_.roles.includes(de)):N,ne=[{training:"Robotique",level:2,session:4,time:"14:00",students:12},{training:"Programmation",level:3,session:2,time:"16:00",students:8},{training:"Ã‰lectronique",level:1,session:6,time:"18:00",students:15}],se=()=>{v({firstName:"",lastName:"",email:"",role:"FORMATEUR"}),L({}),X(!1),P(""),oe(null),Y("")},be=()=>{se(),g(!0)},Ne=()=>{g(!1),se()},Se=()=>{const _={};return b.firstName.trim()||(_.firstName="Le prÃ©nom est requis"),b.lastName.trim()||(_.lastName="Le nom est requis"),b.email.trim()||(_.email="L'email est requis"),L(_),Object.keys(_).length===0},Je=async _=>{if(_.preventDefault(),!!Se()){R(!0);try{const fe=await Sa.createTrainer(b);oe(!!fe?.emailSent),Y(fe?.emailError||""),!fe?.emailSent&&fe?.temporaryPassword&&P(fe.temporaryPassword),X(!0),setTimeout(()=>{Ne()},1500)}catch(fe){console.error("Failed to create user account",fe),L({form:"Impossible d'ajouter le compte. VÃ©rifiez les informations."})}finally{R(!1)}}};return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Nt,{}),t.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"mb-8 bg-gradient-to-r from-teal-600 to-teal-700 rounded-2xl p-6 sm:p-8 text-white relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -translate-y-1/2 translate-x-1/2"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full translate-y-1/2 -translate-x-1/2"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold mb-2",children:[k(),", ",A," ðŸ‘‹"]}),t.jsx("p",{className:"text-teal-100",children:r.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]}),t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl px-4 py-2",children:[t.jsx("p",{className:"text-xs text-teal-100",children:"Sessions aujourd'hui"}),t.jsx("p",{className:"text-2xl font-bold",children:"3"})]})})]}),t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:U.map((_,fe)=>_.path?t.jsxs(st,{to:_.path,className:"flex items-center gap-3 bg-white/10 hover:bg-white/20 backdrop-blur-sm rounded-xl p-4 transition-all duration-200 cursor-pointer group",children:[t.jsx("div",{className:`w-10 h-10 flex items-center justify-center ${_.color} rounded-lg group-hover:scale-110 transition-transform duration-200`,children:t.jsx("i",{className:`${_.icon} text-xl text-white`,"aria-hidden":"true"})}),t.jsx("span",{className:"font-medium text-sm",children:_.label})]},fe):t.jsxs("button",{onClick:be,className:"flex items-center gap-3 bg-white/10 hover:bg-white/20 backdrop-blur-sm rounded-xl p-4 transition-all duration-200 cursor-pointer group text-left",children:[t.jsx("div",{className:`w-10 h-10 flex items-center justify-center ${_.color} rounded-lg group-hover:scale-110 transition-transform duration-200`,children:t.jsx("i",{className:`${_.icon} text-xl text-white`,"aria-hidden":"true"})}),t.jsx("span",{className:"font-medium text-sm",children:_.label})]},fe))})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[t.jsx(Or,{title:"Total Ã‰lÃ¨ves",value:V,icon:"ri-user-line",iconColor:"bg-teal-600",trend:{value:"+12%",isPositive:!0},description:"Apprenants actifs"}),t.jsx(Or,{title:"Formations Actives",value:S,icon:"ri-book-open-line",iconColor:"bg-amber-600",description:"En cours"}),t.jsx(Or,{title:"Formations TerminÃ©es",value:O,icon:"ri-checkbox-circle-line",iconColor:"bg-green-600",trend:{value:"+3",isPositive:!0},description:"Ce mois"}),t.jsx(Or,{title:"Ã‰ligibles Certification",value:w,icon:"ri-award-line",iconColor:"bg-indigo-600",description:"PrÃªts Ã  certifier"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[t.jsxs(xe,{className:"lg:col-span-2",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"AperÃ§u des PrÃ©sences"}),t.jsx("div",{className:"flex gap-2",role:"tablist","aria-label":"SÃ©lection de pÃ©riode",children:["week","month","year"].map(_=>t.jsx("button",{onClick:()=>i(_),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-teal-500 cursor-pointer whitespace-nowrap ${l===_?"bg-teal-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,role:"tab","aria-selected":l===_,children:_==="week"?"Semaine":_==="month"?"Mois":"AnnÃ©e"},_))})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-green-600 rounded-lg",children:t.jsx("i",{className:"ri-checkbox-circle-line text-xl text-white","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"PrÃ©sents"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"156"})]})]}),t.jsx("div",{className:"text-right",children:t.jsx("p",{className:"text-sm text-gray-600",children:"85% du total"})})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-amber-50 rounded-lg border border-amber-200",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-amber-600 rounded-lg",children:t.jsx("i",{className:"ri-time-line text-xl text-white","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En retard"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"18"})]})]}),t.jsx("div",{className:"text-right",children:t.jsx("p",{className:"text-sm text-gray-600",children:"10% du total"})})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 rounded-lg border border-red-200",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-red-600 rounded-lg",children:t.jsx("i",{className:"ri-close-circle-line text-xl text-white","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Absents"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"9"})]})]}),t.jsx("div",{className:"text-right",children:t.jsx("p",{className:"text-sm text-gray-600",children:"5% du total"})})]})]})]}),t.jsxs(xe,{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Sessions du jour"}),t.jsx(st,{to:"/trainings",className:"text-sm text-teal-600 hover:text-teal-700 font-medium cursor-pointer",children:"Voir tout"})]}),t.jsx("div",{className:"space-y-3",children:ne.map((_,fe)=>t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:_.training}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Niveau ",_.level," - Session ",_.session]})]}),t.jsx(Ce,{variant:"info",size:"sm",children:_.time})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[t.jsx("i",{className:"ri-user-line","aria-hidden":"true"}),t.jsxs("span",{children:[_.students," Ã©lÃ¨ves"]})]})]},fe))})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(xe,{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Ã‰lÃ¨ves Ã  risque"}),t.jsx(Ce,{variant:"danger",size:"sm",children:re.length})]}),t.jsxs("div",{className:"space-y-4",children:[re.length>0?re.slice(0,3).map(_=>t.jsxs(st,{to:`/students/${_.id}`,className:"block p-4 bg-red-50 rounded-lg border border-red-200 hover:bg-red-100 transition-colors duration-200 cursor-pointer",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("p",{className:"font-medium text-gray-900",children:[_.firstName," ",_.lastName]}),t.jsxs(Ce,{variant:"danger",size:"sm",children:[_.attendanceRate,"%"]})]}),t.jsx("p",{className:"text-sm text-gray-600",children:"Absences frÃ©quentes dÃ©tectÃ©es"}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Niveau ",_.currentLevel," - ",_.completedSessions,"/",_.totalSessions," sessions"]})]},_.id)):t.jsxs("div",{className:"text-center py-8",children:[t.jsx("i",{className:"ri-checkbox-circle-line text-4xl text-green-600 mb-2","aria-hidden":"true"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Tous les Ã©lÃ¨ves sont sur la bonne voie"})]}),re.length>3&&t.jsxs(st,{to:"/students",className:"block text-center text-sm text-teal-600 hover:text-teal-700 font-medium py-2 cursor-pointer",children:["Voir ",re.length-3," autres Ã©lÃ¨ves"]})]})]}),t.jsxs(xe,{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"ActivitÃ© rÃ©cente"}),t.jsx("div",{className:"space-y-3",children:B.map((_,fe)=>t.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[t.jsx("div",{className:`w-10 h-10 flex items-center justify-center rounded-lg ${_.type==="success"?"bg-green-600":_.type==="warning"?"bg-amber-600":"bg-teal-600"}`,children:t.jsx("i",{className:`${_.type==="success"?"ri-checkbox-circle-line":_.type==="warning"?"ri-alert-line":"ri-information-line"} text-xl text-white`,"aria-hidden":"true"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-medium text-gray-900 truncate",children:_.student}),t.jsx("p",{className:"text-sm text-gray-600 truncate",children:_.action})]}),t.jsx("p",{className:"text-sm text-gray-500 whitespace-nowrap",children:_.time})]},fe))})]})]})]}),p&&t.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",role:"dialog","aria-modal":"true","aria-labelledby":"trainer-modal-title",children:[t.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:Ne,"aria-hidden":"true"}),t.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:t.jsxs("div",{className:"relative w-full max-w-lg bg-white rounded-xl shadow-xl transform transition-all",children:[t.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[t.jsx("h2",{id:"trainer-modal-title",className:"text-xl font-semibold text-gray-900",children:"Ajouter un compte"}),t.jsx("button",{onClick:Ne,className:"w-10 h-10 flex items-center justify-center rounded-lg text-gray-500 hover:text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-teal-500 transition-colors cursor-pointer","aria-label":"Close dialog",children:t.jsx("i",{className:"ri-close-line text-2xl","aria-hidden":"true"})})]}),t.jsxs("form",{onSubmit:Je,noValidate:!0,children:[t.jsxs("div",{className:"px-6 py-5 space-y-5",children:[T.form&&t.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700",children:T.form}),D?t.jsxs("div",{className:"flex flex-col items-center justify-center py-8",role:"status","aria-live":"polite",children:[t.jsx("div",{className:"w-16 h-16 flex items-center justify-center bg-green-100 rounded-full mb-4",children:t.jsx("i",{className:"ri-check-line text-3xl text-green-600","aria-hidden":"true"})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Compte ajoute"}),t.jsx("p",{className:"text-sm text-gray-600",children:le?"Email envoye au nouvel utilisateur.":`Email non envoye (${ae||"verifiez SMTP"}).`}),Q&&!le&&t.jsxs("div",{className:"mt-4 w-full bg-amber-50 border border-amber-200 rounded-lg p-3 text-sm text-amber-800",children:[t.jsx("div",{className:"font-medium mb-1",children:"Mot de passe temporaire"}),t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsx("span",{className:"font-mono text-sm break-all",children:Q}),t.jsx(he,{type:"button",size:"sm",variant:"outline",onClick:()=>navigator.clipboard.writeText(Q),children:"Copier"})]})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"trainer-firstName",className:"block text-sm font-medium text-gray-700 mb-1.5",children:["PrÃ©nom ",t.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),t.jsx("input",{type:"text",id:"trainer-firstName",name:"firstName",value:b.firstName,onChange:_=>v(fe=>({...fe,firstName:_.target.value})),className:`w-full px-4 py-2.5 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-colors ${T.firstName?"border-red-500 bg-red-50":"border-gray-300"}`}),T.firstName&&t.jsx("p",{className:"mt-1.5 text-sm text-red-600",children:T.firstName})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"trainer-lastName",className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Nom ",t.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),t.jsx("input",{type:"text",id:"trainer-lastName",name:"lastName",value:b.lastName,onChange:_=>v(fe=>({...fe,lastName:_.target.value})),className:`w-full px-4 py-2.5 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-colors ${T.lastName?"border-red-500 bg-red-50":"border-gray-300"}`}),T.lastName&&t.jsx("p",{className:"mt-1.5 text-sm text-red-600",children:T.lastName})]})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"trainer-email",className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Email ",t.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),t.jsx("input",{type:"email",id:"trainer-email",name:"email",value:b.email,onChange:_=>v(fe=>({...fe,email:_.target.value})),className:`w-full px-4 py-2.5 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-colors ${T.email?"border-red-500 bg-red-50":"border-gray-300"}`}),T.email&&t.jsx("p",{className:"mt-1.5 text-sm text-red-600",children:T.email})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"trainer-role",className:"block text-sm font-medium text-gray-700 mb-1.5",children:["RÃ´le ",t.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),t.jsxs("select",{id:"trainer-role",name:"role",value:b.role,onChange:_=>v(fe=>({...fe,role:_.target.value})),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-colors bg-white cursor-pointer",children:[t.jsx("option",{value:"FORMATEUR",children:"Formateur"}),t.jsx("option",{value:"RESPONSABLE",children:"Responsable formation"})]})]}),t.jsx("div",{className:"text-xs text-gray-500",children:"Un mot de passe sera genere automatiquement et envoye par email."})]})]}),!D&&t.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[t.jsx(he,{type:"button",variant:"outline",onClick:Ne,children:"Annuler"}),t.jsx(he,{type:"submit",variant:"primary",disabled:E,icon:E?t.jsx("i",{className:"ri-loader-4-line animate-spin text-xl","aria-hidden":"true"}):t.jsx("i",{className:"ri-user-add-line text-xl","aria-hidden":"true"}),children:E?"Ajout en cours...":"Ajouter"})]})]})]})})]})]})}function lN(){const l=Aa(),[i,r]=y.useState({email:"",password:"",rememberMe:!1}),[c,d]=y.useState(!1),[m,f]=y.useState(""),[h,p]=y.useState(!1),g=async b=>{b.preventDefault(),f(""),d(!0);try{i.email&&i.password?(await na.login(i.email,i.password),l("/dashboard")):f("Veuillez remplir tous les champs")}catch(v){f("Email ou mot de passe incorrect"),console.error(v)}finally{d(!1)}};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 via-white to-amber-50 flex",children:[t.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url(https://readdy.ai/api/search-image?query=Modern%20educational%20technology%20classroom%20with%20students%20learning%20robotics%20and%20programming%20bright%20clean%20environment%20with%20computers%20and%20electronic%20components%20warm%20lighting%20professional%20atmosphere%20minimalist%20design&width=800&height=1000&seq=login-bg-1&orientation=portrait)"}}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-teal-900/80 via-teal-800/70 to-teal-900/80"}),t.jsxs("div",{className:"relative z-10 flex flex-col justify-between p-12 text-white",children:[t.jsx("div",{children:t.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[t.jsx("img",{src:"https://static.readdy.ai/image/bf4e711212c75bfc790e10d1f48c04b1/405300009b422c3bf3fc7c3883a1975c.png",alt:"ASTBA Logo",className:"h-16 w-auto bg-white rounded-xl p-2"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"ASTBA"}),t.jsx("p",{className:"text-teal-200 text-sm",children:"Sciences & Technology Ben Arous"})]})]})}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-4xl font-bold mb-4 leading-tight",children:["Plateforme de Gestion",t.jsx("br",{}),"des Formations"]}),t.jsx("p",{className:"text-teal-100 text-lg leading-relaxed",children:"GÃ©rez efficacement vos Ã©lÃ¨ves, suivez les prÃ©sences et dÃ©livrez des certifications en toute simplicitÃ©."})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-teal-500 rounded-lg mb-3",children:t.jsx("i",{className:"ri-user-line text-xl text-white","aria-hidden":"true"})}),t.jsx("p",{className:"text-2xl font-bold",children:"150+"}),t.jsx("p",{className:"text-teal-200 text-sm",children:"Ã‰lÃ¨ves accompagnÃ©s"})]}),t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-amber-500 rounded-lg mb-3",children:t.jsx("i",{className:"ri-book-line text-xl text-white","aria-hidden":"true"})}),t.jsx("p",{className:"text-2xl font-bold",children:"4"}),t.jsx("p",{className:"text-teal-200 text-sm",children:"Formations actives"})]}),t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-green-500 rounded-lg mb-3",children:t.jsx("i",{className:"ri-award-line text-xl text-white","aria-hidden":"true"})}),t.jsx("p",{className:"text-2xl font-bold",children:"85%"}),t.jsx("p",{className:"text-teal-200 text-sm",children:"Taux de certification"})]}),t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-rose-500 rounded-lg mb-3",children:t.jsx("i",{className:"ri-calendar-line text-xl text-white","aria-hidden":"true"})}),t.jsx("p",{className:"text-2xl font-bold",children:"2018"}),t.jsx("p",{className:"text-teal-200 text-sm",children:"Depuis"})]})]})]}),t.jsx("p",{className:"text-teal-300 text-sm",children:"Â© 2024 Association Sciences and Technology Ben Arous"})]})]}),t.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8",children:t.jsxs("div",{className:"w-full max-w-md",children:[t.jsxs("div",{className:"lg:hidden flex items-center justify-center gap-3 mb-8",children:[t.jsx("img",{src:"https://static.readdy.ai/image/bf4e711212c75bfc790e10d1f48c04b1/405300009b422c3bf3fc7c3883a1975c.png",alt:"ASTBA Logo",className:"h-14 w-auto"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"ASTBA"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Training & Attendance"})]})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Bienvenue"}),t.jsx("p",{className:"text-gray-600",children:"Connectez-vous Ã  votre compte"})]}),m&&t.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3",children:[t.jsx("i",{className:"ri-error-warning-line text-xl text-red-600","aria-hidden":"true"}),t.jsx("p",{className:"text-sm text-red-700",children:m})]}),t.jsxs("form",{onSubmit:g,className:"space-y-5",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse email"}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:t.jsx("i",{className:"ri-mail-line text-gray-400","aria-hidden":"true"})}),t.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:b=>r({...i,email:b.target.value}),className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-all duration-200",placeholder:"votre@email.com",required:!0})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Mot de passe"}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:t.jsx("i",{className:"ri-lock-line text-gray-400","aria-hidden":"true"})}),t.jsx("input",{type:h?"text":"password",id:"password",name:"password",value:i.password,onChange:b=>r({...i,password:b.target.value}),className:"w-full pl-11 pr-12 py-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-all duration-200",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",required:!0}),t.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute inset-y-0 right-0 pr-4 flex items-center cursor-pointer","aria-label":h?"Masquer le mot de passe":"Afficher le mot de passe",children:t.jsx("i",{className:`${h?"ri-eye-off-line":"ri-eye-line"} text-gray-400 hover:text-gray-600`,"aria-hidden":"true"})})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:i.rememberMe,onChange:b=>r({...i,rememberMe:b.target.checked}),className:"w-4 h-4 text-teal-600 border-gray-300 rounded focus:ring-teal-500 cursor-pointer"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Se souvenir de moi"})]}),t.jsx("button",{type:"button",className:"text-sm text-teal-600 hover:text-teal-700 font-medium cursor-pointer",children:"Mot de passe oubliÃ© ?"})]}),t.jsx(he,{type:"submit",fullWidth:!0,disabled:c,icon:c?t.jsx("i",{className:"ri-loader-4-line animate-spin","aria-hidden":"true"}):t.jsx("i",{className:"ri-login-box-line","aria-hidden":"true"}),children:c?"Connexion en cours...":"Se connecter"})]}),t.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[t.jsx("p",{className:"text-center text-sm text-gray-600 mb-4",children:"AccÃ¨s rapide pour la dÃ©monstration"}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("button",{type:"button",onClick:()=>{r({email:"formateur@astba.tn",password:"demo123",rememberMe:!1})},className:"flex items-center justify-center gap-2 px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg text-sm font-medium text-gray-700 transition-colors duration-200 cursor-pointer whitespace-nowrap",children:[t.jsx("i",{className:"ri-user-star-line text-teal-600","aria-hidden":"true"}),"Formateur"]}),t.jsxs("button",{type:"button",onClick:()=>{r({email:"admin@astba.tn",password:"demo123",rememberMe:!1})},className:"flex items-center justify-center gap-2 px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg text-sm font-medium text-gray-700 transition-colors duration-200 cursor-pointer whitespace-nowrap",children:[t.jsx("i",{className:"ri-admin-line text-amber-600","aria-hidden":"true"}),"Admin"]})]})]})]}),t.jsxs("p",{className:"text-center text-sm text-gray-500 mt-6",children:["Besoin d'aide ? ",t.jsx("a",{href:"mailto:contact@astba.tn",className:"text-teal-600 hover:text-teal-700 font-medium cursor-pointer",children:"Contactez-nous"})]})]})})]})}function iN(){const[l,i]=y.useState(""),[r,c]=y.useState("all"),[d,m]=y.useState(!1),[f,h]=y.useState({firstName:"",lastName:"",email:"",phone:"",trainingId:""}),[p,g]=y.useState({}),[b,v]=y.useState(!1),[T,L]=y.useState(!1),[E,R]=y.useState([]),[D,X]=y.useState([]);y.useEffect(()=>{Q(),P()},[]);const Q=async()=>{try{const S=(await ms.getProgressAll()).map(w=>({id:w.studentId??w.id,firstName:w.firstName,lastName:w.lastName,email:w.email,phone:w.phone,enrollmentDate:w.enrollmentDate,status:w.status??"active",currentLevel:w.currentLevel??1,trainingId:w.trainingId??null,trainingName:w.trainingName??"",totalSessions:w.totalSessions??0,completedSessions:w.completedSessions??0,attendanceRate:w.attendanceRate??0,eligibleForCertification:w.eligibleForCertification??!1}));R(S)}catch(V){console.error("Failed to fetch students",V)}},P=async()=>{try{const V=await Ut.getAll();X(V)}catch(V){console.error("Failed to fetch trainings",V)}},le=V=>{const S=V.completedSessions??0,w=V.totalSessions??0,O=V.attendanceRate??0;return{total:S,rate:O,completedSessions:S,totalSessions:w}},oe=y.useRef(null),ae=y.useRef(null),Y=y.useRef(null),ie=E.filter(V=>{const S=`${V.firstName} ${V.lastName} ${V.email}`.toLowerCase().includes(l.toLowerCase()),w=r==="all"||V.status===r;return S&&w}),de=V=>D.find(S=>S.id===V)?.name||"Unknown";y.useEffect(()=>(d?(ae.current?.focus(),document.body.style.overflow="hidden"):document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[d]),y.useEffect(()=>{const V=S=>{S.key==="Escape"&&d&&A()};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[d]),y.useEffect(()=>{if(!d)return;const V=oe.current;if(!V)return;const S=V.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),w=S[0],O=S[S.length-1],re=B=>{B.key==="Tab"&&(B.shiftKey?document.activeElement===w&&(B.preventDefault(),O.focus()):document.activeElement===O&&(B.preventDefault(),w.focus()))};return V.addEventListener("keydown",re),()=>V.removeEventListener("keydown",re)},[d]);const ue=()=>{m(!0),g({}),L(!1)},A=()=>{m(!1),h({firstName:"",lastName:"",email:"",phone:"",trainingId:""}),g({}),L(!1)},k=()=>{const V={};return f.firstName.trim()||(V.firstName="First name is required"),f.lastName.trim()||(V.lastName="Last name is required"),f.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f.email)||(V.email="Please enter a valid email address"):V.email="Email is required",f.phone.trim()||(V.phone="Phone number is required"),f.trainingId||(V.trainingId="Please select a training program"),g(V),Object.keys(V).length===0},ee=async V=>{if(V.preventDefault(),!!k()){v(!0);try{const S={...f,training:f.trainingId?{id:Number(f.trainingId)}:null};await ms.create(S),Q(),L(!0),setTimeout(()=>{A()},2e3)}catch(S){console.error("Failed to create student",S)}finally{v(!1)}}},ce=V=>{const{name:S,value:w}=V.target;h(O=>({...O,[S]:w})),p[S]&&g(O=>({...O,[S]:""}))};return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Nt,{}),t.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Student Management"}),t.jsx("p",{className:"text-base text-gray-600",children:"Manage student records and track progress"})]}),t.jsx(he,{variant:"primary",icon:t.jsx("i",{className:"ri-add-line text-xl","aria-hidden":"true"}),onClick:ue,"aria-haspopup":"dialog",children:"Add Student"})]}),t.jsx(xe,{className:"mb-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{htmlFor:"search-students",className:"sr-only",children:"Search students"}),t.jsxs("div",{className:"relative",children:[t.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-lg","aria-hidden":"true"}),t.jsx("input",{id:"search-students",type:"text",placeholder:"Search by name or email...",value:l,onChange:V=>i(V.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent","aria-label":"Search students by name or email"})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>c("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-teal-500 cursor-pointer whitespace-nowrap ${r==="all"?"bg-teal-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All"}),t.jsx("button",{onClick:()=>c("active"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-teal-500 cursor-pointer whitespace-nowrap ${r==="active"?"bg-teal-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Active"})]})]})}),t.jsx("div",{className:"hidden lg:block",children:t.jsx(xe,{padding:"none",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",role:"table","aria-label":"Students list",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[t.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Student"}),t.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Contact"}),t.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Training"}),t.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Progress"}),t.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Attendance"}),t.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Status"}),t.jsx("th",{scope:"col",className:"px-6 py-4 text-right text-sm font-semibold text-gray-900",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:ie.map(V=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"w-10 h-10 flex items-center justify-center bg-teal-100 text-teal-700 rounded-full font-semibold",children:[V.firstName?.[0]||"?",V.lastName?.[0]||""]}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-gray-900",children:[V.firstName," ",V.lastName]}),t.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",V.id]})]})]})}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("p",{className:"text-sm text-gray-900",children:V.email}),t.jsx("p",{className:"text-sm text-gray-500",children:V.phone})]}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("p",{className:"text-sm text-gray-900",children:V.trainingName||de(V.trainingId)}),t.jsxs("p",{className:"text-sm text-gray-500",children:["Level ",V.currentLevel]})]}),t.jsx("td",{className:"px-6 py-4",children:(()=>{const S=le(V),w=S.totalSessions>0?Math.round(S.completedSessions/S.totalSessions*100):0;return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-1",children:t.jsx("div",{className:"bg-teal-600 h-2 rounded-full transition-all duration-300",style:{width:`${w}%`},role:"progressbar","aria-valuenow":w,"aria-valuemin":0,"aria-valuemax":100,"aria-label":`Progress: ${S.completedSessions} of ${S.totalSessions} sessions completed`})}),t.jsxs("p",{className:"text-xs text-gray-600",children:[S.completedSessions,"/",S.totalSessions," sessions"]})]})})()}),t.jsx("td",{className:"px-6 py-4",children:(()=>{const S=le(V);return t.jsxs(Ce,{variant:S.rate>=90?"success":S.rate>=75?"warning":"danger",children:[S.rate,"%"]})})()}),t.jsx("td",{className:"px-6 py-4",children:(()=>{const S=le(V);return S.completedSessions>=S.totalSessions&&S.rate>=80?t.jsxs(Ce,{variant:"success",children:[t.jsx("i",{className:"ri-award-line mr-1","aria-hidden":"true"}),"Eligible"]}):t.jsx(Ce,{variant:"info",children:"In Progress"})})()}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs(st,{to:`/students/${V.id}`,className:"inline-flex items-center gap-1 text-teal-600 hover:text-teal-700 font-medium text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 rounded cursor-pointer whitespace-nowrap",children:["View Details",t.jsx("i",{className:"ri-arrow-right-line","aria-hidden":"true"})]})})]},V.id))})]})})})}),t.jsx("div",{className:"lg:hidden space-y-4",children:ie.map(V=>t.jsxs(xe,{hover:!0,children:[t.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[t.jsxs("div",{className:"w-12 h-12 flex items-center justify-center bg-teal-100 text-teal-700 rounded-full font-semibold text-lg",children:[V.firstName?.[0]||"?",V.lastName?.[0]||""]}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("h3",{className:"font-semibold text-gray-900 mb-1",children:[V.firstName," ",V.lastName]}),t.jsx("p",{className:"text-sm text-gray-600",children:V.email}),t.jsx("p",{className:"text-sm text-gray-500",children:V.phone})]}),(()=>{const S=le(V);return S.completedSessions>=S.totalSessions&&S.rate>=80?t.jsx(Ce,{variant:"success",size:"sm",children:t.jsx("i",{className:"ri-award-line","aria-hidden":"true"})}):null})()]}),t.jsxs("div",{className:"space-y-3 mb-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Training"}),t.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[V.trainingName||de(V.trainingId)," - Level ",V.currentLevel]})]}),t.jsx("div",{children:(()=>{const S=le(V),w=S.totalSessions>0?Math.round(S.completedSessions/S.totalSessions*100):0;return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Progress"}),t.jsxs("p",{className:"text-xs text-gray-600",children:[S.completedSessions,"/",S.totalSessions]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-teal-600 h-2 rounded-full transition-all duration-300",style:{width:`${w}%`},role:"progressbar","aria-valuenow":w,"aria-valuemin":0,"aria-valuemax":100,"aria-label":`Progress: ${S.completedSessions} of ${S.totalSessions} sessions completed`})})]})})()}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Attendance Rate"}),(()=>{const S=le(V);return t.jsxs(Ce,{variant:S.rate>=90?"success":S.rate>=75?"warning":"danger",size:"sm",children:[S.rate,"%"]})})()]})]}),t.jsx(st,{to:`/students/${V.id}`,children:t.jsxs(he,{variant:"outline",fullWidth:!0,size:"sm",children:["View Details",t.jsx("i",{className:"ri-arrow-right-line ml-2","aria-hidden":"true"})]})})]},V.id))}),ie.length===0&&t.jsx(xe,{children:t.jsxs("div",{className:"text-center py-12",children:[t.jsx("i",{className:"ri-user-search-line text-6xl text-gray-300 mb-4","aria-hidden":"true"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No students found"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Try adjusting your search or filter criteria"})]})})]}),d&&t.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[t.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:A,"aria-hidden":"true"}),t.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:t.jsxs("div",{ref:oe,className:"relative w-full max-w-lg bg-white rounded-xl shadow-xl transform transition-all",children:[t.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[t.jsx("h2",{id:"modal-title",className:"text-xl font-semibold text-gray-900",children:"Add New Student"}),t.jsx("button",{ref:Y,onClick:A,className:"w-10 h-10 flex items-center justify-center rounded-lg text-gray-500 hover:text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-teal-500 transition-colors cursor-pointer","aria-label":"Close dialog",children:t.jsx("i",{className:"ri-close-line text-2xl","aria-hidden":"true"})})]}),t.jsxs("form",{onSubmit:ee,noValidate:!0,children:[t.jsx("div",{className:"px-6 py-5 space-y-5",children:T?t.jsxs("div",{className:"flex flex-col items-center justify-center py-8",role:"status","aria-live":"polite",children:[t.jsx("div",{className:"w-16 h-16 flex items-center justify-center bg-green-100 rounded-full mb-4",children:t.jsx("i",{className:"ri-check-line text-3xl text-green-600","aria-hidden":"true"})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Student Added Successfully!"}),t.jsx("p",{className:"text-sm text-gray-600",children:"The new student has been enrolled."})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1.5",children:["First Name ",t.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),t.jsx("input",{ref:ae,type:"text",id:"firstName",name:"firstName",value:f.firstName,onChange:ce,className:`w-full px-4 py-2.5 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-colors ${p.firstName?"border-red-500 bg-red-50":"border-gray-300"}`,"aria-required":"true","aria-invalid":!!p.firstName,"aria-describedby":p.firstName?"firstName-error":void 0,placeholder:"Enter first name"}),p.firstName&&t.jsxs("p",{id:"firstName-error",className:"mt-1.5 text-sm text-red-600 flex items-center gap-1",role:"alert",children:[t.jsx("i",{className:"ri-error-warning-line","aria-hidden":"true"}),p.firstName]})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Last Name ",t.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),t.jsx("input",{type:"text",id:"lastName",name:"lastName",value:f.lastName,onChange:ce,className:`w-full px-4 py-2.5 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-colors ${p.lastName?"border-red-500 bg-red-50":"border-gray-300"}`,"aria-required":"true","aria-invalid":!!p.lastName,"aria-describedby":p.lastName?"lastName-error":void 0,placeholder:"Enter last name"}),p.lastName&&t.jsxs("p",{id:"lastName-error",className:"mt-1.5 text-sm text-red-600 flex items-center gap-1",role:"alert",children:[t.jsx("i",{className:"ri-error-warning-line","aria-hidden":"true"}),p.lastName]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Email Address ",t.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("i",{className:"ri-mail-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400","aria-hidden":"true"}),t.jsx("input",{type:"email",id:"email",name:"email",value:f.email,onChange:ce,className:`w-full pl-10 pr-4 py-2.5 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-colors ${p.email?"border-red-500 bg-red-50":"border-gray-300"}`,"aria-required":"true","aria-invalid":!!p.email,"aria-describedby":p.email?"email-error":void 0,placeholder:"student@example.com"})]}),p.email&&t.jsxs("p",{id:"email-error",className:"mt-1.5 text-sm text-red-600 flex items-center gap-1",role:"alert",children:[t.jsx("i",{className:"ri-error-warning-line","aria-hidden":"true"}),p.email]})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Phone Number ",t.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("i",{className:"ri-phone-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400","aria-hidden":"true"}),t.jsx("input",{type:"tel",id:"phone",name:"phone",value:f.phone,onChange:ce,className:`w-full pl-10 pr-4 py-2.5 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-colors ${p.phone?"border-red-500 bg-red-50":"border-gray-300"}`,"aria-required":"true","aria-invalid":!!p.phone,"aria-describedby":p.phone?"phone-error":void 0,placeholder:"+1 555-0100"})]}),p.phone&&t.jsxs("p",{id:"phone-error",className:"mt-1.5 text-sm text-red-600 flex items-center gap-1",role:"alert",children:[t.jsx("i",{className:"ri-error-warning-line","aria-hidden":"true"}),p.phone]})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"trainingId",className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Assign to Training ",t.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("i",{className:"ri-book-open-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400","aria-hidden":"true"}),t.jsxs("select",{id:"trainingId",name:"trainingId",value:f.trainingId,onChange:ce,className:`w-full pl-10 pr-10 py-2.5 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-colors appearance-none bg-white cursor-pointer ${p.trainingId?"border-red-500 bg-red-50":"border-gray-300"}`,"aria-required":"true","aria-invalid":!!p.trainingId,"aria-describedby":p.trainingId?"trainingId-error":void 0,children:[t.jsx("option",{value:"",children:"Select a training program"}),D.filter(V=>V.status==="active"||V.status==="upcoming").map(V=>t.jsxs("option",{value:V.id,children:[V.name," (",V.status==="upcoming"?"Upcoming":"Active",")"]},V.id))]}),t.jsx("i",{className:"ri-arrow-down-s-line absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none","aria-hidden":"true"})]}),p.trainingId&&t.jsxs("p",{id:"trainingId-error",className:"mt-1.5 text-sm text-red-600 flex items-center gap-1",role:"alert",children:[t.jsx("i",{className:"ri-error-warning-line","aria-hidden":"true"}),p.trainingId]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-teal-50 rounded-lg",children:[t.jsx("i",{className:"ri-information-line text-teal-600 text-xl flex-shrink-0 mt-0.5","aria-hidden":"true"}),t.jsx("p",{className:"text-sm text-teal-800",children:"The student will be enrolled at Level 1, Session 1 of the selected training program. You can adjust their progress later from their profile."})]})]})}),!T&&t.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[t.jsx(he,{type:"button",variant:"outline",onClick:A,children:"Cancel"}),t.jsx(he,{type:"submit",variant:"primary",disabled:b,icon:b?t.jsx("i",{className:"ri-loader-4-line animate-spin text-xl","aria-hidden":"true"}):t.jsx("i",{className:"ri-user-add-line text-xl","aria-hidden":"true"}),children:b?"Adding Student...":"Add Student"})]})]})]})})]})]})}const ii={getAll:async()=>(await Re.get("/attendance")).data,getByStudent:async l=>(await Re.get("/attendance",{params:{studentId:l}})).data,getBySession:async l=>(await Re.get("/attendance",{params:{sessionId:l}})).data,saveBulk:async l=>(await Re.post("/attendance/bulk",l)).data},tl={getAll:async()=>(await Re.get("/sessions")).data,getByTraining:async l=>(await Re.get("/sessions",{params:{trainingId:l}})).data,getByTrainingLevel:async(l,i)=>(await Re.get("/sessions",{params:{trainingId:l,levelNumber:i}})).data,create:async l=>(await Re.post("/sessions",l)).data,createForLevel:async(l,i)=>(await Re.post(`/levels/${l}/sessions`,i)).data,updateSchedule:async(l,i)=>(await Re.put(`/sessions/${l}`,i)).data},rN={getByStudent:async l=>(await Re.get(`/enrollments/student/${l}`)).data};function cN(){const{id:l}=Ud(),i=Aa(),[r,c]=y.useState("overview"),[d,m]=y.useState("all"),[f,h]=y.useState(null),[p,g]=y.useState(null),[b,v]=y.useState([]),[T,L]=y.useState([]),[E,R]=y.useState([]),[D,X]=y.useState(!0);y.useEffect(()=>{(async()=>{if(l){X(!0);try{const k=await ms.getProgressById(l),ee=k.trainingId??null,[ce,V,S,w]=await Promise.all([Ut.getAll(),ee?tl.getByTraining(ee):Promise.resolve([]),ii.getByStudent(Number(l)),rN.getByStudent(Number(l))]),O=ce??[],re=V??[],B=S??[],N=w??[];g(O.find(fe=>fe.id===ee)||null),L(re),R(N);const U=re.length>0?re.length:24,ne=k.totalSessions??U,se=k.completedSessions??B.length,be=B.filter(fe=>fe.status==="present"||fe.status==="late").length,Ne=k.attendanceRate??(se>0?Math.round(be/se*100):0),Se=k.eligibleForCertification??(se>=ne&&Ne>=80);h({id:k.studentId??k.id,firstName:k.firstName,lastName:k.lastName,email:k.email,phone:k.phone,enrollmentDate:k.enrollmentDate,status:k.status??"active",trainingId:ee,currentLevel:k.currentLevel??1,totalSessions:ne,completedSessions:se,attendanceRate:Ne,eligibleForCertification:Se,blockReason:k.blockReason});const Je=new Map(re.map(fe=>[fe.id,fe])),_=B.map(fe=>{const _e=Je.get(fe.sessionId);return{id:fe.id,studentId:fe.student?.id??Number(l),level:_e?.levelNumber??_e?.level??1,sessionNumber:_e?.sessionNumber??fe.sessionId,sessionTitle:_e?.title??`Session ${fe.sessionId}`,date:fe.date,status:fe.status}});v(_)}catch(k){console.error("Failed to load student details",k),h(null),g(null),v([]),L([]),R([])}finally{X(!1)}}})()},[l]);const Q=y.useMemo(()=>{const A=b.length,k=b.filter(S=>S.status==="present").length,ee=b.filter(S=>S.status==="absent").length,ce=b.filter(S=>S.status==="late").length,V=b.filter(S=>S.status==="excused").length;return{total:A,present:k,absent:ee,late:ce,excused:V}},[b]),P=y.useMemo(()=>d==="all"?b:b.filter(A=>A.level===d),[b,d]),le=y.useMemo(()=>{const A=Array.from(new Set(T.map(k=>Number(k.levelNumber)).filter(k=>Number.isFinite(k)))).sort((k,ee)=>k-ee);return A.length>0?A:[1,2,3,4]},[T]),oe=le.length>0?le.length:4,ae=T.length>0?Math.round(T.length/oe):6,Y=y.useMemo(()=>le.map(A=>{const k=b.filter(S=>S.level===A),ee=k.length,ce=k.filter(S=>S.status==="present"||S.status==="late").length,V=T.filter(S=>Number(S.levelNumber)===Number(A)).length||6;return{level:A,completed:ee,total:V,attended:ce,isComplete:ee===V,isCurrent:f?.currentLevel===A}}),[b,f,T,le]),ie=y.useMemo(()=>p?le.map(k=>{const ee=b.filter(N=>N.level===k),ce=ee.filter(N=>N.status==="present").length,V=ee.filter(N=>N.status==="late").length,S=ee.filter(N=>N.status==="absent").length,w=ee.filter(N=>N.status==="excused").length,O=T.filter(N=>Number(N.levelNumber)===Number(k)).length||6,re=ee.length,B=re>0?Math.round((ce+V)/re*100):0;return{level:k,trainingName:p.name,completed:re,total:O,present:ce,late:V,absent:S,excused:w,attendanceRate:B,isComplete:re===O,isCurrent:f?.currentLevel===k,startDate:ee.length>0?ee[0].date:null,endDate:re===O&&ee.length>0?ee[ee.length-1].date:null}}):[],[p,b,f,T,le]),de=A=>{const k={present:{variant:"success",icon:"ri-check-line",label:"Present"},absent:{variant:"danger",icon:"ri-close-line",label:"Absent"},late:{variant:"warning",icon:"ri-time-line",label:"Late"},excused:{variant:"info",icon:"ri-information-line",label:"Excused"}},{variant:ee,icon:ce,label:V}=k[A];return t.jsxs(Ce,{variant:ee,children:[t.jsx("i",{className:`${ce} mr-1`,"aria-hidden":"true"}),V]})},ue=A=>new Date(A).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"});return D?t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Nt,{}),t.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t.jsx(xe,{children:t.jsxs("div",{className:"text-center py-16",children:[t.jsx("i",{className:"ri-loader-4-line text-4xl text-gray-400 animate-spin mb-4","aria-hidden":"true"}),t.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Chargement..."}),t.jsx("p",{className:"text-sm text-gray-600",children:"RÃ©cupÃ©ration des donnÃ©es de l'Ã©lÃ¨ve"})]})})})]}):f?t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Nt,{}),t.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsx("nav",{className:"mb-6","aria-label":"Breadcrumb",children:t.jsxs("ol",{className:"flex items-center gap-2 text-sm",children:[t.jsx("li",{children:t.jsx(st,{to:"/students",className:"text-gray-500 hover:text-teal-600 focus:outline-none focus:ring-2 focus:ring-teal-500 rounded cursor-pointer",children:"Students"})}),t.jsx("li",{"aria-hidden":"true",children:t.jsx("i",{className:"ri-arrow-right-s-line text-gray-400"})}),t.jsx("li",{children:t.jsxs("span",{className:"text-gray-900 font-medium","aria-current":"page",children:[f.firstName," ",f.lastName]})})]})}),t.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 mb-8",children:[t.jsx(xe,{className:"lg:w-80 flex-shrink-0",children:t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"w-24 h-24 flex items-center justify-center bg-teal-100 text-teal-700 rounded-full mx-auto mb-4 text-3xl font-bold",children:[f.firstName?.[0]||"?",f.lastName?.[0]||""]}),t.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:[f.firstName," ",f.lastName]}),t.jsxs("p",{className:"text-gray-500 mb-4",children:["Student ID: ",f.id]}),t.jsx("div",{className:"flex justify-center gap-2 mb-6",children:f.eligibleForCertification?t.jsxs(Ce,{variant:"success",children:[t.jsx("i",{className:"ri-award-line mr-1","aria-hidden":"true"}),"Eligible for Certification"]}):t.jsxs(Ce,{variant:"info",children:[t.jsx("i",{className:"ri-loader-4-line mr-1","aria-hidden":"true"}),"In Progress"]})}),t.jsxs("div",{className:"space-y-3 text-left border-t border-gray-200 pt-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-gray-100 rounded-lg",children:t.jsx("i",{className:"ri-mail-line text-gray-600","aria-hidden":"true"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Email"}),t.jsx("p",{className:"text-sm text-gray-900 truncate",children:f.email})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-gray-100 rounded-lg",children:t.jsx("i",{className:"ri-phone-line text-gray-600","aria-hidden":"true"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Phone"}),t.jsx("p",{className:"text-sm text-gray-900",children:f.phone})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-gray-100 rounded-lg",children:t.jsx("i",{className:"ri-calendar-line text-gray-600","aria-hidden":"true"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Enrolled"}),t.jsx("p",{className:"text-sm text-gray-900",children:ue(f.enrollmentDate)})]})]})]})]})}),t.jsxs("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4",children:[t.jsx(xe,{className:"bg-gradient-to-br from-teal-50 to-white border-teal-100",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-14 h-14 flex items-center justify-center bg-teal-100 rounded-xl",children:t.jsx("i",{className:"ri-book-open-line text-2xl text-teal-600","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Current Level"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["Level ",f.currentLevel]})]})]})}),t.jsx(xe,{className:"bg-gradient-to-br from-green-50 to-white border-green-100",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-14 h-14 flex items-center justify-center bg-green-100 rounded-xl",children:t.jsx("i",{className:"ri-checkbox-circle-line text-2xl text-green-600","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Sessions Completed"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[f.completedSessions,"/",f.totalSessions]})]})]})}),t.jsx(xe,{className:"bg-gradient-to-br from-amber-50 to-white border-amber-100",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-14 h-14 flex items-center justify-center bg-amber-100 rounded-xl",children:t.jsx("i",{className:"ri-pie-chart-line text-2xl text-amber-600","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Attendance Rate"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[f.attendanceRate,"%"]})]})]})}),t.jsx(xe,{className:"bg-gradient-to-br from-rose-50 to-white border-rose-100",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-14 h-14 flex items-center justify-center bg-rose-100 rounded-xl",children:t.jsx("i",{className:"ri-close-circle-line text-2xl text-rose-600","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Missed Sessions"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Q.absent})]})]})})]})]}),p&&t.jsx(xe,{className:"mb-6 bg-gradient-to-r from-gray-900 to-gray-800 text-white",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-white/10 rounded-xl",children:t.jsx("i",{className:"ri-graduation-cap-line text-2xl","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-300",children:"Enrolled Training"}),t.jsx("h3",{className:"text-lg font-semibold",children:p.name})]})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-2xl font-bold",children:oe}),t.jsx("p",{className:"text-xs text-gray-300",children:"Levels"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-2xl font-bold",children:ae}),t.jsx("p",{className:"text-xs text-gray-300",children:"Sessions/Level"})]}),t.jsx(st,{to:"/trainings",children:t.jsxs(he,{variant:"outline",size:"sm",className:"!bg-white/10 !border-white/20 !text-white hover:!bg-white/20",children:["View Training",t.jsx("i",{className:"ri-arrow-right-line ml-2","aria-hidden":"true"})]})})]})]})}),t.jsx("div",{className:"mb-6",children:t.jsx("div",{className:"border-b border-gray-200",children:t.jsx("nav",{className:"flex gap-1",role:"tablist","aria-label":"Student information tabs",children:[{id:"overview",label:"Overview",icon:"ri-dashboard-line"},{id:"attendance",label:"Attendance History",icon:"ri-calendar-check-line"},{id:"progress",label:"Level Progress",icon:"ri-bar-chart-line"}].map(A=>t.jsxs("button",{onClick:()=>c(A.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-inset cursor-pointer whitespace-nowrap ${r===A.id?"border-teal-600 text-teal-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,role:"tab","aria-selected":r===A.id,"aria-controls":`${A.id}-panel`,children:[t.jsx("i",{className:`${A.icon} text-lg`,"aria-hidden":"true"}),t.jsx("span",{className:"hidden sm:inline",children:A.label})]},A.id))})})}),r==="overview"&&t.jsxs("div",{id:"overview-panel",role:"tabpanel","aria-labelledby":"overview-tab",className:"space-y-6",children:[t.jsxs(xe,{children:[t.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx("i",{className:"ri-pie-chart-2-line text-teal-600","aria-hidden":"true"}),"Attendance Summary"]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"p-4 bg-green-50 rounded-xl text-center",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-green-100 rounded-full mx-auto mb-2",children:t.jsx("i",{className:"ri-check-line text-xl text-green-600","aria-hidden":"true"})}),t.jsx("p",{className:"text-2xl font-bold text-green-700",children:Q.present}),t.jsx("p",{className:"text-sm text-green-600",children:"Present"})]}),t.jsxs("div",{className:"p-4 bg-red-50 rounded-xl text-center",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-red-100 rounded-full mx-auto mb-2",children:t.jsx("i",{className:"ri-close-line text-xl text-red-600","aria-hidden":"true"})}),t.jsx("p",{className:"text-2xl font-bold text-red-700",children:Q.absent}),t.jsx("p",{className:"text-sm text-red-600",children:"Absent"})]}),t.jsxs("div",{className:"p-4 bg-amber-50 rounded-xl text-center",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-amber-100 rounded-full mx-auto mb-2",children:t.jsx("i",{className:"ri-time-line text-xl text-amber-600","aria-hidden":"true"})}),t.jsx("p",{className:"text-2xl font-bold text-amber-700",children:Q.late}),t.jsx("p",{className:"text-sm text-amber-600",children:"Late"})]}),t.jsxs("div",{className:"p-4 bg-teal-50 rounded-xl text-center",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-teal-100 rounded-full mx-auto mb-2",children:t.jsx("i",{className:"ri-information-line text-xl text-teal-600","aria-hidden":"true"})}),t.jsx("p",{className:"text-2xl font-bold text-teal-700",children:Q.excused}),t.jsx("p",{className:"text-sm text-teal-600",children:"Excused"})]})]})]}),t.jsxs(xe,{children:[t.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx("i",{className:"ri-clipboard-line text-teal-600","aria-hidden":"true"}),"Historique des formations"]}),E.length>0?t.jsx("div",{className:"space-y-3",children:E.map(A=>t.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-200",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Formation"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:A.training?.name||"Formation"})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[t.jsxs("span",{children:["Debut: ",A.startDate?ue(A.startDate):"-"]}),t.jsxs("span",{children:["Fin: ",A.endDate?ue(A.endDate):"-"]})]}),t.jsx(Ce,{variant:A.status==="ACTIVE"?"success":"info",children:A.status||"ACTIVE"})]}),A.notes&&t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:A.notes})]},A.id))}):t.jsx("div",{className:"text-sm text-gray-600",children:"Aucune formation n'est enregistree pour cet eleve."})]}),t.jsxs(xe,{children:[t.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx("i",{className:"ri-history-line text-teal-600","aria-hidden":"true"}),"Training History by Level"]}),t.jsx("div",{className:"space-y-4",children:ie.map(A=>t.jsxs("div",{className:`p-5 rounded-xl border-2 transition-all ${A.isComplete?"bg-green-50 border-green-200":A.isCurrent?"bg-teal-50 border-teal-300 ring-2 ring-teal-200":A.completed>0?"bg-gray-50 border-gray-200":"bg-white border-gray-200"}`,children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[t.jsx("div",{className:`w-16 h-16 flex items-center justify-center rounded-xl text-2xl font-bold flex-shrink-0 ${A.isComplete?"bg-green-100 text-green-700":A.isCurrent?"bg-teal-100 text-teal-700":"bg-gray-100 text-gray-600"}`,children:A.isComplete?t.jsx("i",{className:"ri-check-double-line","aria-hidden":"true"}):A.level}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Level ",A.level]}),A.isCurrent&&t.jsxs(Ce,{variant:"info",children:[t.jsx("i",{className:"ri-focus-line mr-1","aria-hidden":"true"}),"Current"]}),A.isComplete&&t.jsxs(Ce,{variant:"success",children:[t.jsx("i",{className:"ri-checkbox-circle-line mr-1","aria-hidden":"true"}),"Completed"]})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-3",children:A.trainingName}),t.jsxs("div",{className:"mb-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsxs("span",{className:"text-xs text-gray-600",children:[A.completed," / ",A.total," sessions"]}),t.jsxs("span",{className:"text-xs font-semibold text-gray-900",children:[Math.round(A.completed/A.total*100),"%"]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${A.isComplete?"bg-green-500":A.isCurrent?"bg-teal-500":"bg-gray-400"}`,style:{width:`${A.completed/A.total*100}%`}})})]}),A.startDate&&t.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-600 mb-2",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"ri-calendar-line","aria-hidden":"true"}),"Started: ",ue(A.startDate)]}),A.endDate&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"ri-calendar-check-line","aria-hidden":"true"}),"Completed: ",ue(A.endDate)]})]})]}),A.completed>0&&t.jsxs("div",{className:"grid grid-cols-4 gap-3 lg:w-80 flex-shrink-0",children:[t.jsxs("div",{className:"text-center p-2 bg-white rounded-lg border border-green-200",children:[t.jsx("div",{className:"w-6 h-6 flex items-center justify-center bg-green-100 rounded-full mx-auto mb-1",children:t.jsx("i",{className:"ri-check-line text-xs text-green-600","aria-hidden":"true"})}),t.jsx("p",{className:"text-lg font-bold text-green-700",children:A.present}),t.jsx("p",{className:"text-xs text-gray-600",children:"Present"})]}),t.jsxs("div",{className:"text-center p-2 bg-white rounded-lg border border-amber-200",children:[t.jsx("div",{className:"w-6 h-6 flex items-center justify-center bg-amber-100 rounded-full mx-auto mb-1",children:t.jsx("i",{className:"ri-time-line text-xs text-amber-600","aria-hidden":"true"})}),t.jsx("p",{className:"text-lg font-bold text-amber-700",children:A.late}),t.jsx("p",{className:"text-xs text-gray-600",children:"Late"})]}),t.jsxs("div",{className:"text-center p-2 bg-white rounded-lg border border-red-200",children:[t.jsx("div",{className:"w-6 h-6 flex items-center justify-center bg-red-100 rounded-full mx-auto mb-1",children:t.jsx("i",{className:"ri-close-line text-xs text-red-600","aria-hidden":"true"})}),t.jsx("p",{className:"text-lg font-bold text-red-700",children:A.absent}),t.jsx("p",{className:"text-xs text-gray-600",children:"Absent"})]}),t.jsxs("div",{className:"text-center p-2 bg-white rounded-lg border border-teal-200",children:[t.jsx("div",{className:"w-6 h-6 flex items-center justify-center bg-teal-100 rounded-full mx-auto mb-1",children:t.jsx("i",{className:"ri-information-line text-xs text-teal-600","aria-hidden":"true"})}),t.jsx("p",{className:"text-lg font-bold text-teal-700",children:A.excused}),t.jsx("p",{className:"text-xs text-gray-600",children:"Excused"})]})]})]}),A.completed>0&&t.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Attendance Rate for this Level:"}),t.jsxs(Ce,{variant:A.attendanceRate>=80?"success":A.attendanceRate>=60?"warning":"danger",children:[t.jsx("i",{className:"ri-bar-chart-line mr-1","aria-hidden":"true"}),A.attendanceRate,"%"]})]})})]},A.level))}),t.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-gray-900 to-gray-800 text-white rounded-xl",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Overall Training Progress"}),t.jsxs("p",{className:"text-sm text-gray-300",children:[p?.name," â€¢ ",f?.completedSessions," / ",f?.totalSessions," sessions"]})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsxs("p",{className:"text-3xl font-bold",children:[f?.attendanceRate,"%"]}),t.jsx("p",{className:"text-xs text-gray-300",children:"Global Rate"})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("p",{className:"text-3xl font-bold",children:[Y.filter(A=>A.isComplete).length,"/",oe]}),t.jsx("p",{className:"text-xs text-gray-300",children:"Levels Done"})]})]})]})})]}),t.jsxs(xe,{children:[t.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx("i",{className:"ri-time-line text-teal-600","aria-hidden":"true"}),"Recent Sessions"]}),t.jsx("div",{className:"space-y-3",children:b.slice(-5).reverse().map(A=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-white rounded-xl border border-gray-200",children:t.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:["L",A.level]})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:A.sessionTitle}),t.jsxs("p",{className:"text-sm text-gray-500",children:["Level ",A.level,", Session ",A.sessionNumber," â€¢ ",ue(A.date)]})]})]}),de(A.status)]},A.id))})]}),t.jsx(xe,{className:f.eligibleForCertification?"border-green-200 bg-green-50/50":"border-amber-200 bg-amber-50/50",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[t.jsx("div",{className:`w-16 h-16 flex items-center justify-center rounded-2xl ${f.eligibleForCertification?"bg-green-100":"bg-amber-100"}`,children:t.jsx("i",{className:`text-3xl ${f.eligibleForCertification?"ri-award-fill text-green-600":"ri-hourglass-line text-amber-600"}`,"aria-hidden":"true"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:`text-lg font-semibold ${f.eligibleForCertification?"text-green-800":"text-amber-800"}`,children:f.eligibleForCertification?"Ready for Certification!":"Certification In Progress"}),t.jsx("p",{className:`text-sm ${f.eligibleForCertification?"text-green-700":"text-amber-700"}`,children:f.eligibleForCertification?"This student has completed all required sessions and is eligible to receive their certificate.":f.blockReason&&f.blockReason.trim()!==""?f.blockReason:`${f.totalSessions-f.completedSessions} sessions remaining to complete the training program.`})]}),f.eligibleForCertification&&t.jsx(st,{to:"/certification",children:t.jsxs(he,{variant:"success",children:[t.jsx("i",{className:"ri-file-download-line mr-2","aria-hidden":"true"}),"View Certificate"]})})]})})]}),r==="attendance"&&t.jsx("div",{id:"attendance-panel",role:"tabpanel","aria-labelledby":"attendance-tab",children:t.jsxs(xe,{children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[t.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[t.jsx("i",{className:"ri-calendar-check-line text-teal-600","aria-hidden":"true"}),"Attendance History"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{htmlFor:"filter-level",className:"text-sm text-gray-600",children:"Filter by Level:"}),t.jsxs("select",{id:"filter-level",value:d,onChange:A=>m(A.target.value==="all"?"all":Number(A.target.value)),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 cursor-pointer",children:[t.jsx("option",{value:"all",children:"All Levels"}),le.map(A=>t.jsxs("option",{value:A,children:["Level ",A]},A))]})]})]}),t.jsx("div",{className:"hidden md:block overflow-x-auto",children:t.jsxs("table",{className:"w-full",role:"table","aria-label":"Attendance history",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[t.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-sm font-semibold text-gray-900",children:"Date"}),t.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-sm font-semibold text-gray-900",children:"Level"}),t.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-sm font-semibold text-gray-900",children:"Session"}),t.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-sm font-semibold text-gray-900",children:"Topic"}),t.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-sm font-semibold text-gray-900",children:"Status"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:P.map(A=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:ue(A.date)}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 bg-teal-100 text-teal-700 rounded-lg text-sm font-semibold",children:A.level})}),t.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:["Session ",A.sessionNumber]}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:A.sessionTitle}),t.jsx("td",{className:"px-4 py-3",children:de(A.status)})]},A.id))})]})}),t.jsx("div",{className:"md:hidden space-y-3",children:P.map(A=>t.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("span",{className:"inline-flex items-center justify-center w-10 h-10 bg-teal-100 text-teal-700 rounded-lg text-sm font-bold",children:["L",A.level]}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-gray-900",children:["Session ",A.sessionNumber]}),t.jsx("p",{className:"text-xs text-gray-500",children:ue(A.date)})]})]}),de(A.status)]}),t.jsx("p",{className:"text-sm text-gray-700",children:A.sessionTitle})]},A.id))}),P.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("i",{className:"ri-calendar-line text-5xl text-gray-300 mb-4","aria-hidden":"true"}),t.jsx("p",{className:"text-gray-600",children:"No attendance records found for this filter."})]})]})}),r==="progress"&&t.jsxs("div",{id:"progress-panel",role:"tabpanel","aria-labelledby":"progress-tab",className:"space-y-6",children:[t.jsxs(xe,{children:[t.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx("i",{className:"ri-bar-chart-line text-teal-600","aria-hidden":"true"}),"Overall Progress"]}),t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Training Completion"}),t.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[Math.round(f.completedSessions/f.totalSessions*100),"%"]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-4",children:t.jsx("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 h-4 rounded-full transition-all duration-500",style:{width:`${f.completedSessions/f.totalSessions*100}%`},role:"progressbar","aria-valuenow":f.completedSessions/f.totalSessions*100,"aria-valuemin":0,"aria-valuemax":100,"aria-label":`Overall progress: ${f.completedSessions} of ${f.totalSessions} sessions completed`})}),t.jsxs("p",{className:"text-sm text-gray-600",children:[f.completedSessions," of ",f.totalSessions," sessions completed"]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Y.map(A=>t.jsxs(xe,{className:`relative overflow-hidden ${A.isCurrent?"ring-2 ring-teal-500":""} ${A.isComplete?"bg-green-50/50":""}`,children:[A.isCurrent&&t.jsx("div",{className:"absolute top-0 right-0 bg-teal-500 text-white text-xs font-semibold px-3 py-1 rounded-bl-lg",children:"Current"}),t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:`w-14 h-14 flex items-center justify-center rounded-xl text-xl font-bold ${A.isComplete?"bg-green-100 text-green-700":A.isCurrent?"bg-teal-100 text-teal-700":"bg-gray-100 text-gray-500"}`,children:A.isComplete?t.jsx("i",{className:"ri-check-line text-2xl","aria-hidden":"true"}):A.level}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("h3",{className:"font-semibold text-gray-900 mb-1",children:["Level ",A.level]}),t.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[A.completed," of ",A.total," sessions"]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${A.isComplete?"bg-green-500":A.isCurrent?"bg-teal-500":"bg-gray-400"}`,style:{width:`${A.completed/A.total*100}%`},role:"progressbar","aria-valuenow":A.completed/A.total*100,"aria-valuemin":0,"aria-valuemax":100})}),A.isComplete&&t.jsxs("p",{className:"text-xs text-green-600 mt-2 flex items-center gap-1",children:[t.jsx("i",{className:"ri-check-double-line","aria-hidden":"true"}),"Level completed"]})]})]})]},A.level))})]}),t.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row gap-3",children:[t.jsx(he,{variant:"outline",onClick:()=>i("/students"),icon:t.jsx("i",{className:"ri-arrow-left-line text-xl","aria-hidden":"true"}),children:"Back to Students"}),t.jsx(st,{to:"/attendance",children:t.jsx(he,{variant:"primary",icon:t.jsx("i",{className:"ri-checkbox-line text-xl","aria-hidden":"true"}),children:"Mark Attendance"})})]})]})]}):t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Nt,{}),t.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t.jsx(xe,{children:t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-20 h-20 flex items-center justify-center bg-gray-100 rounded-full mx-auto mb-6",children:t.jsx("i",{className:"ri-user-unfollow-line text-4xl text-gray-400","aria-hidden":"true"})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Student Not Found"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"The student you're looking for doesn't exist or has been removed."}),t.jsx(st,{to:"/students",children:t.jsxs(he,{variant:"primary",children:[t.jsx("i",{className:"ri-arrow-left-line mr-2","aria-hidden":"true"}),"Back to Students"]})})]})})})]})}const oN={1:{bg:"bg-teal-100",border:"border-l-teal-600",text:"text-teal-700"},2:{bg:"bg-amber-100",border:"border-l-amber-600",text:"text-amber-700"},3:{bg:"bg-rose-100",border:"border-l-rose-600",text:"text-rose-700"},4:{bg:"bg-indigo-100",border:"border-l-indigo-600",text:"text-indigo-700"}},Lh={bg:"bg-gray-100",border:"border-l-gray-400",text:"text-gray-700"},nn=l=>l&&oN[l]||Lh;function dN({trainings:l=[],sessions:i=[]}){const[r,c]=y.useState(new Date),[d,m]=y.useState("month"),[f,h]=y.useState(null),[p,g]=y.useState(null),b=y.useMemo(()=>i.map(A=>{const k=A.training?.id??A.trainingId,ee=l.find(w=>w.id===k),ce=A.startAt??A.date,V=ce?new Date(ce):null,S=V?V<new Date:!1;return{id:A.id,trainingId:k,level:A.levelNumber??A.level??1,sessionNumber:A.sessionNumber??1,title:A.title??`Session ${A.sessionNumber??A.id}`,date:V?V.toISOString().split("T")[0]:"",duration:A.durationMin??A.duration??120,completed:S,trainingName:ee?.name||"Unknown Training",trainingColor:nn(k).bg}}),[l,i]),v=y.useMemo(()=>p===null?b:b.filter(A=>A.trainingId===p),[b,p]),T=A=>{const k=A.getFullYear(),ee=A.getMonth(),ce=new Date(k,ee,1),S=new Date(k,ee+1,0).getDate(),w=ce.getDay(),O=[],re=new Date(k,ee,0).getDate();for(let N=w-1;N>=0;N--)O.push({date:new Date(k,ee-1,re-N),isCurrentMonth:!1});for(let N=1;N<=S;N++)O.push({date:new Date(k,ee,N),isCurrentMonth:!0});const B=42-O.length;for(let N=1;N<=B;N++)O.push({date:new Date(k,ee+1,N),isCurrentMonth:!1});return O},L=A=>{const k=new Date(A),ee=k.getDay();k.setDate(k.getDate()-ee);const ce=[];for(let V=0;V<7;V++)ce.push(new Date(k.getFullYear(),k.getMonth(),k.getDate()+V));return ce},E=A=>{const k=A.toISOString().split("T")[0];return v.filter(ee=>ee.date===k)},R=A=>A.toLocaleDateString("fr-FR",{month:"long",year:"numeric"}),D=A=>{const k=L(A),ee=k[0].toLocaleDateString("fr-FR",{day:"numeric",month:"short"}),ce=k[6].toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"});return`${ee} - ${ce}`},X=()=>{c(d==="month"?new Date(r.getFullYear(),r.getMonth()-1,1):d==="week"?new Date(r.getFullYear(),r.getMonth(),r.getDate()-7):new Date(r.getFullYear(),r.getMonth(),r.getDate()-1))},Q=()=>{c(d==="month"?new Date(r.getFullYear(),r.getMonth()+1,1):d==="week"?new Date(r.getFullYear(),r.getMonth(),r.getDate()+7):new Date(r.getFullYear(),r.getMonth(),r.getDate()+1))},P=()=>{c(new Date)},le=A=>{const k=new Date;return A.toDateString()===k.toDateString()},oe=["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],ae=Array.from({length:13},(A,k)=>k+8),Y=()=>{const A=T(r);return t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[t.jsx("div",{className:"grid grid-cols-7 bg-gray-50 border-b border-gray-200",children:oe.map(k=>t.jsx("div",{className:"py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:k},k))}),t.jsx("div",{className:"grid grid-cols-7",children:A.map((k,ee)=>{const ce=E(k.date),V=ce.slice(0,3),S=ce.length-3;return t.jsxs("div",{className:`min-h-[120px] border-b border-r border-gray-100 p-1.5 ${k.isCurrentMonth?"bg-white":"bg-gray-50"} ${le(k.date)?"bg-teal-50/50":""}`,children:[t.jsx("div",{className:`text-sm font-medium mb-1 w-7 h-7 flex items-center justify-center rounded-full ${le(k.date)?"bg-teal-600 text-white":k.isCurrentMonth?"text-gray-900":"text-gray-400"}`,children:k.date.getDate()}),t.jsxs("div",{className:"space-y-1",children:[V.map(w=>{const O=nn(w.trainingId);return t.jsx("button",{onClick:()=>h(w),className:`w-full text-left px-2 py-1 rounded text-xs truncate border-l-4 ${O.bg} ${O.border} ${O.text} hover:opacity-80 transition-opacity cursor-pointer`,title:w.title,children:t.jsx("span",{className:"font-medium",children:w.title})},w.id)}),S>0&&t.jsxs("button",{onClick:()=>{m("day"),c(k.date)},className:"w-full text-left px-2 py-0.5 text-xs text-gray-500 hover:text-teal-600 cursor-pointer",children:["+",S," autre",S>1?"s":""]})]})]},ee)})})]})},ie=()=>{const A=L(r);return t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[t.jsxs("div",{className:"grid grid-cols-8 bg-gray-50 border-b border-gray-200",children:[t.jsx("div",{className:"py-3 px-2 text-center text-xs font-semibold text-gray-400 border-r border-gray-200",children:"Heure"}),A.map((k,ee)=>t.jsxs("div",{className:`py-3 text-center border-r border-gray-200 last:border-r-0 ${le(k)?"bg-teal-50":""}`,children:[t.jsx("div",{className:"text-xs font-semibold text-gray-600 uppercase",children:oe[k.getDay()]}),t.jsx("div",{className:`text-lg font-bold mt-1 ${le(k)?"text-teal-600":"text-gray-900"}`,children:k.getDate()})]},ee))]}),t.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:ae.map(k=>t.jsxs("div",{className:"grid grid-cols-8 border-b border-gray-100",children:[t.jsxs("div",{className:"py-4 px-2 text-xs text-gray-500 text-right border-r border-gray-200 bg-gray-50",children:[k,":00"]}),A.map((ee,ce)=>{const S=E(ee).filter(w=>8+(w.sessionNumber-1)*2===k);return t.jsx("div",{className:`py-1 px-1 border-r border-gray-100 last:border-r-0 min-h-[60px] ${le(ee)?"bg-teal-50/30":""}`,children:S.map(w=>{const O=nn(w.trainingId);return t.jsxs("button",{onClick:()=>h(w),className:`w-full text-left p-2 rounded text-xs border-l-4 ${O.bg} ${O.border} ${O.text} hover:opacity-80 transition-opacity cursor-pointer mb-1`,children:[t.jsx("div",{className:"font-semibold truncate",children:w.title}),t.jsxs("div",{className:"text-[10px] opacity-75 mt-0.5",children:[w.duration," min"]})]},w.id)})},ce)})]},k))})]})},de=()=>{const A=E(r);return t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[t.jsxs("div",{className:`py-4 px-6 border-b border-gray-200 ${le(r)?"bg-teal-50":"bg-gray-50"}`,children:[t.jsx("div",{className:"text-sm font-semibold text-gray-600 uppercase",children:oe[r.getDay()]}),t.jsx("div",{className:`text-3xl font-bold ${le(r)?"text-teal-600":"text-gray-900"}`,children:r.getDate()}),t.jsx("div",{className:"text-sm text-gray-500",children:r.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})})]}),t.jsx("div",{className:"divide-y divide-gray-100 max-h-[500px] overflow-y-auto",children:A.length===0?t.jsxs("div",{className:"py-16 text-center",children:[t.jsx("i",{className:"ri-calendar-line text-5xl text-gray-300 mb-3","aria-hidden":"true"}),t.jsx("p",{className:"text-gray-500",children:"Aucune session planifiÃ©e ce jour"})]}):A.map(k=>{const ee=nn(k.trainingId),ce=8+(k.sessionNumber-1)*2;return t.jsxs("button",{onClick:()=>h(k),className:"w-full text-left p-4 hover:bg-gray-50 transition-colors cursor-pointer flex items-start gap-4",children:[t.jsxs("div",{className:"text-sm text-gray-500 w-16 flex-shrink-0 pt-1",children:[ce,":00"]}),t.jsx("div",{className:`flex-1 p-4 rounded-lg border-l-4 ${ee.bg} ${ee.border}`,children:t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:`font-semibold ${ee.text}`,children:k.title}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.trainingName}),t.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"ri-time-line","aria-hidden":"true"}),k.duration," min"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"ri-stack-line","aria-hidden":"true"}),"Niveau ",k.level]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"ri-hashtag","aria-hidden":"true"}),"Session ",k.sessionNumber]})]})]}),t.jsx(Ce,{variant:k.completed?"success":"neutral",size:"sm",children:k.completed?"TerminÃ©e":"Ã€ venir"})]})})]},k.id)})})]})},ue=y.useMemo(()=>{const A=new Date,k=v.filter(V=>{const S=new Date(V.date);return S.getMonth()===r.getMonth()&&S.getFullYear()===r.getFullYear()}),ee=k.filter(V=>V.completed).length,ce=k.filter(V=>new Date(V.date)>=A&&!V.completed).length;return{total:k.length,completed:ee,upcoming:ce}},[v,r]);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Calendrier des Sessions"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Visualisez toutes les sessions planifiÃ©es"})]}),t.jsx("div",{className:"flex items-center gap-2 bg-gray-100 p-1 rounded-lg",children:["month","week","day"].map(A=>t.jsx("button",{onClick:()=>m(A),className:`px-4 py-2 text-sm font-medium rounded-md transition-all cursor-pointer whitespace-nowrap ${d===A?"bg-white text-teal-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:A==="month"?"Mois":A==="week"?"Semaine":"Jour"},A))})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx("button",{onClick:()=>g(null),className:`px-3 py-1.5 text-sm rounded-full border transition-colors cursor-pointer whitespace-nowrap ${p===null?"bg-teal-600 text-white border-teal-600":"bg-white text-gray-600 border-gray-300 hover:border-gray-400"}`,children:"Toutes"}),l.map(A=>{const k=nn(A.id);return t.jsxs("button",{onClick:()=>g(A.id),className:`px-3 py-1.5 text-sm rounded-full border transition-colors cursor-pointer whitespace-nowrap flex items-center gap-2 ${p===A.id?`${k.bg} ${k.text} border-current`:"bg-white text-gray-600 border-gray-300 hover:border-gray-400"}`,children:[t.jsx("span",{className:`w-2 h-2 rounded-full ${k.border.replace("border-l-","bg-")}`}),t.jsx("span",{className:"hidden sm:inline",children:A.name.split(" ").slice(0,2).join(" ")}),t.jsx("span",{className:"sm:hidden",children:A.name.split(" ")[0]})]},A.id)})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(he,{variant:"outline",size:"sm",onClick:P,children:"Aujourd'hui"}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("button",{onClick:X,className:"w-9 h-9 flex items-center justify-center rounded-lg border border-gray-300 text-gray-600 hover:bg-gray-50 transition-colors cursor-pointer","aria-label":"PrÃ©cÃ©dent",children:t.jsx("i",{className:"ri-arrow-left-s-line text-xl","aria-hidden":"true"})}),t.jsx("div",{className:"px-4 py-2 min-w-[200px] text-center",children:t.jsxs("span",{className:"font-semibold text-gray-900",children:[d==="month"&&R(r),d==="week"&&D(r),d==="day"&&r.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})]})}),t.jsx("button",{onClick:Q,className:"w-9 h-9 flex items-center justify-center rounded-lg border border-gray-300 text-gray-600 hover:bg-gray-50 transition-colors cursor-pointer","aria-label":"Suivant",children:t.jsx("i",{className:"ri-arrow-right-s-line text-xl","aria-hidden":"true"})})]})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-teal-100 rounded-lg",children:t.jsx("i",{className:"ri-calendar-check-line text-xl text-teal-600","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ue.total}),t.jsx("p",{className:"text-xs text-gray-500",children:"Sessions ce mois"})]})]})}),t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-green-100 rounded-lg",children:t.jsx("i",{className:"ri-check-double-line text-xl text-green-600","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ue.completed}),t.jsx("p",{className:"text-xs text-gray-500",children:"TerminÃ©es"})]})]})}),t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-amber-100 rounded-lg",children:t.jsx("i",{className:"ri-time-line text-xl text-amber-600","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ue.upcoming}),t.jsx("p",{className:"text-xs text-gray-500",children:"Ã€ venir"})]})]})})]}),d==="month"&&Y(),d==="week"&&ie(),d==="day"&&de(),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[t.jsx("span",{className:"text-gray-500 font-medium",children:"LÃ©gende :"}),l.map(A=>{const k=nn(A.id);return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`w-3 h-3 rounded ${k.border.replace("border-l-","bg-")}`}),t.jsx("span",{className:"text-gray-600",children:A.name.split(" ").slice(0,2).join(" ")})]},A.id)})]}),f&&t.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",role:"dialog","aria-modal":"true","aria-labelledby":"session-modal-title",children:[t.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:()=>h(null),"aria-hidden":"true"}),t.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:t.jsxs("div",{className:"relative w-full max-w-lg bg-white rounded-xl shadow-xl transform transition-all",children:[t.jsx("div",{className:`h-2 rounded-t-xl ${nn(f.trainingId).border.replace("border-l-","bg-")}`}),t.jsxs("div",{className:"flex items-start justify-between px-6 py-4 border-b border-gray-200",children:[t.jsxs("div",{children:[t.jsx("h3",{id:"session-modal-title",className:"text-xl font-semibold text-gray-900",children:f.title}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:f.trainingName})]}),t.jsx("button",{onClick:()=>h(null),className:"w-10 h-10 flex items-center justify-center rounded-lg text-gray-500 hover:text-gray-700 hover:bg-gray-100 transition-colors cursor-pointer","aria-label":"Fermer",children:t.jsx("i",{className:"ri-close-line text-2xl","aria-hidden":"true"})})]}),t.jsxs("div",{className:"px-6 py-5 space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[t.jsx("i",{className:"ri-calendar-line text-xl text-gray-400","aria-hidden":"true"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Date"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(f.date).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]})]}),t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[t.jsx("i",{className:"ri-time-line text-xl text-gray-400","aria-hidden":"true"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"DurÃ©e"}),t.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[f.duration," minutes"]})]})]}),t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[t.jsx("i",{className:"ri-stack-line text-xl text-gray-400","aria-hidden":"true"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Niveau"}),t.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Niveau ",f.level]})]})]}),t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[t.jsx("i",{className:"ri-hashtag text-xl text-gray-400","aria-hidden":"true"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Session"}),t.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Session ",f.sessionNumber,"/6"]})]})]})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Statut"}),t.jsx(Ce,{variant:f.completed?"success":"neutral",children:f.completed?"TerminÃ©e":"Ã€ venir"})]})]}),t.jsxs("div",{className:"flex justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[t.jsx(he,{variant:"outline",onClick:()=>h(null),children:"Fermer"}),t.jsxs(he,{variant:"primary",children:[t.jsx("i",{className:"ri-eye-line mr-1","aria-hidden":"true"}),"Voir la formation"]})]})]})})]})]})}const uN={getAll:async()=>(await Re.get("/levels")).data,getByTraining:async l=>(await Re.get("/levels",{params:{trainingId:l}})).data,create:async l=>(await Re.post("/levels",l)).data};function mN(){const l=Aa(),[i,r]=y.useState("list"),[c,d]=y.useState([]),[m,f]=y.useState([]),[h,p]=y.useState([]),[g,b]=y.useState([]),[v,T]=y.useState([]),[L,E]=y.useState(null),R=y.useCallback(async()=>{try{const q=await Ut.getAll();d(q),!L&&q.length>0&&E(q[0].id)}catch(q){console.error("Failed to load trainings",q)}},[L]),D=y.useCallback(async()=>{try{const q=await uN.getAll();b(q)}catch(q){console.error("Failed to load levels",q)}},[]),X=y.useCallback(async()=>{try{const q=await tl.getAll();T(q)}catch(q){console.error("Failed to load sessions",q)}},[]),Q=y.useCallback(async()=>{try{const me=(await ms.getAll()).map(ve=>{const De=ve.training?.id??ve.trainingId??null,tt=ve.totalSessions??24,Ve=ve.completedSessions??0,Oe=ve.attendanceRate??(tt>0?Math.round(Ve/tt*100):0),ct=ve.eligibleForCertification??(Ve>=tt&&Oe>=80);return{...ve,trainingId:De,currentLevel:ve.currentLevel??1,status:ve.status??"active",totalSessions:tt,completedSessions:Ve,attendanceRate:Oe,eligibleForCertification:ct}});f(me)}catch(q){console.error("Failed to load students",q)}},[]),P=y.useCallback(async()=>{try{const q=await ii.getAll();p(q)}catch(q){console.error("Failed to load attendance",q)}},[]);y.useEffect(()=>{R(),Q(),P(),D(),X()},[R,Q,P,D,X]);const[le,oe]=y.useState({}),[ae,Y]=y.useState(!1),[ie,de]=y.useState(!1),[ue,A]=y.useState(!1),[k,ee]=y.useState({}),[ce,V]=y.useState(!1),[S,w]=y.useState({name:"",description:"",startDate:"",endDate:"",status:"upcoming",creationMode:"AUTO"}),[O,re]=y.useState({name:"",description:"",startDate:"",endDate:"",status:"upcoming"}),[B,N]=y.useState({}),[U,ne]=y.useState({}),[se,be]=y.useState(!1),[Ne,Se]=y.useState(!1),[Je,_]=y.useState(!1),[fe,_e]=y.useState(!1),[nt,At]=y.useState(""),[Ge,Ke]=y.useState([]),[Ta,ia]=y.useState(!1),[Zt,Bt]=y.useState(!1),qa=y.useRef(null),Ha=y.useRef(null),dn=y.useRef(null),un=y.useRef(null),St=y.useRef(null),Hs=y.useRef(null),ke=L?c.find(q=>q.id===L):null,mn=ke?g.filter(q=>(q.training?.id??q.trainingId)===ke.id).sort((q,me)=>Number(q.levelNumber??0)-Number(me.levelNumber??0)):[],Ra=q=>{oe(me=>({...me,[q]:!me[q]}))};y.useEffect(()=>{const q={},me=new Date;v.forEach(ve=>{const De=ve.startAt??ve.date,tt=De?new Date(De):null;q[ve.id]=tt?tt<me:!1}),ee(q)},[v]);const $a=q=>{ee(me=>({...me,[q]:!me[q]})),V(!0),setTimeout(()=>V(!1),3e3)},It=(q,me)=>v.filter(ve=>(ve.training?.id??ve.trainingId)===q&&Number(ve.levelNumber)===Number(me)),ll=(q,me)=>v.filter(De=>(De.training?.id??De.trainingId)===q&&Number(De.levelNumber)===Number(me)).filter(De=>k[De.id]).length,Da=(q,me)=>{const ve=h.filter(wt=>{const Ya=wt.student?.id??wt.studentId;return Number(Ya)===Number(q)}),De=ve.length,tt=ve.filter(wt=>wt.status==="present"||wt.status==="late").length,Ve=De>0?Math.round(tt/De*100):0,Oe=me?v.filter(wt=>(wt.training?.id??wt.trainingId)===me).length:0,ct=Oe>0?Oe:24;return{total:De,rate:Ve,totalSessions:ct}},ra=q=>m.filter(me=>me.trainingId===q).length,Ct=q=>m.filter(me=>me.trainingId===q).filter(me=>{const ve=Da(me.id,q);return ve.total>=ve.totalSessions&&ve.rate>=80}).length;y.useEffect(()=>(ae?(un.current?.focus(),document.body.style.overflow="hidden"):ie||(document.body.style.overflow="unset"),()=>{ie||(document.body.style.overflow="unset")}),[ae,ie]),y.useEffect(()=>(ie?(setTimeout(()=>St.current?.focus(),50),document.body.style.overflow="hidden"):ae||(document.body.style.overflow="unset"),()=>{ae||(document.body.style.overflow="unset")}),[ie,ae]),y.useEffect(()=>(ue?(setTimeout(()=>Hs.current?.focus(),50),document.body.style.overflow="hidden"):!ae&&!ie&&(document.body.style.overflow="unset"),()=>{!ae&&!ie&&(document.body.style.overflow="unset")}),[ue,ae,ie]),y.useEffect(()=>{const q=me=>{me.key==="Escape"&&(ue?qt():ie?Fa():ae&&ot())};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[ae,ie,ue]),y.useEffect(()=>{if(!ae)return;const q=qa.current;if(!q)return;const me=q.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),ve=me[0],De=me[me.length-1],tt=Ve=>{Ve.key==="Tab"&&(Ve.shiftKey?document.activeElement===ve&&(Ve.preventDefault(),De.focus()):document.activeElement===De&&(Ve.preventDefault(),ve.focus()))};return q.addEventListener("keydown",tt),()=>q.removeEventListener("keydown",tt)},[ae]),y.useEffect(()=>{if(!ie)return;const q=Ha.current;if(!q)return;const me=q.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),ve=me[0],De=me[me.length-1],tt=Ve=>{Ve.key==="Tab"&&(Ve.shiftKey?document.activeElement===ve&&(Ve.preventDefault(),De.focus()):document.activeElement===De&&(Ve.preventDefault(),ve.focus()))};return q.addEventListener("keydown",tt),()=>q.removeEventListener("keydown",tt)},[ie]),y.useEffect(()=>{if(!ue)return;const q=dn.current;if(!q)return;const me=q.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),ve=me[0],De=me[me.length-1],tt=Ve=>{Ve.key==="Tab"&&(Ve.shiftKey?document.activeElement===ve&&(Ve.preventDefault(),De.focus()):document.activeElement===De&&(Ve.preventDefault(),ve.focus()))};return q.addEventListener("keydown",tt),()=>q.removeEventListener("keydown",tt)},[ue]);const ca=()=>{Y(!0),N({}),_(!1)},ot=()=>{Y(!1),w({name:"",description:"",startDate:"",endDate:"",status:"upcoming",creationMode:"AUTO"}),N({}),_(!1)},il=()=>{ke&&(re({name:ke.name,description:ke.description,startDate:ke.startDate,endDate:ke.endDate,status:ke.status}),ne({}),_e(!1),de(!0))},Fa=()=>{de(!1),re({name:"",description:"",startDate:"",endDate:"",status:"upcoming"}),ne({}),_e(!1)},fn=()=>{if(!ke)return;const q=m.filter(me=>me.trainingId===ke.id).map(me=>me.id);Ke(q),At(""),Bt(!1),A(!0)},qt=()=>{A(!1),Ke([]),At(""),Bt(!1)},fs=q=>{Ke(me=>me.includes(q)?me.filter(ve=>ve!==q):[...me,q])},Va=()=>{const q=I.map(ve=>ve.id),me=q.every(ve=>Ge.includes(ve));Ke(me?ve=>ve.filter(De=>!q.includes(De)):ve=>[...new Set([...ve,...q])])},H=async()=>{ia(!0);try{ke&&(await Promise.all(Ge.map(q=>ms.update(q,{training:{id:ke.id}}))),await Q())}catch(q){console.error("Failed to assign students",q)}ia(!1),Bt(!0),setTimeout(()=>{qt()},2e3)},I=m.filter(q=>{const me=nt.toLowerCase();return`${q.firstName} ${q.lastName}`.toLowerCase().includes(me)||q.email.toLowerCase().includes(me)}),ge=q=>{const me=m.find(ve=>ve.id===q);return!me||!ke?null:me.trainingId===ke.id?"enrolled":me.trainingId?"other":null},pe=()=>{const q={};return S.name.trim()?S.name.trim().length<3&&(q.name="Training name must be at least 3 characters"):q.name="Training name is required",S.description.trim()?S.description.trim().length<20&&(q.description="Description must be at least 20 characters"):q.description="Description is required",S.startDate||(q.startDate="Start date is required"),S.endDate?S.startDate&&new Date(S.endDate)<=new Date(S.startDate)&&(q.endDate="End date must be after start date"):q.endDate="End date is required",N(q),Object.keys(q).length===0},Ue=()=>{const q={};return O.name.trim()?O.name.trim().length<3&&(q.name="Training name must be at least 3 characters"):q.name="Training name is required",O.description.trim()?O.description.trim().length<20&&(q.description="Description must be at least 20 characters"):q.description="Description is required",O.startDate||(q.startDate="Start date is required"),O.endDate?O.startDate&&new Date(O.endDate)<=new Date(O.startDate)&&(q.endDate="End date must be after start date"):q.endDate="End date is required",ne(q),Object.keys(q).length===0},dt=async q=>{if(q.preventDefault(),!!pe()){be(!0);try{const me={title:S.name,description:S.description,creationMode:S.creationMode,levelsCount:4,sessionsPerLevel:6,startDate:S.startDate||null,endDate:S.endDate||null,status:S.status};await Ut.create(me),await R(),await D(),await X()}catch(me){console.error("Failed to create training",me)}be(!1),_(!0),setTimeout(()=>{ot()},2e3)}},oa=async q=>{if(q.preventDefault(),!!Ue()){Se(!0);try{ke&&(await Ut.update(ke.id,O),await R(),await D(),await X())}catch(me){console.error("Failed to update training",me)}Se(!1),_e(!0),setTimeout(()=>{Fa()},2e3)}},Pr=async()=>{if(ke)try{await Ut.generateStructure(ke.id),await D(),await X(),await R()}catch(q){console.error("Failed to generate structure",q)}},Ga=q=>{const{name:me,value:ve}=q.target;w(De=>({...De,[me]:ve})),B[me]&&N(De=>({...De,[me]:""}))},xs=q=>{const{name:me,value:ve}=q.target;re(De=>({...De,[me]:ve})),U[me]&&ne(De=>({...De,[me]:""}))};return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Nt,{}),ce&&t.jsx("div",{className:"fixed top-4 right-4 z-50 animate-slide-in-right",role:"status","aria-live":"polite",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-l-4 border-green-500 p-4 flex items-center gap-3 min-w-[300px]",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-green-100 rounded-full flex-shrink-0",children:t.jsx("i",{className:"ri-check-line text-xl text-green-600","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:"Statut mis Ã  jour"}),t.jsx("p",{className:"text-xs text-gray-600",children:"Le statut de la session a Ã©tÃ© modifiÃ©"})]}),t.jsx("button",{onClick:()=>V(!1),className:"ml-auto w-8 h-8 flex items-center justify-center rounded-lg text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors cursor-pointer","aria-label":"Fermer la notification",children:t.jsx("i",{className:"ri-close-line text-lg","aria-hidden":"true"})})]})}),t.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Gestion des Formations"}),t.jsx("p",{className:"text-base text-gray-600",children:"CrÃ©ez et gÃ©rez les programmes de formation"})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsx(he,{variant:"outline",onClick:()=>l("/trainings/new"),children:"Nouveau parcours"}),t.jsx(he,{variant:"primary",icon:t.jsx("i",{className:"ri-add-line text-xl","aria-hidden":"true"}),onClick:ca,"aria-haspopup":"dialog",children:"CrÃ©er une formation"})]})]}),t.jsxs("div",{className:"flex items-center gap-2 mb-6 bg-gray-100 p-1 rounded-lg w-fit",children:[t.jsxs("button",{onClick:()=>r("list"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-all cursor-pointer whitespace-nowrap ${i==="list"?"bg-white text-teal-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[t.jsx("i",{className:"ri-list-check text-lg","aria-hidden":"true"}),"Liste des formations"]}),t.jsxs("button",{onClick:()=>r("calendar"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-all cursor-pointer whitespace-nowrap ${i==="calendar"?"bg-white text-teal-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[t.jsx("i",{className:"ri-calendar-line text-lg","aria-hidden":"true"}),"Vue calendrier"]})]}),i==="calendar"&&t.jsx(dN,{trainings:c,sessions:v}),i==="list"&&t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-1",children:t.jsxs(xe,{children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Toutes les formations"}),t.jsx("div",{className:"space-y-2",children:c.map(q=>t.jsxs("button",{onClick:()=>E(q.id),className:`w-full text-left p-4 rounded-lg border-2 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-teal-500 cursor-pointer ${L===q.id?"border-teal-600 bg-teal-50":"border-gray-200 hover:border-gray-300 bg-white"}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:q.name}),t.jsx(Ce,{variant:q.status==="active"?"success":"neutral",size:"sm",children:q.status==="active"?"Actif":"Ã€ venir"})]}),t.jsx("p",{className:"text-xs text-gray-600 mb-3",children:q.description}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"ri-user-line","aria-hidden":"true"}),ra(q.id)]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"ri-checkbox-circle-line","aria-hidden":"true"}),Ct(q.id)]})]})]},q.id))})]})}),t.jsx("div",{className:"lg:col-span-2",children:ke?t.jsxs("div",{className:"space-y-6",children:[t.jsxs(xe,{children:[t.jsxs("div",{className:"flex items-start justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:ke.name}),t.jsx("p",{className:"text-base text-gray-600 mb-4",children:ke.description}),t.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"ri-calendar-line","aria-hidden":"true"}),new Date(ke.startDate).toLocaleDateString("fr-FR")," - ",new Date(ke.endDate).toLocaleDateString("fr-FR")]}),t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"ri-settings-3-line","aria-hidden":"true"}),ke.creationMode==="AUTO"?"Auto":"Manual"]}),t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"ri-user-line","aria-hidden":"true"}),ra(ke.id)," inscrits"]}),t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"ri-award-line","aria-hidden":"true"}),Ct(ke.id)," terminÃ©s"]})]})]}),t.jsx(Ce,{variant:ke.status==="active"?"success":"neutral",children:ke.status==="active"?"Actif":"Ã€ venir"})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs(he,{variant:"outline",size:"sm",onClick:()=>l(`/trainings/${ke.id}`),children:[t.jsx("i",{className:"ri-external-link-line","aria-hidden":"true"}),"Voir la fiche"]}),t.jsxs(he,{variant:"primary",size:"sm",onClick:il,"aria-haspopup":"dialog",children:[t.jsx("i",{className:"ri-edit-line","aria-hidden":"true"}),"Modifier"]}),ke.creationMode==="AUTO"&&ke.structureStatus!=="GENERATED"&&t.jsxs(he,{variant:"outline",size:"sm",onClick:Pr,children:[t.jsx("i",{className:"ri-magic-line","aria-hidden":"true"}),"Generer la structure"]}),t.jsxs(he,{variant:"outline",size:"sm",onClick:fn,"aria-haspopup":"dialog",children:[t.jsx("i",{className:"ri-user-add-line","aria-hidden":"true"}),"Assigner des Ã©lÃ¨ves"]})]})]}),t.jsxs(xe,{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Niveaux de formation"}),t.jsx("div",{className:"space-y-4",children:mn.map(q=>{const me=It(ke.id,q.levelNumber).sort((Oe,ct)=>Number(Oe.sessionNumber??0)-Number(ct.sessionNumber??0)),ve=ll(ke.id,q.levelNumber),De=me.length>0?me.length:6,tt=De>0?Math.round(ve/De*100):0,Ve=le[q.id]||!1;return t.jsxs("div",{className:"p-6 bg-gradient-to-r from-teal-50 to-white rounded-lg border-2 border-teal-200",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-teal-600 text-white rounded-lg font-bold text-lg",children:q.levelNumber}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:q.name}),t.jsx("p",{className:"text-sm text-gray-600",children:q.description})]})]}),t.jsxs(Ce,{variant:"info",size:"sm",children:[De," sessions"]})]}),t.jsxs("div",{className:"mt-4 pt-4 border-t border-teal-200",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Progression des sessions"}),t.jsxs("span",{className:"font-medium text-gray-900",children:[ve,"/",De," terminÃ©es"]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:t.jsx("div",{className:"bg-teal-600 h-2 rounded-full transition-all duration-300",style:{width:`${tt}%`},role:"progressbar","aria-valuenow":tt,"aria-valuemin":0,"aria-valuemax":100,"aria-label":`Progression niveau ${q.levelNumber}`})})]}),t.jsx("div",{className:"mt-4",children:t.jsxs(he,{variant:"outline",size:"sm",fullWidth:!0,onClick:()=>Ra(q.id),"aria-expanded":Ve,"aria-controls":`sessions-panel-${q.id}`,children:[t.jsx("i",{className:`${Ve?"ri-arrow-up-s-line":"ri-list-check"} mr-1`,"aria-hidden":"true"}),Ve?"Masquer les sessions":"Voir les sessions"]})}),Ve&&t.jsxs("div",{id:`sessions-panel-${q.id}`,className:"mt-4 pt-4 border-t border-teal-200",role:"region","aria-label":`Sessions du Niveau ${q.levelNumber} - ${q.name}`,children:[t.jsx("div",{className:"space-y-2",children:me.map(Oe=>{const ct=Oe.startAt??Oe.date,wt=ct?new Date(ct):null,Ya=wt?wt<new Date:!1,hs=k[Oe.id];return t.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg border transition-colors ${hs?"bg-green-50 border-green-200":Ya?"bg-amber-50 border-amber-200":"bg-white border-gray-200"}`,children:[t.jsx("button",{onClick:()=>$a(Oe.id),className:`w-8 h-8 flex items-center justify-center rounded-full flex-shrink-0 transition-all cursor-pointer focus:outline-none focus:ring-2 focus:ring-teal-500 ${hs?"bg-green-600 text-white hover:bg-green-700":Ya?"bg-amber-500 text-white hover:bg-amber-600":"bg-gray-200 text-gray-500 hover:bg-gray-300"}`,"aria-label":`Marquer la session ${Oe.sessionNumber} comme ${hs?"non terminÃ©e":"terminÃ©e"}`,title:`Cliquer pour marquer comme ${hs?"non terminÃ©e":"terminÃ©e"}`,children:hs?t.jsx("i",{className:"ri-check-line text-sm","aria-hidden":"true"}):t.jsx("span",{className:"text-xs font-bold",children:Oe.sessionNumber})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:Oe.title}),t.jsxs("div",{className:"flex items-center gap-3 mt-0.5",children:[t.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[t.jsx("i",{className:"ri-calendar-line","aria-hidden":"true"}),wt.toLocaleDateString("fr-FR",{month:"short",day:"numeric",year:"numeric"})]}),t.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[t.jsx("i",{className:"ri-time-line","aria-hidden":"true"}),Oe.durationMin??Oe.duration??120," min"]})]})]}),t.jsx("div",{className:"flex-shrink-0",children:hs?t.jsxs(Ce,{variant:"success",size:"sm",children:[t.jsx("i",{className:"ri-check-line mr-1","aria-hidden":"true"}),"TerminÃ©e"]}):Ya?t.jsxs(Ce,{variant:"warning",size:"sm",children:[t.jsx("i",{className:"ri-error-warning-line mr-1","aria-hidden":"true"}),"ManquÃ©e"]}):t.jsxs(Ce,{variant:"neutral",size:"sm",children:[t.jsx("i",{className:"ri-calendar-event-line mr-1","aria-hidden":"true"}),"Ã€ venir"]})})]},Oe.id)})}),t.jsx("div",{className:"mt-3 p-3 bg-teal-50/50 rounded-lg flex items-center justify-between text-xs text-gray-600",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-green-600 inline-block"}),"TerminÃ©es: ",me.filter(Oe=>k[Oe.id]).length]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-amber-500 inline-block"}),"ManquÃ©es: ",me.filter(Oe=>!k[Oe.id]&&new Date(Oe.date)<new Date).length]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-gray-300 inline-block"}),"Ã€ venir: ",me.filter(Oe=>!k[Oe.id]&&new Date(Oe.date)>=new Date).length]})]})})]})]},q.id)})})]})]}):t.jsx(xe,{children:t.jsxs("div",{className:"text-center py-16",children:[t.jsx("i",{className:"ri-book-open-line text-6xl text-gray-300 mb-4","aria-hidden":"true"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"SÃ©lectionnez une formation"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Choisissez une formation dans la liste pour voir les dÃ©tails et gÃ©rer les niveaux"})]})})})]})]}),ae&&t.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[t.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:ot,"aria-hidden":"true"}),t.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:t.jsxs("div",{ref:qa,className:"relative w-full max-w-xl bg-white rounded-xl shadow-xl transform transition-all",children:[t.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[t.jsx("h2",{id:"modal-title",className:"text-xl font-semibold text-gray-900",children:"Create New Training"}),t.jsx("button",{onClick:ot,className:"w-10 h-10 flex items-center justify-center rounded-lg text-gray-500 hover:text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-teal-500 transition-colors cursor-pointer","aria-label":"Close dialog",children:t.jsx("i",{className:"ri-close-line text-2xl","aria-hidden":"true"})})]}),t.jsxs("form",{onSubmit:dt,noValidate:!0,children:[t.jsx("div",{className:"px-6 py-5 space-y-5 max-h-[calc(100vh-250px)] overflow-y-auto",children:Je?t.jsxs("div",{className:"flex flex-col items-center justify-center py-8",role:"status","aria-live":"polite",children:[t.jsx("div",{className:"w-16 h-16 flex items-center justify-center bg-green-100 rounded-full mb-4",children:t.jsx("i",{className:"ri-check-line text-3xl text-green-600","aria-hidden":"true"})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Training Created Successfully!"}),t.jsx("p",{className:"text-sm text-gray-600",children:"The new training program has been added."})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Training Name ",t.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),t.jsx("input",{ref:un,type:"text",id:"name",name:"name",value:S.name,onChange:Ga,className:`w-full px-4 py-2.5 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-colors ${B.name?"border-red-500 bg-red-50":"border-gray-300"}`,"aria-required":"true","aria-invalid":!!B.name,"aria-describedby":B.name?"name-error":void 0,placeholder:"e.g., Advanced Web Development"}),B.name&&t.jsxs("p",{id:"name-error",className:"mt-1.5 text-sm text-red-600 flex items-center gap-1",role:"alert",children:[t.jsx("i",{className:"ri-error-warning-line","aria-hidden":"true"}),B.name]})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Description ",t.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),t.jsx("textarea",{id:"description",name:"description",value:S.description,onChange:Ga,rows:3,maxLength:500,className:`w-full px-4 py-2.5 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-colors resize-none ${B.description?"border-red-500 bg-red-50":"border-gray-300"}`,"aria-required":"true","aria-invalid":!!B.description,"aria-describedby":B.description?"description-error":"description-hint",placeholder:"Describe the training program objectives and content..."}),t.jsxs("p",{id:"description-hint",className:"mt-1 text-xs text-gray-500",children:[S.description.length,"/500 characters"]}),B.description&&t.jsxs("p",{id:"description-error",className:"mt-1.5 text-sm text-red-600 flex items-center gap-1",role:"alert",children:[t.jsx("i",{className:"ri-error-warning-line","aria-hidden":"true"}),B.description]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Start Date ",t.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("i",{className:"ri-calendar-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400","aria-hidden":"true"}),t.jsx("input",{type:"date",id:"startDate",name:"startDate",value:S.startDate,onChange:Ga,className:`w-full pl-10 pr-4 py-2.5 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-colors ${B.startDate?"border-red-500 bg-red-50":"border-gray-300"}`,"aria-required":"true","aria-invalid":!!B.startDate,"aria-describedby":B.startDate?"startDate-error":void 0})]}),B.startDate&&t.jsxs("p",{id:"startDate-error",className:"mt-1.5 text-sm text-red-600 flex items-center gap-1",role:"alert",children:[t.jsx("i",{className:"ri-error-warning-line","aria-hidden":"true"}),B.startDate]})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-1.5",children:["End Date ",t.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("i",{className:"ri-calendar-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400","aria-hidden":"true"}),t.jsx("input",{type:"date",id:"endDate",name:"endDate",value:S.endDate,onChange:Ga,min:S.startDate||void 0,className:`w-full pl-10 pr-4 py-2.5 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-colors ${B.endDate?"border-red-500 bg-red-50":"border-gray-300"}`,"aria-required":"true","aria-invalid":!!B.endDate,"aria-describedby":B.endDate?"endDate-error":void 0})]}),B.endDate&&t.jsxs("p",{id:"endDate-error",className:"mt-1.5 text-sm text-red-600 flex items-center gap-1",role:"alert",children:[t.jsx("i",{className:"ri-error-warning-line","aria-hidden":"true"}),B.endDate]})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"creationMode",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Creation Mode"}),t.jsxs("div",{className:"relative",children:[t.jsx("i",{className:"ri-settings-3-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400","aria-hidden":"true"}),t.jsxs("select",{id:"creationMode",name:"creationMode",value:S.creationMode,onChange:Ga,className:"w-full pl-10 pr-10 py-2.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-colors appearance-none bg-white cursor-pointer",children:[t.jsx("option",{value:"AUTO",children:"Auto (generate structure)"}),t.jsx("option",{value:"MANUAL",children:"Manual (create levels/sessions)"})]}),t.jsx("i",{className:"ri-arrow-down-s-line absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none","aria-hidden":"true"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Initial Status"}),t.jsxs("div",{className:"relative",children:[t.jsx("i",{className:"ri-flag-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400","aria-hidden":"true"}),t.jsxs("select",{id:"status",name:"status",value:S.status,onChange:Ga,className:"w-full pl-10 pr-10 py-2.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-colors appearance-none bg-white cursor-pointer",children:[t.jsx("option",{value:"upcoming",children:"Upcoming"}),t.jsx("option",{value:"active",children:"Active"})]}),t.jsx("i",{className:"ri-arrow-down-s-line absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none","aria-hidden":"true"})]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-teal-50 rounded-lg",children:[t.jsx("i",{className:"ri-information-line text-teal-600 text-xl flex-shrink-0 mt-0.5","aria-hidden":"true"}),t.jsxs("div",{className:"text-sm text-teal-800",children:[t.jsx("p",{className:"font-medium mb-1",children:"Training Structure"}),t.jsx("p",{children:"Auto mode uses the structure generator (4 levels, 6 sessions per level). Manual mode lets you create levels and sessions yourself."})]})]})]})}),!Je&&t.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[t.jsx(he,{type:"button",variant:"outline",onClick:ot,children:"Cancel"}),t.jsx(he,{type:"submit",variant:"primary",disabled:se,icon:se?t.jsx("i",{className:"ri-loader-4-line animate-spin text-xl","aria-hidden":"true"}):t.jsx("i",{className:"ri-add-line text-xl","aria-hidden":"true"}),children:se?"Creating...":"Create Training"})]})]})]})})]}),ie&&t.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",role:"dialog","aria-modal":"true","aria-labelledby":"edit-modal-title",children:[t.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:Fa,"aria-hidden":"true"}),t.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:t.jsxs("div",{ref:Ha,className:"relative w-full max-w-xl bg-white rounded-xl shadow-xl transform transition-all",children:[t.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-9 h-9 flex items-center justify-center bg-teal-100 rounded-lg",children:t.jsx("i",{className:"ri-edit-line text-lg text-teal-600","aria-hidden":"true"})}),t.jsx("h2",{id:"edit-modal-title",className:"text-xl font-semibold text-gray-900",children:"Edit Training"})]}),t.jsx("button",{onClick:Fa,className:"w-10 h-10 flex items-center justify-center rounded-lg text-gray-500 hover:text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-teal-500 transition-colors cursor-pointer","aria-label":"Close dialog",children:t.jsx("i",{className:"ri-close-line text-2xl","aria-hidden":"true"})})]}),t.jsxs("form",{onSubmit:oa,noValidate:!0,children:[t.jsx("div",{className:"px-6 py-5 space-y-5 max-h-[calc(100vh-250px)] overflow-y-auto",children:fe?t.jsxs("div",{className:"flex flex-col items-center justify-center py-8",role:"status","aria-live":"polite",children:[t.jsx("div",{className:"w-16 h-16 flex items-center justify-center bg-green-100 rounded-full mb-4",children:t.jsx("i",{className:"ri-check-line text-3xl text-green-600","aria-hidden":"true"})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Training Updated Successfully!"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Your changes have been saved."})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"edit-name",className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Training Name ",t.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),t.jsx("input",{ref:St,type:"text",id:"edit-name",name:"name",value:O.name,onChange:xs,className:`w-full px-4 py-2.5 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-colors ${U.name?"border-red-500 bg-red-50":"border-gray-300"}`,"aria-required":"true","aria-invalid":!!U.name,"aria-describedby":U.name?"edit-name-error":void 0,placeholder:"e.g., Advanced Web Development"}),U.name&&t.jsxs("p",{id:"edit-name-error",className:"mt-1.5 text-sm text-red-600 flex items-center gap-1",role:"alert",children:[t.jsx("i",{className:"ri-error-warning-line","aria-hidden":"true"}),U.name]})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"edit-description",className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Description ",t.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),t.jsx("textarea",{id:"edit-description",name:"description",value:O.description,onChange:xs,rows:3,maxLength:500,className:`w-full px-4 py-2.5 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-colors resize-none ${U.description?"border-red-500 bg-red-50":"border-gray-300"}`,"aria-required":"true","aria-invalid":!!U.description,"aria-describedby":U.description?"edit-description-error":"edit-description-hint",placeholder:"Describe the training program objectives and content..."}),t.jsxs("p",{id:"edit-description-hint",className:"mt-1 text-xs text-gray-500",children:[O.description.length,"/500 characters"]}),U.description&&t.jsxs("p",{id:"edit-description-error",className:"mt-1.5 text-sm text-red-600 flex items-center gap-1",role:"alert",children:[t.jsx("i",{className:"ri-error-warning-line","aria-hidden":"true"}),U.description]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"edit-startDate",className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Start Date ",t.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("i",{className:"ri-calendar-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400","aria-hidden":"true"}),t.jsx("input",{type:"date",id:"edit-startDate",name:"startDate",value:O.startDate,onChange:xs,className:`w-full pl-10 pr-4 py-2.5 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-colors ${U.startDate?"border-red-500 bg-red-50":"border-gray-300"}`,"aria-required":"true","aria-invalid":!!U.startDate,"aria-describedby":U.startDate?"edit-startDate-error":void 0})]}),U.startDate&&t.jsxs("p",{id:"edit-startDate-error",className:"mt-1.5 text-sm text-red-600 flex items-center gap-1",role:"alert",children:[t.jsx("i",{className:"ri-error-warning-line","aria-hidden":"true"}),U.startDate]})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"edit-endDate",className:"block text-sm font-medium text-gray-700 mb-1.5",children:["End Date ",t.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("i",{className:"ri-calendar-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400","aria-hidden":"true"}),t.jsx("input",{type:"date",id:"edit-endDate",name:"endDate",value:O.endDate,onChange:xs,min:O.startDate||void 0,className:`w-full pl-10 pr-4 py-2.5 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-colors ${U.endDate?"border-red-500 bg-red-50":"border-gray-300"}`,"aria-required":"true","aria-invalid":!!U.endDate,"aria-describedby":U.endDate?"edit-endDate-error":void 0})]}),U.endDate&&t.jsxs("p",{id:"edit-endDate-error",className:"mt-1.5 text-sm text-red-600 flex items-center gap-1",role:"alert",children:[t.jsx("i",{className:"ri-error-warning-line","aria-hidden":"true"}),U.endDate]})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"edit-status",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Status"}),t.jsxs("div",{className:"relative",children:[t.jsx("i",{className:"ri-flag-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400","aria-hidden":"true"}),t.jsxs("select",{id:"edit-status",name:"status",value:O.status,onChange:xs,className:"w-full pl-10 pr-10 py-2.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-colors appearance-none bg-white cursor-pointer",children:[t.jsx("option",{value:"upcoming",children:"Upcoming"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"completed",children:"Completed"})]}),t.jsx("i",{className:"ri-arrow-down-s-line absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none","aria-hidden":"true"})]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-amber-50 rounded-lg border border-amber-200",children:[t.jsx("i",{className:"ri-alert-line text-amber-600 text-xl flex-shrink-0 mt-0.5","aria-hidden":"true"}),t.jsxs("div",{className:"text-sm text-amber-800",children:[t.jsx("p",{className:"font-medium mb-1",children:"Important"}),t.jsx("p",{children:"Changing the status or dates may affect enrolled students and scheduled sessions. Please review before saving."})]})]})]})}),!fe&&t.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[t.jsx(he,{type:"button",variant:"outline",onClick:Fa,children:"Cancel"}),t.jsx(he,{type:"submit",variant:"primary",disabled:Ne,icon:Ne?t.jsx("i",{className:"ri-loader-4-line animate-spin text-xl","aria-hidden":"true"}):t.jsx("i",{className:"ri-save-line text-xl","aria-hidden":"true"}),children:Ne?"Saving...":"Save Changes"})]})]})]})})]}),ue&&t.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",role:"dialog","aria-modal":"true","aria-labelledby":"assign-modal-title",children:[t.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:qt,"aria-hidden":"true"}),t.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:t.jsxs("div",{ref:dn,className:"relative w-full max-w-2xl bg-white rounded-xl shadow-xl transform transition-all",children:[t.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-9 h-9 flex items-center justify-center bg-teal-100 rounded-lg",children:t.jsx("i",{className:"ri-user-add-line text-lg text-teal-600","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("h2",{id:"assign-modal-title",className:"text-xl font-semibold text-gray-900",children:"Assign Students"}),t.jsx("p",{className:"text-sm text-gray-500",children:ke?.name})]})]}),t.jsx("button",{onClick:qt,className:"w-10 h-10 flex items-center justify-center rounded-lg text-gray-500 hover:text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-teal-500 transition-colors cursor-pointer","aria-label":"Close dialog",children:t.jsx("i",{className:"ri-close-line text-2xl","aria-hidden":"true"})})]}),t.jsx("div",{className:"px-6 py-5",children:Zt?t.jsxs("div",{className:"flex flex-col items-center justify-center py-8",role:"status","aria-live":"polite",children:[t.jsx("div",{className:"w-16 h-16 flex items-center justify-center bg-green-100 rounded-full mb-4",children:t.jsx("i",{className:"ri-check-line text-3xl text-green-600","aria-hidden":"true"})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Students Assigned Successfully!"}),t.jsxs("p",{className:"text-sm text-gray-600",children:[Ge.length," student(s) have been assigned to this training."]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400","aria-hidden":"true"}),t.jsx("input",{ref:Hs,type:"text",placeholder:"Search students by name or email...",value:nt,onChange:q=>At(q.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-colors","aria-label":"Search students"})]}),t.jsxs(he,{variant:"outline",size:"sm",onClick:Va,className:"flex-shrink-0",children:[t.jsx("i",{className:`${I.every(q=>Ge.includes(q.id))?"ri-checkbox-line":"ri-checkbox-blank-line"} mr-1`,"aria-hidden":"true"}),I.every(q=>Ge.includes(q.id))?"Deselect All":"Select All"]})]}),t.jsxs("div",{className:"flex items-center justify-between mb-3 px-1",children:[t.jsxs("span",{className:"text-sm text-gray-600",children:[I.length," student(s) found"]}),t.jsxs("span",{className:"text-sm font-medium text-teal-600",children:[Ge.length," selected"]})]}),t.jsx("div",{className:"max-h-[320px] overflow-y-auto border border-gray-200 rounded-lg",children:I.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[t.jsx("i",{className:"ri-user-search-line text-4xl mb-2","aria-hidden":"true"}),t.jsx("p",{className:"text-sm",children:"No students found matching your search"})]}):t.jsx("div",{className:"divide-y divide-gray-100",children:I.map(q=>{const me=Ge.includes(q.id),ve=ge(q.id),De=q.trainingId?c.find(tt=>tt.id===q.trainingId):null;return t.jsxs("label",{className:`flex items-center gap-4 p-4 cursor-pointer transition-colors hover:bg-gray-50 ${me?"bg-teal-50":""}`,children:[t.jsx("input",{type:"checkbox",checked:me,onChange:()=>fs(q.id),className:"w-5 h-5 rounded border-gray-300 text-teal-600 focus:ring-teal-500 cursor-pointer","aria-label":`Select ${q.firstName} ${q.lastName}`}),t.jsxs("div",{className:"w-10 h-10 flex items-center justify-center bg-gradient-to-br from-teal-500 to-teal-600 text-white rounded-full font-semibold text-sm flex-shrink-0",children:[q.firstName?.[0]||"?",q.lastName?.[0]||""]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("p",{className:"text-sm font-medium text-gray-900 truncate",children:[q.firstName," ",q.lastName]}),ve==="enrolled"&&t.jsxs(Ce,{variant:"success",size:"sm",children:[t.jsx("i",{className:"ri-check-line mr-0.5","aria-hidden":"true"}),"Enrolled"]}),ve==="other"&&t.jsxs(Ce,{variant:"warning",size:"sm",children:[t.jsx("i",{className:"ri-information-line mr-0.5","aria-hidden":"true"}),"In Other"]})]}),t.jsx("p",{className:"text-xs text-gray-500 truncate",children:q.email}),ve==="other"&&De&&t.jsxs("p",{className:"text-xs text-amber-600 mt-0.5",children:["Currently in: ",De.name]})]}),t.jsxs("div",{className:"flex-shrink-0 text-right hidden sm:block",children:[t.jsxs("p",{className:"text-xs text-gray-500",children:["Level ",q.currentLevel]}),t.jsxs("p",{className:"text-xs text-gray-400",children:[Da(q.id,q.trainingId).rate,"% attendance"]})]})]},q.id)})})}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-teal-50 rounded-lg mt-4",children:[t.jsx("i",{className:"ri-information-line text-teal-600 text-xl flex-shrink-0 mt-0.5","aria-hidden":"true"}),t.jsxs("div",{className:"text-sm text-teal-800",children:[t.jsx("p",{className:"font-medium mb-1",children:"Assignment Notes"}),t.jsxs("ul",{className:"list-disc list-inside space-y-0.5 text-xs",children:[t.jsx("li",{children:"Students already enrolled in this training are pre-selected"}),t.jsx("li",{children:"Students in other trainings will be transferred when assigned"}),t.jsx("li",{children:"New students will start at Level 1, Session 1"})]})]})]})]})}),!Zt&&t.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[t.jsx(he,{type:"button",variant:"outline",onClick:qt,children:"Cancel"}),t.jsx(he,{type:"button",variant:"primary",disabled:Ta||Ge.length===0,onClick:H,icon:Ta?t.jsx("i",{className:"ri-loader-4-line animate-spin text-xl","aria-hidden":"true"}):t.jsx("i",{className:"ri-user-add-line text-xl","aria-hidden":"true"}),children:Ta?"Assigning...":`Assign ${Ge.length} Student(s)`})]})]})})]})]})}const fN={title:"",description:"",creationMode:"AUTO"};function xN(){const l=Aa(),[i,r]=y.useState(fN),[c,d]=y.useState({}),[m,f]=y.useState(null),[h,p]=y.useState(!1),g=()=>{const L={};return i.title.trim()||(L.title="A title is required."),d(L),Object.keys(L).length===0},b=L=>{const{name:E,value:R}=L.target;r(D=>({...D,[E]:R})),c[E]&&d(D=>({...D,[E]:""}))},v=L=>{r(E=>({...E,creationMode:L.target.value}))},T=async L=>{if(L.preventDefault(),f(null),!!g()){p(!0);try{const E={title:i.title.trim(),description:i.description.trim()||null,creationMode:i.creationMode,levelsCount:4,sessionsPerLevel:6},R=await Ut.create(E);l(`/trainings/${R.id}`)}catch(E){const R=E?.response?.data?.message||"Unable to create the training.";f(R)}finally{p(!1)}}};return t.jsxs("div",{className:"min-h-screen bg-slate-50",children:[t.jsx(Nt,{}),t.jsxs("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("p",{className:"text-sm font-semibold text-teal-700 tracking-wide uppercase",children:"Responsable"}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mt-2",children:"Create a formation"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Define the training mode first. AUTO generates the full structure, MANUAL lets you build it step by step."})]}),t.jsxs("form",{onSubmit:T,className:"space-y-6",children:[t.jsx(xe,{children:t.jsxs("div",{className:"space-y-5",children:[t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-800",children:["Title ",t.jsx("span",{className:"text-red-600",children:"(required)"})]}),t.jsx("input",{id:"title",name:"title",type:"text",value:i.title,onChange:b,className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500","aria-required":"true","aria-invalid":!!c.title,"aria-describedby":c.title?"title-error":"title-help"}),t.jsx("p",{id:"title-help",className:"mt-1 text-xs text-gray-500",children:"Use a short, descriptive title."}),c.title&&t.jsx("p",{id:"title-error",className:"mt-2 text-sm text-red-600",role:"alert",children:c.title})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-800",children:["Description ",t.jsx("span",{className:"text-gray-500",children:"(optional)"})]}),t.jsx("textarea",{id:"description",name:"description",value:i.description,onChange:b,rows:4,className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Add objectives, expected outcomes, or any context for the formation."})]})]})}),t.jsx(xe,{children:t.jsxs("fieldset",{className:"space-y-4",children:[t.jsx("legend",{className:"text-sm font-semibold text-gray-800",children:"Creation mode"}),t.jsx("p",{id:"creation-mode-help",className:"text-xs text-gray-500",children:"AUTO creates all levels and sessions in one action. MANUAL lets you build levels and sessions step by step."}),t.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",role:"radiogroup","aria-describedby":"creation-mode-help",children:[t.jsxs("label",{className:"flex items-start gap-3 rounded-lg border border-gray-200 p-4 cursor-pointer focus-within:ring-2 focus-within:ring-teal-500",children:[t.jsx("input",{type:"radio",name:"creationMode",value:"AUTO",checked:i.creationMode==="AUTO",onChange:v,className:"mt-1 h-4 w-4 text-teal-600 focus:ring-teal-500"}),t.jsxs("span",{children:[t.jsx("span",{className:"block text-sm font-semibold text-gray-900",children:"AUTO (recommended)"}),t.jsx("span",{className:"block text-xs text-gray-500 mt-1",children:"Generate the full 4 Ã— 6 structure at once, then schedule sessions."})]})]}),t.jsxs("label",{className:"flex items-start gap-3 rounded-lg border border-gray-200 p-4 cursor-pointer focus-within:ring-2 focus-within:ring-teal-500",children:[t.jsx("input",{type:"radio",name:"creationMode",value:"MANUAL",checked:i.creationMode==="MANUAL",onChange:v,className:"mt-1 h-4 w-4 text-teal-600 focus:ring-teal-500"}),t.jsxs("span",{children:[t.jsx("span",{className:"block text-sm font-semibold text-gray-900",children:"MANUAL"}),t.jsx("span",{className:"block text-xs text-gray-500 mt-1",children:"Create levels and sessions one by one with explicit validation."})]})]})]})]})}),t.jsx(xe,{children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"Structure size"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This project uses fixed counts."})]}),t.jsxs("div",{className:"flex gap-4 text-sm",children:[t.jsxs("div",{className:"rounded-lg border border-gray-200 px-4 py-2",children:[t.jsx("span",{className:"block text-xs text-gray-500",children:"Levels"}),t.jsx("span",{className:"block text-base font-semibold text-gray-900",children:"4"})]}),t.jsxs("div",{className:"rounded-lg border border-gray-200 px-4 py-2",children:[t.jsx("span",{className:"block text-xs text-gray-500",children:"Sessions per level"}),t.jsx("span",{className:"block text-base font-semibold text-gray-900",children:"6"})]})]})]})}),m&&t.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",role:"alert",children:m}),t.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:items-center sm:justify-between gap-3",children:[t.jsx(he,{type:"button",variant:"outline",onClick:()=>l("/trainings"),children:"Back to formations"}),t.jsx(he,{type:"submit",disabled:h,children:h?"Creatingâ€¦":"Create formation"})]})]})]})]})}const ti=4,ai=6,hN=[{value:"MON",label:"Mon"},{value:"TUE",label:"Tue"},{value:"WED",label:"Wed"},{value:"THU",label:"Thu"},{value:"FRI",label:"Fri"},{value:"SAT",label:"Sat"},{value:"SUN",label:"Sun"}],zh=l=>l?l.length>=16?l.slice(0,16):l:"",kh=l=>l?l.length===16?`${l}:00`:l:null,gN=l=>{if(!l)return"Not scheduled";const i=new Date(l);return Number.isNaN(i.getTime())?l:i.toLocaleString("fr-FR",{weekday:"short",day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})},pN=l=>l||"PLANNED";function bN(){const{id:l}=Ud(),i=Aa(),r=Number(l),[c,d]=y.useState(null),[m,f]=y.useState(!0),[h,p]=y.useState(null),[g,b]=y.useState(null),[v,T]=y.useState(null),[L,E]=y.useState({}),[R,D]=y.useState(!1),[X,Q]=y.useState(!1),[P,le]=y.useState(null),[oe,ae]=y.useState(null),[Y,ie]=y.useState(null),[de,ue]=y.useState({}),[A,k]=y.useState(!1),[ee,ce]=y.useState(""),[V,S]=y.useState("fr"),[w,O]=y.useState({startDate:"",preferredDays:[],defaultDurationMin:"",defaultLocation:""}),[re,B]=y.useState(null),[N,U]=y.useState(!1),[ne,se]=y.useState(!1),[be,Ne]=y.useState(null),[Se,Je]=y.useState({}),[_,fe]=y.useState([]),[_e,nt]=y.useState(null),[At,Ge]=y.useState(!1),Ke=y.useRef(null),Ta=y.useRef(null),ia=H=>{const I=H?.response?.data?.code,ge=H?.response?.data?.message;return I==="STRUCTURE_LOCKED"?"Structure is locked because attendance already exists for this training.":ge||"Action failed. Please try again."},Zt=y.useCallback(async()=>{if(!r){p("Invalid training identifier."),f(!1);return}try{f(!0);const H=await Ut.getById(r);d(H),p(null)}catch(H){p(ia(H))}finally{f(!1)}},[r]);y.useEffect(()=>{Zt()},[Zt]),y.useEffect(()=>{if(!At){Ta.current?.focus();return}const H=Ke.current;if(!H)return;Ta.current=document.activeElement;const I=H.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),ge=I[0],pe=I[I.length-1];ge?.focus();const Ue=dt=>{if(dt.key==="Escape"){dt.preventDefault(),Ge(!1);return}dt.key!=="Tab"||I.length===0||(dt.shiftKey&&document.activeElement===ge?(dt.preventDefault(),pe.focus()):!dt.shiftKey&&document.activeElement===pe&&(dt.preventDefault(),ge.focus()))};return H.addEventListener("keydown",Ue),document.body.style.overflow="hidden",()=>{H.removeEventListener("keydown",Ue),document.body.style.overflow="unset"}},[At]);const Bt=(c?.levels??[]).slice().sort((H,I)=>H.levelIndex-I.levelIndex),qa=c?.creationMode==="AUTO",Ha=c?.creationMode==="MANUAL",dn=H=>({...H,globalConstraints:H.globalConstraints??{},levels:H.levels.map(I=>({...I,outcomes:I.outcomes??[],sessions:I.sessions.map(ge=>({...ge,materials:ge.materials??[],accessibilityNotes:ge.accessibilityNotes??[]}))}))}),un=()=>{const H=w.defaultDurationMin.trim();return{startDate:w.startDate||null,preferredDays:w.preferredDays.length>0?w.preferredDays:null,defaultDurationMin:H?Number(H):null,defaultLocation:w.defaultLocation.trim()||null}},St=async()=>{if(!ee.trim()){Ne("Please provide a short description for the formation.");return}Ne(null),U(!0),nt(null),fe([]),Je({});try{const H={promptText:ee.trim(),language:V,constraints:un()},I=await Ut.requestAiPlan(r,H),ge=dn(I.draftPlan);B(ge)}catch(H){nt(ia(H))}finally{U(!1)}},Hs=()=>{B(null),Je({}),fe([]),nt(null)},ke=H=>{const I={},ge=[];return(!H.training.title||H.training.title.trim().length<3)&&(I["training.title"]="Title must be at least 3 characters."),H.levels.length!==ti&&ge.push("The plan must contain exactly 4 levels."),H.levels.forEach(pe=>{(!pe.title||pe.title.trim().length<3)&&(I[`levels.${pe.levelIndex}.title`]="Level title is required."),pe.outcomes.length<2&&(I[`levels.${pe.levelIndex}.outcomes`]="At least 2 outcomes are required."),pe.sessions.length!==ai&&ge.push(`Level ${pe.levelIndex} must contain exactly 6 sessions.`),pe.sessions.forEach(Ue=>{(!Ue.title||Ue.title.trim().length<3)&&(I[`levels.${pe.levelIndex}.sessions.${Ue.sessionIndex}.title`]="Session title is required."),(!Ue.objective||Ue.objective.trim().length<5)&&(I[`levels.${pe.levelIndex}.sessions.${Ue.sessionIndex}.objective`]="Objective is required."),(!Ue.durationMin||Ue.durationMin<30||Ue.durationMin>240)&&(I[`levels.${pe.levelIndex}.sessions.${Ue.sessionIndex}.durationMin`]="Duration must be 30-240 minutes."),(!Ue.accessibilityNotes||Ue.accessibilityNotes.length<2)&&(I[`levels.${pe.levelIndex}.sessions.${Ue.sessionIndex}.accessibilityNotes`]="Add at least 2 accessibility notes.")})}),{errors:I,summary:ge}},mn=async()=>{if(!re)return;const H=ke(re);if(Je(H.errors),fe(H.summary),!(Object.keys(H.errors).length>0||H.summary.length>0)){se(!0),nt(null);try{await Ut.applyAiPlan(r,re),await Zt(),B(null),b("AI plan applied successfully.")}catch(I){nt(ia(I))}finally{se(!1)}}},Ra=H=>{B(I=>I&&H(I))},$a=(H,I)=>{Ra(ge=>({...ge,levels:ge.levels.map(pe=>pe.levelIndex===H?I(pe):pe)}))},It=(H,I,ge)=>{$a(H,pe=>({...pe,sessions:pe.sessions.map(Ue=>Ue.sessionIndex===I?ge(Ue):Ue)}))},ll=new Set(Bt.map(H=>H.levelIndex)),Da=Array.from({length:ti},(H,I)=>I+1).filter(H=>!ll.has(H)),ra=H=>{const I=new Set(H.sessions.map(ge=>ge.sessionIndex));return Array.from({length:ai},(ge,pe)=>pe+1).filter(ge=>!I.has(ge))},Ct=async()=>{if(c){T(null),b(null),D(!0);try{await Ut.generateStructure(c.id),await Zt(),b("Structure generated successfully.")}catch(H){T(ia(H))}finally{D(!1),Ge(!1)}}},ca=async()=>{if(!(!c||Da.length===0)){T(null),b(null),Q(!0);try{await Ut.createLevel(c.id,{levelIndex:Da[0]}),await Zt(),b("Level created successfully.")}catch(H){T(ia(H))}finally{Q(!1)}}},ot=async H=>{const I=ra(H);if(I.length!==0){T(null),b(null),le(H.id);try{await tl.createForLevel(H.id,{sessionIndex:I[0]}),await Zt(),b(`Session ${I[0]} created for Level ${H.levelIndex}.`)}catch(ge){T(ia(ge))}finally{le(null)}}},il=H=>{E(I=>({...I,[H]:!I[H]}))},Fa=H=>{ae(H.id),ie({startAt:zh(H.startAt),durationMin:`${H.durationMin??120}`,location:H.location??"",status:H.status??"PLANNED"}),ue({})},fn=()=>{ae(null),ie(null),ue({})},qt=H=>{if(!Y)return;const{name:I,value:ge}=H.target;ie({...Y,[I]:ge}),de[I]&&ue(pe=>({...pe,[I]:""}))},fs=async H=>{if(H.preventDefault(),!Y||!oe)return;const I={},ge=Number(Y.durationMin);if((!ge||Number.isNaN(ge)||ge<=0)&&(I.durationMin="Duration must be a positive number."),Y.status||(I.status="Status is required."),Object.keys(I).length>0){ue(I);return}k(!0),T(null),b(null);try{await tl.updateSchedule(oe,{startAt:kh(Y.startAt),durationMin:ge,location:Y.location?.trim()||null,status:Y.status}),await Zt(),b("Session schedule updated."),fn()}catch(pe){T(ia(pe))}finally{k(!1)}};if(m)return t.jsxs("div",{className:"min-h-screen bg-slate-50",children:[t.jsx(Nt,{}),t.jsx("main",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:t.jsx("p",{className:"text-sm text-gray-500",children:"Loading training detailsâ€¦"})})]});if(h||!c)return t.jsxs("div",{className:"min-h-screen bg-slate-50",children:[t.jsx(Nt,{}),t.jsx("main",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:t.jsxs(xe,{children:[t.jsx("p",{className:"text-sm text-red-600",children:h||"Training not found."}),t.jsx("div",{className:"mt-4",children:t.jsx(he,{type:"button",variant:"outline",onClick:()=>i("/trainings"),children:"Back to formations"})})]})})]});const Va=Bt.length;return t.jsxs("div",{className:"min-h-screen bg-slate-50",children:[t.jsx(Nt,{}),t.jsxs("main",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-10 space-y-6",children:[t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsx(he,{type:"button",variant:"outline",onClick:()=>i("/trainings"),children:"Back to formations"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-teal-700 tracking-wide uppercase",children:"Formation detail"}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mt-2",children:c.title}),c.description&&t.jsx("p",{className:"text-gray-600 mt-2 max-w-3xl",children:c.description})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs(Ce,{variant:c.creationMode==="AUTO"?"success":"neutral",children:["Mode: ",c.creationMode]}),t.jsxs(Ce,{variant:c.structureStatus==="GENERATED"?"success":"warning",children:["Structure: ",c.structureStatus==="GENERATED"?"Generated":"Not generated"]}),c.status&&t.jsxs(Ce,{variant:"info",children:["Status: ",c.status]})]})]}),(g||v)&&t.jsx("div",{className:`rounded-lg border px-4 py-3 text-sm ${v?"border-red-200 bg-red-50 text-red-700":"border-green-200 bg-green-50 text-green-700"}`,role:v?"alert":"status","aria-live":"polite",children:v||g}),t.jsx(xe,{children:t.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Start"}),t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:c.startDate||"Not set"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase text-gray-500",children:"End"}),t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:c.endDate||"Not set"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Levels created"}),t.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[Va,"/",ti]})]})]})}),qa&&t.jsxs(xe,{children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"AI Assist (AUTO only)"}),t.jsx("p",{className:"text-sm text-gray-600",children:"The assistant creates a draft plan only. You can edit it, then click Apply to write to the database."})]}),t.jsxs("div",{className:"mt-4 grid gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"ai-prompt",className:"block text-sm font-medium text-gray-800",children:["Description ",t.jsx("span",{className:"text-red-600",children:"(required)"})]}),t.jsx("textarea",{id:"ai-prompt",rows:4,value:ee,onChange:H=>{ce(H.target.value),Ne(null)},className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500","aria-invalid":!!be,"aria-describedby":be?"ai-prompt-error":"ai-prompt-help"}),t.jsx("p",{id:"ai-prompt-help",className:"mt-1 text-xs text-gray-500",children:"Provide goals, audience level, and any specific focus areas."}),be&&t.jsx("p",{id:"ai-prompt-error",className:"mt-2 text-sm text-red-600",role:"alert",children:be})]}),t.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"ai-language",className:"block text-sm font-medium text-gray-800",children:"Language"}),t.jsxs("select",{id:"ai-language",value:V,onChange:H=>S(H.target.value),className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:[t.jsx("option",{value:"fr",children:"FranÃ§ais"}),t.jsx("option",{value:"ar",children:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"}),t.jsx("option",{value:"en",children:"English"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"ai-start-date",className:"block text-sm font-medium text-gray-800",children:"Start date (optional)"}),t.jsx("input",{id:"ai-start-date",type:"date",value:w.startDate,onChange:H=>O(I=>({...I,startDate:H.target.value})),className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"ai-duration",className:"block text-sm font-medium text-gray-800",children:"Default duration (minutes)"}),t.jsx("input",{id:"ai-duration",type:"number",min:30,max:240,value:w.defaultDurationMin,onChange:H=>O(I=>({...I,defaultDurationMin:H.target.value})),className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"ai-location",className:"block text-sm font-medium text-gray-800",children:"Default location"}),t.jsx("input",{id:"ai-location",type:"text",value:w.defaultLocation,onChange:H=>O(I=>({...I,defaultLocation:H.target.value})),className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"})]})]}),t.jsxs("fieldset",{className:"rounded-lg border border-gray-200 p-4",children:[t.jsx("legend",{className:"text-sm font-medium text-gray-800",children:"Preferred days"}),t.jsx("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-4 gap-3",children:hN.map(H=>t.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[t.jsx("input",{type:"checkbox",checked:w.preferredDays.includes(H.value),onChange:I=>{O(ge=>{const pe=I.target.checked?[...ge.preferredDays,H.value]:ge.preferredDays.filter(Ue=>Ue!==H.value);return{...ge,preferredDays:pe}})},className:"h-4 w-4 rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),H.label]},H.value))})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsx(he,{type:"button",onClick:St,disabled:N,children:N?"Generatingâ€¦":"Generate draft"}),re&&t.jsxs(t.Fragment,{children:[t.jsx(he,{type:"button",variant:"outline",onClick:St,disabled:N,children:"Regenerate"}),t.jsx(he,{type:"button",variant:"outline",onClick:Hs,children:"Cancel draft"})]})]}),_e&&t.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",role:"alert",children:_e})]}),re&&t.jsxs("div",{className:"mt-6 space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Draft plan"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Edit the draft before applying it. Changes are saved only when you click Apply."})]}),_.length>0&&t.jsxs("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",role:"alert",children:[t.jsx("p",{className:"font-semibold mb-1",children:"Please fix the following issues:"}),t.jsx("ul",{className:"list-disc list-inside",children:_.map((H,I)=>t.jsx("li",{children:H},`${H}-${I}`))})]}),t.jsx(xe,{children:t.jsxs("div",{className:"grid gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"ai-training-title",className:"block text-sm font-medium text-gray-800",children:["Training title ",t.jsx("span",{className:"text-red-600",children:"(required)"})]}),t.jsx("input",{id:"ai-training-title",type:"text",value:re.training.title,onChange:H=>Ra(I=>({...I,training:{...I.training,title:H.target.value}})),className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500","aria-invalid":!!Se["training.title"],"aria-describedby":Se["training.title"]?"ai-training-title-error":void 0}),Se["training.title"]&&t.jsx("p",{id:"ai-training-title-error",className:"mt-2 text-sm text-red-600",role:"alert",children:Se["training.title"]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"ai-training-description",className:"block text-sm font-medium text-gray-800",children:"Training description"}),t.jsx("textarea",{id:"ai-training-description",rows:4,value:re.training.description,onChange:H=>Ra(I=>({...I,training:{...I.training,description:H.target.value}})),className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"})]})]})}),t.jsx("div",{className:"space-y-4",children:re.levels.map(H=>t.jsxs(xe,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h4",{className:"text-base font-semibold text-gray-900",children:["Level ",H.levelIndex]}),Se[`levels.${H.levelIndex}.title`]&&t.jsx("span",{className:"text-xs text-red-600",role:"alert",children:Se[`levels.${H.levelIndex}.title`]})]}),t.jsxs("div",{className:"mt-3 grid gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-800",children:["Level title ",t.jsx("span",{className:"text-red-600",children:"(required)"})]}),t.jsx("input",{type:"text",value:H.title,onChange:I=>$a(H.levelIndex,ge=>({...ge,title:I.target.value})),className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-800",children:["Outcomes ",t.jsx("span",{className:"text-red-600",children:"(min 2)"})]}),Se[`levels.${H.levelIndex}.outcomes`]&&t.jsx("span",{className:"text-xs text-red-600",role:"alert",children:Se[`levels.${H.levelIndex}.outcomes`]})]}),t.jsx("div",{className:"mt-2 space-y-2",children:H.outcomes.map((I,ge)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:I,onChange:pe=>$a(H.levelIndex,Ue=>{const dt=[...Ue.outcomes];return dt[ge]=pe.target.value,{...Ue,outcomes:dt}}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"}),t.jsx(he,{type:"button",variant:"outline",size:"sm",disabled:H.outcomes.length<=2,onClick:()=>$a(H.levelIndex,pe=>({...pe,outcomes:pe.outcomes.filter((Ue,dt)=>dt!==ge)})),children:"Remove"})]},`${H.levelIndex}-outcome-${ge}`))}),t.jsx("div",{className:"mt-2",children:t.jsx(he,{type:"button",variant:"outline",size:"sm",disabled:H.outcomes.length>=6,onClick:()=>$a(H.levelIndex,I=>({...I,outcomes:[...I.outcomes,""]})),children:"Add outcome"})})]}),t.jsx("div",{className:"space-y-3",children:H.sessions.map(I=>t.jsxs("details",{className:"rounded-lg border border-gray-200 p-4",children:[t.jsxs("summary",{className:"cursor-pointer text-sm font-semibold text-gray-900",children:["Session ",I.sessionIndex,": ",I.title||"Untitled"]}),t.jsxs("div",{className:"mt-4 grid gap-4 sm:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Title"}),t.jsx("input",{type:"text",value:I.title,onChange:ge=>It(H.levelIndex,I.sessionIndex,pe=>({...pe,title:ge.target.value})),className:"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"}),Se[`levels.${H.levelIndex}.sessions.${I.sessionIndex}.title`]&&t.jsx("p",{className:"mt-1 text-xs text-red-600",role:"alert",children:Se[`levels.${H.levelIndex}.sessions.${I.sessionIndex}.title`]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Objective"}),t.jsx("input",{type:"text",value:I.objective,onChange:ge=>It(H.levelIndex,I.sessionIndex,pe=>({...pe,objective:ge.target.value})),className:"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"}),Se[`levels.${H.levelIndex}.sessions.${I.sessionIndex}.objective`]&&t.jsx("p",{className:"mt-1 text-xs text-red-600",role:"alert",children:Se[`levels.${H.levelIndex}.sessions.${I.sessionIndex}.objective`]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Duration (min)"}),t.jsx("input",{type:"number",min:30,max:240,value:I.durationMin,onChange:ge=>It(H.levelIndex,I.sessionIndex,pe=>({...pe,durationMin:Number(ge.target.value)})),className:"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"}),Se[`levels.${H.levelIndex}.sessions.${I.sessionIndex}.durationMin`]&&t.jsx("p",{className:"mt-1 text-xs text-red-600",role:"alert",children:Se[`levels.${H.levelIndex}.sessions.${I.sessionIndex}.durationMin`]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Start date/time"}),t.jsx("input",{type:"datetime-local",value:zh(I.startAt||""),onChange:ge=>It(H.levelIndex,I.sessionIndex,pe=>({...pe,startAt:kh(ge.target.value)})),className:"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Location"}),t.jsx("input",{type:"text",value:I.location||"",onChange:ge=>It(H.levelIndex,I.sessionIndex,pe=>({...pe,location:ge.target.value})),className:"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Modality"}),t.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"IN_PERSON"})]}),t.jsxs("div",{className:"sm:col-span-2",children:[t.jsxs("label",{className:"block text-xs font-medium text-gray-700",children:["Accessibility notes ",t.jsx("span",{className:"text-red-600",children:"(min 2)"})]}),t.jsx("div",{className:"mt-2 space-y-2",children:I.accessibilityNotes.map((ge,pe)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:ge,onChange:Ue=>It(H.levelIndex,I.sessionIndex,dt=>{const oa=[...dt.accessibilityNotes];return oa[pe]=Ue.target.value,{...dt,accessibilityNotes:oa}}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"}),t.jsx(he,{type:"button",variant:"outline",size:"sm",disabled:I.accessibilityNotes.length<=2,onClick:()=>It(H.levelIndex,I.sessionIndex,Ue=>({...Ue,accessibilityNotes:Ue.accessibilityNotes.filter((dt,oa)=>oa!==pe)})),children:"Remove"})]},`note-${H.levelIndex}-${I.sessionIndex}-${pe}`))}),Se[`levels.${H.levelIndex}.sessions.${I.sessionIndex}.accessibilityNotes`]&&t.jsx("p",{className:"mt-1 text-xs text-red-600",role:"alert",children:Se[`levels.${H.levelIndex}.sessions.${I.sessionIndex}.accessibilityNotes`]}),t.jsx("div",{className:"mt-2",children:t.jsx(he,{type:"button",variant:"outline",size:"sm",disabled:I.accessibilityNotes.length>=8,onClick:()=>It(H.levelIndex,I.sessionIndex,ge=>({...ge,accessibilityNotes:[...ge.accessibilityNotes,""]})),children:"Add note"})})]})]})]},`${H.levelIndex}-${I.sessionIndex}`))})]})]},H.levelIndex))}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsx(he,{type:"button",onClick:mn,disabled:ne,children:ne?"Applyingâ€¦":"Apply"}),t.jsx(he,{type:"button",variant:"outline",onClick:Hs,children:"Cancel draft"})]})]})]}),qa&&t.jsx(xe,{children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"AUTO structure"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Generate 4 levels and 6 sessions per level. This writes to the database only after confirmation."})]}),t.jsx(he,{type:"button",variant:"primary",onClick:()=>Ge(!0),disabled:c.structureStatus==="GENERATED"||R,"aria-haspopup":"dialog",children:c.structureStatus==="GENERATED"?"Structure already generated":"Generate structure"})]})}),Ha&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs(xe,{children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Step A: Create levels"}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Progress: ",Va,"/",ti," levels created."]})]}),t.jsx(he,{type:"button",variant:"primary",onClick:ca,disabled:Da.length===0||X,children:Da.length===0?"All levels created":`Create level ${Da[0]}`})]}),t.jsx("div",{className:"mt-4 grid gap-3 sm:grid-cols-2",children:Array.from({length:ti},(H,I)=>I+1).map(H=>{const I=Bt.find(ge=>ge.levelIndex===H);return t.jsxs("div",{className:`rounded-lg border px-4 py-3 text-sm ${I?"border-teal-200 bg-teal-50":"border-gray-200 bg-white"}`,children:[t.jsxs("p",{className:"font-semibold text-gray-900",children:["Level ",H]}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:I?"Created":"Not created yet"})]},H)})})]}),t.jsxs(xe,{children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Step B: Create sessions per level"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Create sessions level by level. Each level requires 6 sessions."})]}),t.jsxs("div",{className:"mt-4 space-y-3",children:[Bt.length===0&&t.jsx("p",{className:"text-sm text-gray-500",children:"Create at least one level to start adding sessions."}),Bt.map(H=>{const I=ra(H),ge=ai-I.length;return t.jsx("div",{className:"rounded-lg border border-gray-200 p-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["Level ",H.levelIndex,": ",ge,"/",ai," sessions created"]}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Next missing session: ",I[0]?`#${I[0]}`:"None"]})]}),t.jsx(he,{type:"button",variant:"outline",size:"sm",onClick:()=>ot(H),disabled:I.length===0||P===H.id,children:I.length===0?"All sessions created":`Create session ${I[0]}`})]})},H.id)})]})]})]}),t.jsxs(xe,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Levels & sessions"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Accordion view with schedule editing"})]}),t.jsxs("div",{className:"mt-4 space-y-3",children:[Bt.length===0&&t.jsx("p",{className:"text-sm text-gray-500",children:"No levels yet."}),Bt.map(H=>{const I=L[H.id]??!1,ge=ra(H);return t.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white",children:[t.jsxs("button",{type:"button",onClick:()=>il(H.id),className:"w-full flex items-center justify-between gap-4 px-4 py-3 text-left focus:outline-none focus:ring-2 focus:ring-teal-500","aria-expanded":I,"aria-controls":`level-panel-${H.id}`,children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["Level ",H.levelIndex]}),t.jsx("p",{className:"text-xs text-gray-500",children:H.title})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(Ce,{variant:ge.length===0?"success":"warning",size:"sm",children:[H.sessions.length,"/",ai]}),t.jsx("i",{className:`ri-arrow-down-s-line text-xl text-gray-500 transition-transform ${I?"rotate-180":""}`,"aria-hidden":"true"})]})]}),I&&t.jsxs("div",{id:`level-panel-${H.id}`,role:"region","aria-label":`Sessions for level ${H.levelIndex}`,className:"border-t border-gray-200 px-4 py-4 space-y-3",children:[Ha&&ge.length>0&&t.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-lg bg-amber-50 px-3 py-2 text-xs text-amber-800",children:[t.jsxs("span",{children:["Missing sessions: ",ge.join(", ")]}),t.jsxs(he,{type:"button",variant:"outline",size:"sm",onClick:()=>ot(H),disabled:P===H.id,children:["Create session ",ge[0]]})]}),H.sessions.length===0&&t.jsx("p",{className:"text-sm text-gray-500",children:"No sessions yet for this level."}),H.sessions.map(pe=>{const Ue=oe===pe.id;return t.jsxs("div",{className:"rounded-lg border border-gray-200 p-4",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-3",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["Session ",pe.sessionIndex,": ",pe.title]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Status: ",pN(pe.status)]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Start: ",gN(pe.startAt)]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Duration: ",pe.durationMin??120," min"]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Location: ",pe.location||"Not set"]})]}),!Ue&&t.jsx(he,{type:"button",variant:"outline",size:"sm",onClick:()=>Fa(pe),children:"Edit schedule"})]}),Ue&&Y&&t.jsxs("form",{onSubmit:fs,className:"mt-4 grid gap-4 sm:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:`startAt-${pe.id}`,className:"block text-xs font-medium text-gray-700",children:"Start date/time"}),t.jsx("input",{id:`startAt-${pe.id}`,type:"datetime-local",name:"startAt",value:Y.startAt,onChange:qt,className:"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:`durationMin-${pe.id}`,className:"block text-xs font-medium text-gray-700",children:"Duration (minutes)"}),t.jsx("input",{id:`durationMin-${pe.id}`,type:"number",name:"durationMin",min:30,value:Y.durationMin,onChange:qt,className:"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500","aria-invalid":!!de.durationMin,"aria-describedby":de.durationMin?`duration-error-${pe.id}`:void 0}),de.durationMin&&t.jsx("p",{id:`duration-error-${pe.id}`,className:"mt-1 text-xs text-red-600",role:"alert",children:de.durationMin})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:`location-${pe.id}`,className:"block text-xs font-medium text-gray-700",children:"Location"}),t.jsx("input",{id:`location-${pe.id}`,type:"text",name:"location",value:Y.location,onChange:qt,className:"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:`status-${pe.id}`,className:"block text-xs font-medium text-gray-700",children:["Status ",t.jsx("span",{className:"text-red-600",children:"(required)"})]}),t.jsxs("select",{id:`status-${pe.id}`,name:"status",value:Y.status,onChange:qt,className:"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500","aria-invalid":!!de.status,"aria-describedby":de.status?`status-error-${pe.id}`:void 0,children:[t.jsx("option",{value:"PLANNED",children:"PLANNED"}),t.jsx("option",{value:"SCHEDULED",children:"SCHEDULED"}),t.jsx("option",{value:"COMPLETED",children:"COMPLETED"}),t.jsx("option",{value:"CANCELLED",children:"CANCELLED"})]}),de.status&&t.jsx("p",{id:`status-error-${pe.id}`,className:"mt-1 text-xs text-red-600",role:"alert",children:de.status})]}),t.jsxs("div",{className:"sm:col-span-2 flex flex-col sm:flex-row sm:items-center sm:justify-end gap-3",children:[t.jsx(he,{type:"button",variant:"outline",onClick:fn,children:"Cancel"}),t.jsx(he,{type:"submit",disabled:A,children:A?"Savingâ€¦":"Save schedule"})]})]})]},pe.id)})]})]},H.id)})]})]})]}),At&&t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6",role:"dialog","aria-modal":"true","aria-labelledby":"confirm-title",children:[t.jsx("div",{className:"fixed inset-0 bg-black/50","aria-hidden":"true"}),t.jsxs("div",{ref:Ke,className:"relative w-full max-w-md rounded-xl bg-white p-6 shadow-xl",children:[t.jsx("h2",{id:"confirm-title",className:"text-lg font-semibold text-gray-900",children:"Generate structure?"}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"This will create 4 levels and 6 sessions per level. It writes to the database only when you confirm."}),t.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row sm:justify-end gap-3",children:[t.jsx(he,{type:"button",variant:"outline",onClick:()=>Ge(!1),children:"Cancel"}),t.jsx(he,{type:"button",onClick:Ct,disabled:R,children:R?"Generatingâ€¦":"Confirm and generate"})]})]})]})]})}function yN(){const[l,i]=y.useState(1),[r,c]=y.useState(1),[d,m]=y.useState(1),[f,h]=y.useState({}),[p,g]=y.useState(!1),[b,v]=y.useState(!1),[T,L]=y.useState([]),[E,R]=y.useState([]),[D,X]=y.useState([]),[Q,P]=y.useState([1,2,3,4]),[le,oe]=y.useState(!1),[ae,Y]=y.useState(null),ie=na.getUserRole(),de=ie==="ADMIN"||ie==="RESPONSABLE";y.useEffect(()=>{window.innerWidth<768&&oe(!0),(async()=>{try{const[N,U]=await Promise.all([Ut.getAll(),ms.getAll()]),ne=U.map(se=>({...se,trainingId:se.training?.id??se.trainingId??null}));L(N),R(ne),N.length>0&&i(N[0].id)}catch(N){console.error("Failed to load attendance data",N)}})()},[]),y.useEffect(()=>{(async()=>{if(!l){X([]);return}try{const N=await tl.getByTraining(l),U=[...N].sort((se,be)=>{const Ne=(se.levelNumber??0)-(be.levelNumber??0);return Ne!==0?Ne:(se.sessionNumber??0)-(be.sessionNumber??0)});X(U);const ne=Array.from(new Set(N.map(se=>Number(se.levelNumber)).filter(se=>Number.isFinite(se)))).sort((se,be)=>se-be);P(ne.length>0?ne:[1,2,3,4]),ne.length>0&&!ne.includes(r)&&c(ne[0])}catch(N){console.error("Failed to load sessions",N),X([])}})()},[l,r]),y.useEffect(()=>{const B=D.filter(N=>Number(N.levelNumber)===Number(r));B.length>0?m(B[0].id):m(0)},[D,r]),y.useEffect(()=>{(async()=>{if(!d){h({});return}try{const N=await ii.getBySession(d),U={};N.forEach(ne=>{const se=ne.student?.id??ne.studentId;se!=null&&(U[Number(se)]=ne.status)}),h(U)}catch(N){console.error("Failed to load session attendance",N),h({})}})()},[d]);const ue=D.find(B=>B.id===d),A=ue?.startAt??ue?.date,k=A?new Date(A).toISOString().split("T")[0]:"",ee=E.filter(B=>B.trainingId===l),ce=(B,N)=>{h(U=>({...U,[B]:U[B]===N?null:N}))},S=(()=>{const B={present:0,absent:0,late:0,excused:0,unmarked:0};return ee.forEach(N=>{const U=f[N.id];U?B[U]++:B.unmarked++}),B})(),w=async()=>{if(Object.values(f).filter(N=>N!==null).length!==0){g(!0);try{const N=Object.entries(f).filter(([,se])=>se!==null).map(([se,be])=>({studentId:Number(se),status:be}));await ii.saveBulk({sessionId:d,date:k,records:N});const U=await ii.getBySession(d),ne={};U.forEach(se=>{const be=se.student?.id??se.studentId;be!=null&&(ne[Number(be)]=se.status)}),h(ne)}catch(N){console.error("Failed to save attendance",N)}Y({sessionTitle:ue?.title||"",date:k||"",totalStudents:ee.length,present:S.present,absent:S.absent,late:S.late}),g(!1),v(!0)}},O=()=>{h({})},re=()=>{v(!1),Y(null),h({})};return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Nt,{}),t.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Attendance Management"}),t.jsx("p",{className:"text-base text-gray-600",children:"Mark student attendance for training sessions"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-6",children:[t.jsxs(xe,{className:"lg:col-span-1",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Session Info"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"training-select",className:"block text-sm font-medium text-gray-700 mb-2",children:"Training"}),t.jsx("select",{id:"training-select",value:l,onChange:B=>i(Number(B.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:T.map(B=>t.jsx("option",{value:B.id,children:B.name},B.id))})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"level-select",className:"block text-sm font-medium text-gray-700 mb-2",children:"Level"}),t.jsx("select",{id:"level-select",value:r,onChange:B=>c(Number(B.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:Q.map(B=>t.jsxs("option",{value:B,children:["Level ",B]},B))})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"session-select",className:"block text-sm font-medium text-gray-700 mb-2",children:"Session"}),t.jsx("select",{id:"session-select",value:d,onChange:B=>m(Number(B.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:D.filter(B=>Number(B.levelNumber)===Number(r)).map(B=>t.jsxs("option",{value:B.id,children:["Session ",B.sessionNumber]},B.id))})]}),ue&&t.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:ue.title}),t.jsx("p",{className:"text-xs text-gray-600",children:A?new Date(A).toLocaleDateString():""}),t.jsxs("p",{className:"text-xs text-gray-600",children:[ue.durationMin??ue.duration??0," minutes"]})]})]})]}),t.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[t.jsx(xe,{padding:"sm",className:"bg-green-50 border-green-200",children:t.jsxs("div",{className:"text-center",children:[t.jsx("i",{className:"ri-checkbox-circle-line text-3xl text-green-600 mb-2","aria-hidden":"true"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S.present}),t.jsx("p",{className:"text-sm text-gray-600",children:"Present"})]})}),t.jsx(xe,{padding:"sm",className:"bg-red-50 border-red-200",children:t.jsxs("div",{className:"text-center",children:[t.jsx("i",{className:"ri-close-circle-line text-3xl text-red-600 mb-2","aria-hidden":"true"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S.absent}),t.jsx("p",{className:"text-sm text-gray-600",children:"Absent"})]})}),t.jsx(xe,{padding:"sm",className:"bg-amber-50 border-amber-200",children:t.jsxs("div",{className:"text-center",children:[t.jsx("i",{className:"ri-time-line text-3xl text-amber-600 mb-2","aria-hidden":"true"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S.late}),t.jsx("p",{className:"text-sm text-gray-600",children:"Late"})]})}),t.jsx(xe,{padding:"sm",className:"bg-gray-50 border-gray-200",children:t.jsxs("div",{className:"text-center",children:[t.jsx("i",{className:"ri-question-line text-3xl text-gray-600 mb-2","aria-hidden":"true"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S.unmarked}),t.jsx("p",{className:"text-sm text-gray-600",children:"Unmarked"})]})})]}),t.jsxs(xe,{children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Mark Attendance"}),t.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[t.jsxs("span",{children:[ee.length," students enrolled"]}),t.jsx("button",{onClick:()=>oe(!le),className:"px-3 py-1.5 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-100 transition-colors cursor-pointer",children:le?"Mode liste":"Mode rapide"})]})]}),le?t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:ee.map(B=>t.jsxs("div",{className:"p-4 bg-white rounded-xl border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsxs("div",{className:"w-12 h-12 flex items-center justify-center bg-teal-100 text-teal-700 rounded-full font-semibold text-lg",children:[B.firstName?.[0]||"?",B.lastName?.[0]||""]}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-semibold text-gray-900",children:[B.firstName," ",B.lastName]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Level ",B.currentLevel]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",role:"group","aria-label":`Attendance options for ${B.firstName} ${B.lastName}`,children:[t.jsx("button",{onClick:()=>ce(B.id,"present"),className:`px-4 py-3 rounded-lg font-semibold text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-green-500 cursor-pointer ${f[B.id]==="present"?"bg-green-600 text-white":"bg-green-50 text-green-700 border border-green-200"}`,"aria-pressed":f[B.id]==="present",children:"Present"}),t.jsx("button",{onClick:()=>ce(B.id,"absent"),className:`px-4 py-3 rounded-lg font-semibold text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 cursor-pointer ${f[B.id]==="absent"?"bg-red-600 text-white":"bg-red-50 text-red-700 border border-red-200"}`,"aria-pressed":f[B.id]==="absent",children:"Absent"}),t.jsx("button",{onClick:()=>ce(B.id,"late"),className:`px-4 py-3 rounded-lg font-semibold text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-amber-500 cursor-pointer ${f[B.id]==="late"?"bg-amber-600 text-white":"bg-amber-50 text-amber-700 border border-amber-200"}`,"aria-pressed":f[B.id]==="late",children:"Late"}),de?t.jsx("button",{onClick:()=>ce(B.id,"excused"),className:`px-4 py-3 rounded-lg font-semibold text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer ${f[B.id]==="excused"?"bg-blue-600 text-white":"bg-blue-50 text-blue-700 border border-blue-200"}`,"aria-pressed":f[B.id]==="excused",children:"Excused"}):t.jsx("div",{className:"px-4 py-3 rounded-lg bg-gray-50 text-gray-400 text-sm flex items-center justify-center",children:"N/A"})]})]},B.id))}):t.jsx("div",{className:"space-y-3",children:ee.map(B=>t.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[t.jsxs("div",{className:"w-10 h-10 flex items-center justify-center bg-teal-100 text-teal-700 rounded-full font-semibold",children:[B.firstName?.[0]||"?",B.lastName?.[0]||""]}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-gray-900",children:[B.firstName," ",B.lastName]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Level ",B.currentLevel]})]})]}),t.jsxs("div",{className:"flex gap-2",role:"group","aria-label":`Attendance options for ${B.firstName} ${B.lastName}`,children:[t.jsxs("button",{onClick:()=>ce(B.id,"present"),className:`flex-1 sm:flex-none px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-green-500 cursor-pointer whitespace-nowrap ${f[B.id]==="present"?"bg-green-600 text-white":"bg-white border-2 border-gray-300 text-gray-700 hover:border-green-600"}`,"aria-pressed":f[B.id]==="present",children:[t.jsx("i",{className:"ri-checkbox-circle-line mr-1","aria-hidden":"true"}),"Present"]}),t.jsxs("button",{onClick:()=>ce(B.id,"absent"),className:`flex-1 sm:flex-none px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 cursor-pointer whitespace-nowrap ${f[B.id]==="absent"?"bg-red-600 text-white":"bg-white border-2 border-gray-300 text-gray-700 hover:border-red-600"}`,"aria-pressed":f[B.id]==="absent",children:[t.jsx("i",{className:"ri-close-circle-line mr-1","aria-hidden":"true"}),"Absent"]}),t.jsxs("button",{onClick:()=>ce(B.id,"late"),className:`flex-1 sm:flex-none px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-amber-500 cursor-pointer whitespace-nowrap ${f[B.id]==="late"?"bg-amber-600 text-white":"bg-white border-2 border-gray-300 text-gray-700 hover:border-amber-600"}`,"aria-pressed":f[B.id]==="late",children:[t.jsx("i",{className:"ri-time-line mr-1","aria-hidden":"true"}),"Late"]}),de&&t.jsxs("button",{onClick:()=>ce(B.id,"excused"),className:`flex-1 sm:flex-none px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer whitespace-nowrap ${f[B.id]==="excused"?"bg-blue-600 text-white":"bg-white border-2 border-gray-300 text-gray-700 hover:border-blue-600"}`,"aria-pressed":f[B.id]==="excused",children:[t.jsx("i",{className:"ri-information-line mr-1","aria-hidden":"true"}),"Excused"]})]})]})},B.id))}),t.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 flex gap-3",children:[t.jsx(he,{variant:"primary",fullWidth:!0,onClick:w,disabled:p||S.unmarked===ee.length,children:p?t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"ri-loader-4-line animate-spin","aria-hidden":"true"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"ri-save-line","aria-hidden":"true"}),"Save Attendance"]})}),t.jsxs(he,{variant:"outline",fullWidth:!0,onClick:O,disabled:p||S.unmarked===ee.length,children:[t.jsx("i",{className:"ri-refresh-line","aria-hidden":"true"}),"Reset"]})]}),S.unmarked===ee.length&&t.jsxs("p",{className:"mt-3 text-sm text-amber-600 flex items-center gap-2",children:[t.jsx("i",{className:"ri-information-line","aria-hidden":"true"}),"Please mark attendance for at least one student before saving."]})]})]})]})]}),b&&ae&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"success-title",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6 animate-in fade-in zoom-in duration-200",onClick:B=>B.stopPropagation(),children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("div",{className:"w-16 h-16 flex items-center justify-center bg-green-100 rounded-full mx-auto mb-4",children:t.jsx("i",{className:"ri-checkbox-circle-fill text-4xl text-green-600","aria-hidden":"true"})}),t.jsx("h3",{id:"success-title",className:"text-xl font-bold text-gray-900 mb-2",children:"Attendance Saved Successfully!"}),t.jsx("p",{className:"text-gray-600",children:"The attendance records have been saved."})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Summary"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Session:"}),t.jsx("span",{className:"font-medium text-gray-900",children:ae.sessionTitle})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Date:"}),t.jsx("span",{className:"font-medium text-gray-900",children:new Date(ae.date).toLocaleDateString()})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Total Students:"}),t.jsx("span",{className:"font-medium text-gray-900",children:ae.totalStudents})]}),t.jsxs("div",{className:"pt-2 border-t border-gray-200 mt-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[t.jsx("i",{className:"ri-checkbox-circle-line","aria-hidden":"true"}),"Present"]}),t.jsx("span",{className:"font-medium text-gray-900",children:ae.present})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{className:"text-red-600 flex items-center gap-1",children:[t.jsx("i",{className:"ri-close-circle-line","aria-hidden":"true"}),"Absent"]}),t.jsx("span",{className:"font-medium text-gray-900",children:ae.absent})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{className:"text-amber-600 flex items-center gap-1",children:[t.jsx("i",{className:"ri-time-line","aria-hidden":"true"}),"Late"]}),t.jsx("span",{className:"font-medium text-gray-900",children:ae.late})]})]})]})]}),t.jsx("div",{className:"flex gap-3",children:t.jsxs(he,{variant:"primary",fullWidth:!0,onClick:re,children:[t.jsx("i",{className:"ri-check-line","aria-hidden":"true"}),"Done"]})})]})})]})}const Uh={getAll:async()=>(await Re.get("/certificates")).data,getByStudent:async l=>(await Re.get("/certificates",{params:{studentId:l}})).data,create:async l=>(await Re.post("/certificates",l)).data};function vN(){const[l,i]=y.useState(null),[r,c]=y.useState(!1),[d,m]=y.useState(!1),[f,h]=y.useState(!1),[p,g]=y.useState(""),[b,v]=y.useState(!1),[T,L]=y.useState(""),[E,R]=y.useState("info"),[D,X]=y.useState(!1),[Q,P]=y.useState([]),[le,oe]=y.useState([]),[ae,Y]=y.useState([]),[ie,de]=y.useState([]),ue=y.useRef(null),A=y.useRef(null);y.useEffect(()=>{(async()=>{try{const[fe,_e,nt,At]=await Promise.all([ms.getProgressAll(),Ut.getAll(),tl.getAll(),Uh.getAll()]),Ge=fe.map(Ke=>({id:Ke.studentId??Ke.id,firstName:Ke.firstName,lastName:Ke.lastName,email:Ke.email,phone:Ke.phone,enrollmentDate:Ke.enrollmentDate,status:Ke.status,trainingId:Ke.trainingId??null,currentLevel:Ke.currentLevel??1,totalSessions:Ke.totalSessions??0,completedSessions:Ke.completedSessions??0,attendanceRate:Ke.attendanceRate??0,eligibleForCertification:Ke.eligibleForCertification??!1,blockReason:Ke.blockReason,trainingName:Ke.trainingName}));P(Ge),oe(_e),Y(nt),de(At)}catch(fe){console.error("Failed to load certification data",fe)}})()},[]);const k=Q.filter(_=>_.eligibleForCertification),ee=Q.filter(_=>!_.eligibleForCertification&&_.currentLevel===4),ce=_=>le.find(fe=>fe.id===_)?.name||Q.find(fe=>fe.trainingId===_)?.trainingName||"Unknown",V=_=>ae.filter(fe=>(fe.training?.id??fe.trainingId)===_),S=_=>{const fe=new Set(V(_).map(_e=>Number(_e.levelNumber)).filter(_e=>Number.isFinite(_e)));return fe.size>0?fe.size:4},w=_=>_.blockReason&&_.blockReason.trim()!==""?_.blockReason:_.completedSessions<_.totalSessions?`Missing ${_.totalSessions-_.completedSessions} sessions`:_.attendanceRate<80?`Attendance rate below 80% (${_.attendanceRate}%)`:"Requirements not met",O=_=>{i(_);const fe=ie.find(_e=>(_e.student?.id??_e.studentId)===_.id&&(_e.training?.id??_e.trainingId)===_.trainingId);fe?.certificateId?(g(fe.certificateId),h(!0)):(g(""),h(!1)),c(!0)},re=async()=>{if(l){m(!0);try{const _=await Uh.create({studentId:l.id,trainingId:l.trainingId});g(_.certificateId),h(!0),de(fe=>fe.find(nt=>nt.id===_.id)?fe.map(nt=>nt.id===_.id?_:nt):[...fe,_])}catch(_){L(_?.response?.data||"Failed to generate certificate"),R("info"),v(!0),setTimeout(()=>v(!1),4e3)}finally{m(!1)}}},B=()=>{X(!0),setTimeout(()=>{const _=l?S(l.trainingId):4,fe=l?.completedSessions??0,_e=`
ASTBA - Certificate of Completion
=====================================

This certifies that

${l?.firstName} ${l?.lastName}

has successfully completed

${ce(l?.trainingId||0)}

Completion Details:
- Levels Completed: ${_}
- Sessions Attended: ${fe}
- Attendance Rate: ${l?.attendanceRate}%

Certificate ID: ${p}
Issue Date: ${new Date().toLocaleDateString()}

=====================================
ASTBA Training Academy
      `,nt=new Blob([_e],{type:"text/plain"}),At=URL.createObjectURL(nt),Ge=document.createElement("a");Ge.href=At,Ge.download=`Certificate_${l?.firstName}_${l?.lastName}_${p}.txt`,document.body.appendChild(Ge),Ge.click(),document.body.removeChild(Ge),URL.revokeObjectURL(At),X(!1),L("Certificate downloaded successfully!"),R("success"),v(!0),setTimeout(()=>v(!1),4e3)},1500)},N=()=>{L("Please select a student and generate their certificate first to download."),R("info"),v(!0),setTimeout(()=>v(!1),4e3)},U=()=>{L("Please select a student and generate their certificate first to print."),R("info"),v(!0),setTimeout(()=>v(!1),4e3)},ne=()=>{window.print()},se=()=>{c(!1),i(null),h(!1)},be=l?`${l.firstName} ${l.lastName}`:"Student Name",Ne=l?ce(l.trainingId):"Training Program Name",Se=l?S(l.trainingId):4,Je=l?.totalSessions??24;return y.useEffect(()=>{r&&A.current&&A.current.focus();const _=fe=>{fe.key==="Escape"&&r&&se()};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Nt,{}),b&&t.jsx("div",{className:"fixed top-4 right-4 z-50 animate-fade-in",children:t.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg ${E==="success"?"bg-green-600 text-white":"bg-gray-800 text-white"}`,children:[t.jsx("i",{className:`${E==="success"?"ri-check-circle-line":"ri-information-line"} text-xl`,"aria-hidden":"true"}),t.jsx("p",{className:"text-sm font-medium",children:T}),t.jsx("button",{onClick:()=>v(!1),className:"ml-2 w-6 h-6 flex items-center justify-center hover:bg-white/20 rounded transition-colors cursor-pointer","aria-label":"Close notification",children:t.jsx("i",{className:"ri-close-line","aria-hidden":"true"})})]})}),t.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Certification Management"}),t.jsx("p",{className:"text-base text-gray-600",children:"Generate and manage training certificates"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[t.jsx(xe,{className:"bg-gradient-to-br from-green-50 to-white border-green-200",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-14 h-14 flex items-center justify-center bg-green-600 rounded-lg",children:t.jsx("i",{className:"ri-award-line text-3xl text-white","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Eligible Students"}),t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:k.length})]})]})}),t.jsx(xe,{className:"bg-gradient-to-br from-amber-50 to-white border-amber-200",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-14 h-14 flex items-center justify-center bg-amber-600 rounded-lg",children:t.jsx("i",{className:"ri-alert-line text-3xl text-white","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Blocked Students"}),t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:ee.length})]})]})}),t.jsx(xe,{className:"bg-gradient-to-br from-teal-50 to-white border-teal-200",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-14 h-14 flex items-center justify-center bg-teal-600 rounded-lg",children:t.jsx("i",{className:"ri-file-text-line text-3xl text-white","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Certificates Issued"}),t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:ie.length})]})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(xe,{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Eligible for Certification"}),t.jsx(Ce,{variant:"success",children:k.length})]}),k.length>0?t.jsx("div",{className:"space-y-4",children:k.map(_=>t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border-2 border-green-200",children:[t.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[t.jsxs("div",{className:"w-12 h-12 flex items-center justify-center bg-green-600 text-white rounded-full font-semibold text-lg",children:[_.firstName?.[0]||"?",_.lastName?.[0]||""]}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("h3",{className:"font-semibold text-gray-900 mb-1",children:[_.firstName," ",_.lastName]}),t.jsx("p",{className:"text-sm text-gray-600",children:ce(_.trainingId)}),t.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"ri-checkbox-circle-line text-green-600","aria-hidden":"true"}),"All sessions completed"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"ri-bar-chart-line text-green-600","aria-hidden":"true"}),_.attendanceRate,"% attendance"]})]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(he,{variant:"success",size:"sm",fullWidth:!0,onClick:()=>O(_),children:[t.jsx("i",{className:"ri-file-download-line","aria-hidden":"true"}),"Generate Certificate"]}),t.jsxs(he,{variant:"outline",size:"sm",children:[t.jsx("i",{className:"ri-eye-line","aria-hidden":"true"}),"Preview"]})]})]},_.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("i",{className:"ri-award-line text-6xl text-gray-300 mb-4","aria-hidden":"true"}),t.jsx("p",{className:"text-sm text-gray-600",children:"No students eligible for certification yet"})]})]}),t.jsxs(xe,{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Blocked from Certification"}),t.jsx(Ce,{variant:"warning",children:ee.length})]}),ee.length>0?t.jsx("div",{className:"space-y-4",children:ee.map(_=>t.jsxs("div",{className:"p-4 bg-amber-50 rounded-lg border-2 border-amber-200",children:[t.jsxs("div",{className:"flex items-start gap-4 mb-3",children:[t.jsxs("div",{className:"w-12 h-12 flex items-center justify-center bg-amber-600 text-white rounded-full font-semibold text-lg",children:[_.firstName?.[0]||"?",_.lastName?.[0]||""]}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("h3",{className:"font-semibold text-gray-900 mb-1",children:[_.firstName," ",_.lastName]}),t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:ce(_.trainingId)}),t.jsxs("div",{className:"flex items-start gap-2 p-3 bg-white rounded-lg border border-amber-300",children:[t.jsx("i",{className:"ri-information-line text-amber-600 text-lg mt-0.5","aria-hidden":"true"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Why certification is blocked:"}),t.jsx("p",{className:"text-sm text-gray-700",children:w(_)})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[t.jsxs("div",{className:"p-2 bg-white rounded border border-amber-200",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Progress"}),t.jsxs("p",{className:"font-semibold text-gray-900",children:[_.completedSessions,"/",_.totalSessions]})]}),t.jsxs("div",{className:"p-2 bg-white rounded border border-amber-200",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Attendance"}),t.jsxs("p",{className:"font-semibold text-gray-900",children:[_.attendanceRate,"%"]})]})]})]},_.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("i",{className:"ri-checkbox-circle-line text-6xl text-green-300 mb-4","aria-hidden":"true"}),t.jsx("p",{className:"text-sm text-gray-600",children:"All Level 4 students are eligible"})]})]})]}),t.jsxs(xe,{className:"mt-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Certificate Preview"}),t.jsxs("div",{className:"bg-white border-4 border-teal-600 rounded-lg p-12 text-center max-w-3xl mx-auto",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("img",{src:"https://static.readdy.ai/image/bf4e711212c75bfc790e10d1f48c04b1/405300009b422c3bf3fc7c3883a1975c.png",alt:"ASTBA Logo",className:"h-16 w-auto mx-auto mb-4"}),t.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Certificate of Completion"}),t.jsx("p",{className:"text-base text-gray-600",children:"This certifies that"})]}),t.jsxs("div",{className:"my-8",children:[t.jsx("p",{className:"text-4xl font-bold text-teal-600 mb-4",children:be}),t.jsx("p",{className:"text-lg text-gray-700 mb-2",children:"has successfully completed"}),t.jsx("p",{className:"text-2xl font-semibold text-gray-900 mb-6",children:Ne}),t.jsxs("p",{className:"text-base text-gray-600",children:["Completed all ",Se," levels with ",Je," sessions"]})]}),t.jsxs("div",{className:"flex justify-between items-end pt-8 border-t-2 border-gray-300",children:[t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:"border-t-2 border-gray-900 pt-2 mb-1",children:t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Instructor Signature"})}),t.jsxs("p",{className:"text-xs text-gray-600",children:["Date: ",new Date().toLocaleDateString()]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"border-t-2 border-gray-900 pt-2 mb-1",children:t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Director Signature"})}),t.jsxs("p",{className:"text-xs text-gray-600",children:["Certificate ID: ",p||"ASTBA-XXXX-0000"]})]})]})]}),t.jsxs("div",{className:"flex justify-center gap-3 mt-6",children:[t.jsxs(he,{variant:"primary",onClick:U,children:[t.jsx("i",{className:"ri-printer-line","aria-hidden":"true"}),"Print Certificate"]}),t.jsxs(he,{variant:"outline",onClick:N,children:[t.jsx("i",{className:"ri-download-line","aria-hidden":"true"}),"Download PDF"]})]})]})]}),r&&l&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"generate-certificate-title",children:t.jsxs("div",{ref:ue,className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[t.jsxs("div",{children:[t.jsx("h2",{id:"generate-certificate-title",className:"text-xl font-semibold text-gray-900",children:f?"Certificate Generated!":"Generate Certificate"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f?"The certificate is ready for download or printing":`For ${l.firstName} ${l.lastName}`})]}),t.jsx("button",{ref:A,onClick:se,className:"w-10 h-10 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500","aria-label":"Close modal",children:t.jsx("i",{className:"ri-close-line text-xl text-gray-500","aria-hidden":"true"})})]}),t.jsxs("div",{className:"p-6",children:[f&&t.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-green-600 rounded-full",children:t.jsx("i",{className:"ri-check-line text-xl text-white","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-green-800",children:"Certificate Successfully Generated"}),t.jsxs("p",{className:"text-sm text-green-700",children:["Certificate ID: ",p]})]})]}),t.jsxs("div",{className:"bg-white border-4 border-teal-600 rounded-lg p-8 md:p-12 text-center print:border-2",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("img",{src:"https://static.readdy.ai/image/bf4e711212c75bfc790e10d1f48c04b1/405300009b422c3bf3fc7c3883a1975c.png",alt:"ASTBA Logo",className:"h-14 w-auto mx-auto mb-4"}),t.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:"Certificate of Completion"}),t.jsx("p",{className:"text-base text-gray-600",children:"This certifies that"})]}),t.jsxs("div",{className:"my-6 md:my-8",children:[t.jsxs("p",{className:"text-3xl md:text-4xl font-bold text-teal-600 mb-4",children:[l.firstName," ",l.lastName]}),t.jsx("p",{className:"text-lg text-gray-700 mb-2",children:"has successfully completed"}),t.jsx("p",{className:"text-xl md:text-2xl font-semibold text-gray-900 mb-4",children:ce(l.trainingId)}),t.jsxs("div",{className:"flex flex-wrap justify-center gap-4 text-sm text-gray-600",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"ri-stack-line text-teal-600","aria-hidden":"true"}),S(l.trainingId)," Levels Completed"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"ri-calendar-check-line text-teal-600","aria-hidden":"true"}),l.completedSessions," Sessions Attended"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"ri-bar-chart-line text-teal-600","aria-hidden":"true"}),l.attendanceRate,"% Attendance"]})]})]}),t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end pt-6 md:pt-8 border-t-2 border-gray-300 gap-6",children:[t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:"border-t-2 border-gray-900 pt-2 mb-1 min-w-[150px]",children:t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Instructor Signature"})}),t.jsxs("p",{className:"text-xs text-gray-600",children:["Date: ",new Date().toLocaleDateString()]})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 flex items-center justify-center mx-auto mb-2",children:t.jsx("i",{className:"ri-award-fill text-5xl text-teal-600","aria-hidden":"true"})}),t.jsx("p",{className:"text-xs text-gray-600",children:"Official Seal"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"border-t-2 border-gray-900 pt-2 mb-1 min-w-[150px]",children:t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Director Signature"})}),t.jsxs("p",{className:"text-xs text-gray-600",children:["Certificate ID: ",p]})]})]})]}),!f&&t.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Student Details"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-600",children:"Email"}),t.jsx("p",{className:"font-medium text-gray-900",children:l.email})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-600",children:"Enrollment Date"}),t.jsx("p",{className:"font-medium text-gray-900",children:new Date(l.enrollmentDate).toLocaleDateString()})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-600",children:"Sessions Completed"}),t.jsxs("p",{className:"font-medium text-gray-900",children:[l.completedSessions,"/",l.totalSessions]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-600",children:"Attendance Rate"}),t.jsxs("p",{className:"font-medium text-gray-900",children:[l.attendanceRate,"%"]})]})]})]}),!f&&t.jsxs("div",{className:"mt-4 p-4 bg-teal-50 border border-teal-200 rounded-lg flex items-start gap-3",children:[t.jsx("i",{className:"ri-information-line text-teal-600 text-lg mt-0.5","aria-hidden":"true"}),t.jsxs("div",{className:"text-sm text-teal-800",children:[t.jsx("p",{className:"font-medium mb-1",children:"Certificate Generation"}),t.jsx("p",{children:"Once generated, this certificate will be recorded in the system and can be downloaded or printed at any time. The certificate ID will be unique and verifiable."})]})]})]}),t.jsx("div",{className:"flex flex-col sm:flex-row justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:f?t.jsxs(t.Fragment,{children:[t.jsxs(he,{variant:"outline",onClick:ne,children:[t.jsx("i",{className:"ri-printer-line","aria-hidden":"true"}),"Print Certificate"]}),t.jsx(he,{variant:"primary",onClick:B,disabled:D,children:D?t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"ri-loader-4-line animate-spin","aria-hidden":"true"}),"Downloading..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"ri-download-line","aria-hidden":"true"}),"Download PDF"]})}),t.jsxs(he,{variant:"success",onClick:se,children:[t.jsx("i",{className:"ri-check-line","aria-hidden":"true"}),"Done"]})]}):t.jsxs(t.Fragment,{children:[t.jsx(he,{variant:"outline",onClick:se,children:"Cancel"}),t.jsx(he,{variant:"success",onClick:re,disabled:d,children:d?t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"ri-loader-4-line animate-spin","aria-hidden":"true"}),"Generating..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"ri-file-download-line","aria-hidden":"true"}),"Generate Certificate"]})})]})})]})})]})}const _h=[{id:1,firstName:"Emma",lastName:"Johnson",email:"emma.johnson@email.com",phone:"+1 555-0101",enrollmentDate:"2024-01-15",status:"active",trainingId:1,currentLevel:2,completedSessions:12,totalSessions:24,attendanceRate:95,eligibleForCertification:!1},{id:2,firstName:"Michael",lastName:"Chen",email:"michael.chen@email.com",phone:"+1 555-0102",enrollmentDate:"2024-01-20",status:"active",trainingId:1,currentLevel:4,completedSessions:24,totalSessions:24,attendanceRate:100,eligibleForCertification:!0},{id:3,firstName:"Sarah",lastName:"Williams",email:"sarah.williams@email.com",phone:"+1 555-0103",enrollmentDate:"2024-02-01",status:"active",trainingId:2,currentLevel:3,completedSessions:16,totalSessions:24,attendanceRate:88,eligibleForCertification:!1},{id:4,firstName:"James",lastName:"Martinez",email:"james.martinez@email.com",phone:"+1 555-0104",enrollmentDate:"2024-01-10",status:"active",trainingId:1,currentLevel:4,completedSessions:23,totalSessions:24,attendanceRate:96,eligibleForCertification:!1},{id:5,firstName:"Olivia",lastName:"Brown",email:"olivia.brown@email.com",phone:"+1 555-0105",enrollmentDate:"2024-02-15",status:"active",trainingId:2,currentLevel:1,completedSessions:5,totalSessions:24,attendanceRate:83,eligibleForCertification:!1},{id:6,firstName:"David",lastName:"Lee",email:"david.lee@email.com",phone:"+1 555-0106",enrollmentDate:"2024-01-25",status:"active",trainingId:3,currentLevel:2,completedSessions:11,totalSessions:24,attendanceRate:92,eligibleForCertification:!1}],Sd={get:async()=>(await Re.get("/preferences/me")).data,update:async l=>(await Re.put("/preferences/me",l)).data},Ua={fontSize:"medium",contrast:"normal",animations:!0,screenReader:!0,focusHighlight:!0,lineSpacing:"normal",cursorSize:"normal",colorBlindMode:"none",simplifyUi:!1};function jN(){const[l,i]=y.useState(Ua),[r,c]=y.useState(Ua),[d,m]=y.useState(!1),[f,h]=y.useState(!1),[p,g]=y.useState(""),[b,v]=y.useState("success"),[T,L]=y.useState([]),[E,R]=y.useState(!1),[D,X]=y.useState(null),[Q,P]=y.useState({visualImpairment:!1,hearingImpairment:!1,motorImpairment:!1,cognitiveSupport:!1,notes:""}),[le,oe]=y.useState(!1),ae=y.useCallback(w=>{const O=document.documentElement,re={small:"14px",medium:"16px",large:"18px",xlarge:"20px"};O.style.fontSize=re[w.fontSize]||"16px",O.classList.toggle("high-contrast",w.contrast==="high"),w.animations?(O.style.removeProperty("--animation-duration"),O.classList.remove("reduce-motion")):(O.style.setProperty("--animation-duration","0s"),O.classList.add("reduce-motion")),O.classList.toggle("enhanced-focus",w.focusHighlight);const B={compact:"1.4",normal:"1.6",relaxed:"1.8",loose:"2"};O.style.lineHeight=B[w.lineSpacing]||"1.6",w.cursorSize==="large"?O.classList.add("large-cursor"):O.classList.remove("large-cursor"),O.classList.remove("protanopia","deuteranopia","tritanopia"),w.colorBlindMode!=="none"&&O.classList.add(w.colorBlindMode),O.classList.toggle("simplify-ui",w.simplifyUi)},[]);y.useEffect(()=>{(async()=>{let O=Ua,re=!1;try{const N=await Sd.get();N&&(O={...Ua,...N},re=!0)}catch(N){console.error("Failed to load preferences",N)}if(!re){const N=localStorage.getItem("accessibilitySettings");N&&(O={...Ua,...JSON.parse(N)})}i(O),c(O),ae(O);const B=localStorage.getItem("studentAccommodations");B&&L(JSON.parse(B))})()},[ae]),y.useEffect(()=>{m(JSON.stringify(l)!==JSON.stringify(r))},[l,r]);const Y=(w,O="success")=>{g(w),v(O),h(!0),setTimeout(()=>h(!1),3e3)},ie=async()=>{try{await Sd.update(l),localStorage.setItem("accessibilitySettings",JSON.stringify(l)),c(l),ae(l),oe(!1),Y("Param??tres sauvegard??s avec succ??s !")}catch(w){console.error("Failed to save preferences",w),Y("Echec de sauvegarde des param??tres","info")}},de=async()=>{try{await Sd.update(Ua)}catch(w){console.error("Failed to reset preferences",w)}i(Ua),localStorage.setItem("accessibilitySettings",JSON.stringify(Ua)),c(Ua),ae(Ua),oe(!1),Y("Param??tres r??initialis??s par d??faut","info")},ue=()=>{le?(ae(r),oe(!1)):(ae(l),oe(!0))},A=(w,O)=>{i(re=>({...re,[w]:O})),le&&ae({...l,[w]:O})},k=w=>{X(w);const O=T.find(re=>re.studentId===w);P(O?{visualImpairment:O.visualImpairment,hearingImpairment:O.hearingImpairment,motorImpairment:O.motorImpairment,cognitiveSupport:O.cognitiveSupport,notes:O.notes}:{visualImpairment:!1,hearingImpairment:!1,motorImpairment:!1,cognitiveSupport:!1,notes:""}),R(!0)},ee=()=>{if(D===null)return;const w={studentId:D,...Q},O=T.filter(re=>re.studentId!==D);O.push(w),L(O),localStorage.setItem("studentAccommodations",JSON.stringify(O)),R(!1),Y("AmÃ©nagements enregistrÃ©s pour l'Ã©tudiant")},ce=w=>T.find(O=>O.studentId===w),V=w=>{const O=ce(w);return O?[O.visualImpairment,O.hearingImpairment,O.motorImpairment,O.cognitiveSupport].filter(Boolean).length:0},S=D?_h.find(w=>w.id===D):null;return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Nt,{}),f&&t.jsxs("div",{className:`fixed top-20 right-4 z-50 px-6 py-4 rounded-lg shadow-lg flex items-center gap-3 transition-all duration-300 ${b==="success"?"bg-green-600 text-white":"bg-teal-600 text-white"}`,children:[t.jsx("i",{className:`${b==="success"?"ri-check-circle-line":"ri-information-line"} text-xl`,"aria-hidden":"true"}),t.jsx("span",{className:"font-medium",children:p})]}),t.jsxs("main",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"ParamÃ¨tres d'AccessibilitÃ©"}),t.jsx("p",{className:"text-base text-gray-600",children:"Personnalisez votre expÃ©rience pour une meilleure accessibilitÃ©"})]}),d&&t.jsxs(Ce,{variant:"warning",size:"md",children:[t.jsx("i",{className:"ri-error-warning-line mr-1","aria-hidden":"true"}),"Modifications non sauvegardÃ©es"]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsx(xe,{children:t.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[t.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-teal-100 rounded-lg",children:t.jsx("i",{className:"ri-text text-2xl text-teal-600","aria-hidden":"true"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Taille du Texte"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Ajustez la taille du texte dans toute l'application"}),t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{value:"small",label:"Petit",size:"text-sm"},{value:"medium",label:"Moyen",size:"text-base"},{value:"large",label:"Grand",size:"text-lg"},{value:"xlarge",label:"TrÃ¨s Grand",size:"text-xl"}].map(w=>t.jsxs("button",{onClick:()=>A("fontSize",w.value),className:`p-4 rounded-lg border-2 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-teal-500 cursor-pointer ${l.fontSize===w.value?"border-teal-600 bg-teal-50":"border-gray-300 hover:border-gray-400 bg-white"}`,"aria-pressed":l.fontSize===w.value,children:[t.jsx("p",{className:`font-medium ${w.size}`,children:"Aa"}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:w.label})]},w.value))})]})]})}),t.jsx(xe,{children:t.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[t.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-sky-100 rounded-lg",children:t.jsx("i",{className:"ri-line-height text-2xl text-sky-600","aria-hidden":"true"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Espacement des Lignes"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Ajustez l'espace entre les lignes de texte"}),t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{value:"compact",label:"Compact",preview:"leading-tight"},{value:"normal",label:"Normal",preview:"leading-normal"},{value:"relaxed",label:"AÃ©rÃ©",preview:"leading-relaxed"},{value:"loose",label:"Large",preview:"leading-loose"}].map(w=>t.jsxs("button",{onClick:()=>A("lineSpacing",w.value),className:`p-4 rounded-lg border-2 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-teal-500 cursor-pointer ${l.lineSpacing===w.value?"border-teal-600 bg-teal-50":"border-gray-300 hover:border-gray-400 bg-white"}`,"aria-pressed":l.lineSpacing===w.value,children:[t.jsxs("div",{className:`text-xs text-gray-700 ${w.preview}`,children:[t.jsx("p",{children:"Ligne 1"}),t.jsx("p",{children:"Ligne 2"}),t.jsx("p",{children:"Ligne 3"})]}),t.jsx("p",{className:"text-xs text-gray-600 mt-2 font-medium",children:w.label})]},w.value))})]})]})}),t.jsx(xe,{children:t.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[t.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-indigo-100 rounded-lg",children:t.jsx("i",{className:"ri-contrast-2-line text-2xl text-indigo-600","aria-hidden":"true"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Mode Contraste"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Augmentez le contraste pour une meilleure visibilitÃ©"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsx("button",{onClick:()=>A("contrast","normal"),className:`p-4 rounded-lg border-2 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-teal-500 cursor-pointer ${l.contrast==="normal"?"border-teal-600 bg-teal-50":"border-gray-300 hover:border-gray-400 bg-white"}`,"aria-pressed":l.contrast==="normal",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gray-100 to-gray-300 rounded"}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Contraste Normal"}),t.jsx("p",{className:"text-xs text-gray-600",children:"Couleurs standard"})]})]})}),t.jsx("button",{onClick:()=>A("contrast","high"),className:`p-4 rounded-lg border-2 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-teal-500 cursor-pointer ${l.contrast==="high"?"border-teal-600 bg-teal-50":"border-gray-300 hover:border-gray-400 bg-white"}`,"aria-pressed":l.contrast==="high",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gray-800 to-black rounded"}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Contraste Ã‰levÃ©"}),t.jsx("p",{className:"text-xs text-gray-600",children:"VisibilitÃ© amÃ©liorÃ©e"})]})]})})]})]})]})}),t.jsx(xe,{children:t.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[t.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-rose-100 rounded-lg",children:t.jsx("i",{className:"ri-eye-line text-2xl text-rose-600","aria-hidden":"true"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Mode Daltonien"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Adaptez les couleurs selon votre type de daltonisme"}),t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{value:"none",label:"Aucun",colors:["bg-red-500","bg-green-500","bg-blue-500"]},{value:"protanopia",label:"Protanopie",colors:["bg-yellow-600","bg-yellow-400","bg-blue-500"]},{value:"deuteranopia",label:"DeutÃ©ranopie",colors:["bg-amber-600","bg-amber-400","bg-blue-500"]},{value:"tritanopia",label:"Tritanopie",colors:["bg-red-500","bg-green-500","bg-pink-400"]}].map(w=>t.jsxs("button",{onClick:()=>A("colorBlindMode",w.value),className:`p-4 rounded-lg border-2 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-teal-500 cursor-pointer ${l.colorBlindMode===w.value?"border-teal-600 bg-teal-50":"border-gray-300 hover:border-gray-400 bg-white"}`,"aria-pressed":l.colorBlindMode===w.value,children:[t.jsx("div",{className:"flex gap-1 mb-2 justify-center",children:w.colors.map((O,re)=>t.jsx("div",{className:`w-5 h-5 rounded-full ${O}`},re))}),t.jsx("p",{className:"text-xs text-gray-600 font-medium",children:w.label})]},w.value))})]})]})}),t.jsxs(xe,{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Options SupplÃ©mentaires"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-purple-100 rounded-lg",children:t.jsx("i",{className:"ri-movie-line text-xl text-purple-600","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Animations"}),t.jsx("p",{className:"text-sm text-gray-600",children:"DÃ©sactivez pour rÃ©duire les mouvements"})]})]}),t.jsx("button",{onClick:()=>A("animations",!l.animations),className:`relative w-14 h-8 rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-teal-500 cursor-pointer ${l.animations?"bg-teal-600":"bg-gray-300"}`,role:"switch","aria-checked":l.animations,"aria-label":"Activer les animations",children:t.jsx("span",{className:`absolute top-1 left-1 w-6 h-6 bg-white rounded-full transition-transform duration-200 ${l.animations?"translate-x-6":"translate-x-0"}`})})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-green-100 rounded-lg",children:t.jsx("i",{className:"ri-volume-up-line text-xl text-green-600","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Support Lecteur d'Ã‰cran"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Labels ARIA et descriptions amÃ©liorÃ©s"})]})]}),t.jsx("button",{onClick:()=>A("screenReader",!l.screenReader),className:`relative w-14 h-8 rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-teal-500 cursor-pointer ${l.screenReader?"bg-teal-600":"bg-gray-300"}`,role:"switch","aria-checked":l.screenReader,"aria-label":"Activer le support lecteur d'Ã©cran",children:t.jsx("span",{className:`absolute top-1 left-1 w-6 h-6 bg-white rounded-full transition-transform duration-200 ${l.screenReader?"translate-x-6":"translate-x-0"}`})})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-amber-100 rounded-lg",children:t.jsx("i",{className:"ri-focus-3-line text-xl text-amber-600","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Surbrillance du Focus"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Indicateurs de focus plus visibles"})]})]}),t.jsx("button",{onClick:()=>A("focusHighlight",!l.focusHighlight),className:`relative w-14 h-8 rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-teal-500 cursor-pointer ${l.focusHighlight?"bg-teal-600":"bg-gray-300"}`,role:"switch","aria-checked":l.focusHighlight,"aria-label":"Activer la surbrillance du focus",children:t.jsx("span",{className:`absolute top-1 left-1 w-6 h-6 bg-white rounded-full transition-transform duration-200 ${l.focusHighlight?"translate-x-6":"translate-x-0"}`})})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-slate-100 rounded-lg",children:t.jsx("i",{className:"ri-layout-3-line text-xl text-slate-600","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Interface Simplifiee"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Masquer les elements visuels non essentiels"})]})]}),t.jsx("button",{onClick:()=>A("simplifyUi",!l.simplifyUi),className:`relative w-14 h-8 rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-teal-500 cursor-pointer ${l.simplifyUi?"bg-teal-600":"bg-gray-300"}`,role:"switch","aria-checked":l.simplifyUi,"aria-label":"Activer l'interface simplifiee",children:t.jsx("span",{className:`absolute top-1 left-1 w-6 h-6 bg-white rounded-full transition-transform duration-200 ${l.simplifyUi?"translate-x-6":"translate-x-0"}`})})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-cyan-100 rounded-lg",children:t.jsx("i",{className:"ri-cursor-line text-xl text-cyan-600","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Grand Curseur"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Augmentez la taille du curseur"})]})]}),t.jsx("button",{onClick:()=>A("cursorSize",l.cursorSize==="normal"?"large":"normal"),className:`relative w-14 h-8 rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-teal-500 cursor-pointer ${l.cursorSize==="large"?"bg-teal-600":"bg-gray-300"}`,role:"switch","aria-checked":l.cursorSize==="large","aria-label":"Activer le grand curseur",children:t.jsx("span",{className:`absolute top-1 left-1 w-6 h-6 bg-white rounded-full transition-transform duration-200 ${l.cursorSize==="large"?"translate-x-6":"translate-x-0"}`})})]})]})]}),t.jsx(xe,{children:t.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[t.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-amber-100 rounded-lg",children:t.jsx("i",{className:"ri-keyboard-line text-2xl text-amber-600","aria-hidden":"true"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Navigation au Clavier"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Raccourcis pour naviguer avec le clavier"}),t.jsx("div",{className:"space-y-3",children:[{key:"Tab",desc:"Naviguer entre les Ã©lÃ©ments interactifs"},{key:"Shift + Tab",desc:"Naviguer en arriÃ¨re"},{key:"Enter",desc:"Activer les boutons et liens"},{key:"Esc",desc:"Fermer les dialogues et menus"},{key:"Space",desc:"Basculer les cases Ã  cocher et interrupteurs"},{key:"â†‘ â†“",desc:"Naviguer dans les listes et menus"}].map((w,O)=>t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[t.jsx("kbd",{className:"px-3 py-1.5 bg-white border border-gray-300 rounded text-sm font-mono min-w-[80px] text-center",children:w.key}),t.jsx("p",{className:"text-sm text-gray-700",children:w.desc})]},O))})]})]})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs(xe,{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Actions"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs(he,{variant:"primary",fullWidth:!0,onClick:ie,disabled:!d,children:[t.jsx("i",{className:"ri-save-line","aria-hidden":"true"}),"Sauvegarder"]}),t.jsxs(he,{variant:"outline",fullWidth:!0,onClick:ue,disabled:!d,children:[t.jsx("i",{className:le?"ri-eye-off-line":"ri-eye-line","aria-hidden":"true"}),le?"ArrÃªter AperÃ§u":"AperÃ§u"]}),t.jsxs(he,{variant:"outline",fullWidth:!0,onClick:de,children:[t.jsx("i",{className:"ri-refresh-line","aria-hidden":"true"}),"RÃ©initialiser"]})]}),le&&t.jsx("div",{className:"mt-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:t.jsxs("p",{className:"text-sm text-amber-800 flex items-center gap-2",children:[t.jsx("i",{className:"ri-information-line","aria-hidden":"true"}),"Mode aperÃ§u actif. Sauvegardez pour conserver les changements."]})})]}),t.jsxs(xe,{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"RÃ©sumÃ© des ParamÃ¨tres"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Taille du texte"}),t.jsx(Ce,{variant:"info",size:"sm",children:l.fontSize})]}),t.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Contraste"}),t.jsx(Ce,{variant:l.contrast==="high"?"warning":"neutral",size:"sm",children:l.contrast==="high"?"Ã‰levÃ©":"Normal"})]}),t.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Animations"}),t.jsx(Ce,{variant:l.animations?"success":"neutral",size:"sm",children:l.animations?"ActivÃ©es":"DÃ©sactivÃ©es"})]}),t.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Espacement"}),t.jsx(Ce,{variant:"info",size:"sm",children:l.lineSpacing})]}),t.jsxs("div",{className:"flex items-center justify-between py-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Mode daltonien"}),t.jsx(Ce,{variant:l.colorBlindMode!=="none"?"warning":"neutral",size:"sm",children:l.colorBlindMode==="none"?"Aucun":l.colorBlindMode})]})]})]}),t.jsxs(xe,{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"AmÃ©nagements Ã‰tudiants"}),t.jsxs(Ce,{variant:"info",size:"sm",children:[T.length," configurÃ©",T.length>1?"s":""]})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Configurez les besoins d'accessibilitÃ© spÃ©cifiques pour chaque Ã©tudiant."}),t.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:_h.map(w=>{const O=V(w.id);return t.jsxs("button",{onClick:()=>k(w.id),className:"w-full flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors cursor-pointer text-left",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"w-8 h-8 flex items-center justify-center bg-teal-600 text-white rounded-full text-xs font-bold",children:[w.firstName?.[0]||"?",w.lastName?.[0]||""]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[w.firstName," ",w.lastName]}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Niveau ",w.currentLevel]})]})]}),O>0?t.jsxs(Ce,{variant:"success",size:"sm",children:[O," amÃ©nagement",O>1?"s":""]}):t.jsx("i",{className:"ri-add-circle-line text-gray-400 text-lg","aria-hidden":"true"})]},w.id)})})]})]})]})]}),E&&S&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>R(!1),children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",onClick:w=>w.stopPropagation(),role:"dialog","aria-modal":"true","aria-labelledby":"accommodation-modal-title",children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"w-12 h-12 flex items-center justify-center bg-teal-600 text-white rounded-full font-bold",children:[S.firstName?.[0]||"?",S.lastName?.[0]||""]}),t.jsxs("div",{children:[t.jsxs("h2",{id:"accommodation-modal-title",className:"text-xl font-bold text-gray-900",children:[S.firstName," ",S.lastName]}),t.jsx("p",{className:"text-sm text-gray-600",children:S.email})]})]}),t.jsx("button",{onClick:()=>R(!1),className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors cursor-pointer","aria-label":"Fermer",children:t.jsx("i",{className:"ri-close-line text-xl text-gray-500","aria-hidden":"true"})})]})}),t.jsxs("div",{className:"p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Besoins d'AccessibilitÃ©"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("label",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-rose-100 rounded-lg",children:t.jsx("i",{className:"ri-eye-close-line text-xl text-rose-600","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"DÃ©ficience Visuelle"}),t.jsx("p",{className:"text-xs text-gray-600",children:"Texte agrandi, contraste Ã©levÃ©"})]})]}),t.jsx("input",{type:"checkbox",checked:Q.visualImpairment,onChange:w=>P(O=>({...O,visualImpairment:w.target.checked})),className:"w-5 h-5 text-teal-600 rounded focus:ring-teal-500 cursor-pointer"})]}),t.jsxs("label",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-amber-100 rounded-lg",children:t.jsx("i",{className:"ri-ear-off-line text-xl text-amber-600","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"DÃ©ficience Auditive"}),t.jsx("p",{className:"text-xs text-gray-600",children:"Sous-titres, alertes visuelles"})]})]}),t.jsx("input",{type:"checkbox",checked:Q.hearingImpairment,onChange:w=>P(O=>({...O,hearingImpairment:w.target.checked})),className:"w-5 h-5 text-teal-600 rounded focus:ring-teal-500 cursor-pointer"})]}),t.jsxs("label",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-sky-100 rounded-lg",children:t.jsx("i",{className:"ri-hand-coin-line text-xl text-sky-600","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"DÃ©ficience Motrice"}),t.jsx("p",{className:"text-xs text-gray-600",children:"Navigation clavier, zones cliquables agrandies"})]})]}),t.jsx("input",{type:"checkbox",checked:Q.motorImpairment,onChange:w=>P(O=>({...O,motorImpairment:w.target.checked})),className:"w-5 h-5 text-teal-600 rounded focus:ring-teal-500 cursor-pointer"})]}),t.jsxs("label",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-purple-100 rounded-lg",children:t.jsx("i",{className:"ri-brain-line text-xl text-purple-600","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Support Cognitif"}),t.jsx("p",{className:"text-xs text-gray-600",children:"Interface simplifiÃ©e, temps supplÃ©mentaire"})]})]}),t.jsx("input",{type:"checkbox",checked:Q.cognitiveSupport,onChange:w=>P(O=>({...O,cognitiveSupport:w.target.checked})),className:"w-5 h-5 text-teal-600 rounded focus:ring-teal-500 cursor-pointer"})]})]}),t.jsxs("div",{className:"mt-6",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes SupplÃ©mentaires"}),t.jsx("textarea",{value:Q.notes,onChange:w=>P(O=>({...O,notes:w.target.value})),placeholder:"Ajoutez des notes spÃ©cifiques sur les besoins de l'Ã©tudiant...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 resize-none",rows:3,maxLength:500}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-right",children:[Q.notes.length,"/500"]})]})]}),t.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3",children:[t.jsx(he,{variant:"outline",fullWidth:!0,onClick:()=>R(!1),children:"Annuler"}),t.jsxs(he,{variant:"primary",fullWidth:!0,onClick:ee,children:[t.jsx("i",{className:"ri-save-line","aria-hidden":"true"}),"Enregistrer"]})]})]})})]})}function NN({firstName:l,lastName:i,email:r,role:c,organization:d,joinDate:m,onEditClick:f}){const h=`${l?.[0]||"?"}${i?.[0]||""}`,p=new Date(m).toLocaleDateString("fr-FR",{month:"long",year:"numeric"});return t.jsxs(xe,{padding:"none",className:"overflow-hidden",children:[t.jsxs("div",{className:"relative h-40 bg-gradient-to-r from-teal-600 via-teal-500 to-emerald-500",children:[t.jsxs("div",{className:"absolute inset-0 opacity-20",children:[t.jsx("div",{className:"absolute top-4 right-12 w-32 h-32 rounded-full bg-white/20"}),t.jsx("div",{className:"absolute bottom-0 left-8 w-24 h-24 rounded-full bg-white/15"}),t.jsx("div",{className:"absolute top-8 left-1/3 w-16 h-16 rounded-full bg-white/10"})]}),t.jsxs("button",{onClick:f,className:"absolute top-4 right-4 flex items-center gap-2 px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg hover:bg-white/30 transition-colors duration-200 cursor-pointer text-sm font-medium whitespace-nowrap",children:[t.jsx("i",{className:"ri-pencil-line","aria-hidden":"true"}),"Modifier le profil"]})]}),t.jsx("div",{className:"relative px-6 pb-6",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end gap-4 -mt-12",children:[t.jsx("div",{className:"w-24 h-24 flex items-center justify-center bg-teal-700 text-white text-3xl font-bold rounded-2xl border-4 border-white shadow-lg",children:h}),t.jsxs("div",{className:"flex-1 sm:pb-1",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[l," ",i]}),t.jsx("p",{className:"text-sm text-gray-600",children:r})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ce,{variant:"info",size:"md",children:c}),t.jsx(Ce,{variant:"neutral",size:"sm",children:d})]})]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[t.jsx("i",{className:"ri-calendar-line mr-1","aria-hidden":"true"}),"Membre depuis ",p]})]})]})})]})}function SN({bio:l,phone:i,email:r,address:c,language:d,timezone:m}){const f=[{icon:"ri-mail-line",label:"Email",value:r,color:"bg-teal-100 text-teal-600"},{icon:"ri-phone-line",label:"TÃ©lÃ©phone",value:i,color:"bg-emerald-100 text-emerald-600"},{icon:"ri-map-pin-line",label:"Adresse",value:c,color:"bg-amber-100 text-amber-600"},{icon:"ri-translate-2",label:"Langue",value:d,color:"bg-sky-100 text-sky-600"},{icon:"ri-time-line",label:"Fuseau horaire",value:m,color:"bg-rose-100 text-rose-600"}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs(xe,{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-teal-100 rounded-lg",children:t.jsx("i",{className:"ri-user-heart-line text-xl text-teal-600","aria-hidden":"true"})}),t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"\\u00c0 propos"})]}),t.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:l})]}),t.jsxs(xe,{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-emerald-100 rounded-lg",children:t.jsx("i",{className:"ri-contacts-line text-xl text-emerald-600","aria-hidden":"true"})}),t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Informations de Contact"})]}),t.jsx("div",{className:"space-y-3",children:f.map((h,p)=>t.jsxs("div",{className:"flex items-center gap-4 p-3 bg-gray-50 rounded-lg",children:[t.jsx("div",{className:`w-10 h-10 flex items-center justify-center rounded-lg ${h.color}`,children:t.jsx("i",{className:`${h.icon} text-lg`,"aria-hidden":"true"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:h.label}),t.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:h.value})]})]},p))})]})]})}const wN=[{key:"email",label:"Notifications par email",desc:"Recevoir les alertes par email",icon:"ri-mail-send-line",color:"bg-teal-100 text-teal-600"},{key:"sms",label:"Notifications SMS",desc:"Recevoir les alertes par SMS",icon:"ri-message-2-line",color:"bg-emerald-100 text-emerald-600"},{key:"attendance",label:"Alertes de prÃ©sence",desc:"NotifiÃ© des absences et retards",icon:"ri-checkbox-circle-line",color:"bg-amber-100 text-amber-600"},{key:"certification",label:"Certifications",desc:"Ã‰ligibilitÃ© et rappels de certification",icon:"ri-award-line",color:"bg-rose-100 text-rose-600"},{key:"weekly",label:"RÃ©sumÃ© hebdomadaire",desc:"Rapport d'activitÃ© chaque lundi",icon:"ri-bar-chart-box-line",color:"bg-sky-100 text-sky-600"}];function EN({notifications:l,onToggle:i}){return t.jsxs(xe,{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-amber-100 rounded-lg",children:t.jsx("i",{className:"ri-notification-3-line text-xl text-amber-600","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),t.jsx("p",{className:"text-xs text-gray-500",children:"G\\u00e9rez vos pr\\u00e9f\\u00e9rences de notification"})]})]}),t.jsx("div",{className:"space-y-3",children:wN.map(r=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-9 h-9 flex items-center justify-center rounded-lg ${r.color}`,children:t.jsx("i",{className:`${r.icon} text-lg`,"aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:r.label}),t.jsx("p",{className:"text-xs text-gray-500",children:r.desc})]})]}),t.jsx("button",{onClick:()=>i(r.key),className:`relative w-12 h-7 rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-teal-500 cursor-pointer ${l[r.key]?"bg-teal-600":"bg-gray-300"}`,role:"switch","aria-checked":l[r.key],"aria-label":r.label,children:t.jsx("span",{className:`absolute top-0.5 left-0.5 w-6 h-6 bg-white rounded-full shadow transition-transform duration-200 ${l[r.key]?"translate-x-5":"translate-x-0"}`})})]},r.key))})]})}function AN({stats:l}){const i=[{label:"Tableau de bord",icon:"ri-dashboard-line",path:"/dashboard",color:"bg-teal-100 text-teal-600"},{label:"Mes Ã©lÃ¨ves",icon:"ri-user-line",path:"/students",color:"bg-emerald-100 text-emerald-600"},{label:"Formations",icon:"ri-book-open-line",path:"/trainings",color:"bg-amber-100 text-amber-600"},{label:"AccessibilitÃ©",icon:"ri-settings-line",path:"/accessibility",color:"bg-sky-100 text-sky-600"}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs(xe,{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Mon Activit\\u00e9"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-teal-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-9 h-9 flex items-center justify-center bg-teal-600 rounded-lg",children:t.jsx("i",{className:"ri-user-line text-lg text-white","aria-hidden":"true"})}),t.jsx("span",{className:"text-sm text-gray-700",children:"\\u00c9l\\u00e8ves g\\u00e9r\\u00e9s"})]}),t.jsx("span",{className:"text-lg font-bold text-teal-700",children:l.studentsManaged})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-amber-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-9 h-9 flex items-center justify-center bg-amber-600 rounded-lg",children:t.jsx("i",{className:"ri-book-open-line text-lg text-white","aria-hidden":"true"})}),t.jsx("span",{className:"text-sm text-gray-700",children:"Formations actives"})]}),t.jsx("span",{className:"text-lg font-bold text-amber-700",children:l.trainingsActive})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-emerald-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-9 h-9 flex items-center justify-center bg-emerald-600 rounded-lg",children:t.jsx("i",{className:"ri-checkbox-circle-line text-lg text-white","aria-hidden":"true"})}),t.jsx("span",{className:"text-sm text-gray-700",children:"Sessions termin\\u00e9es"})]}),t.jsx("span",{className:"text-lg font-bold text-emerald-700",children:l.sessionsCompleted})]})]})]}),t.jsxs(xe,{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Acc\\u00e8s Rapide"}),t.jsx("div",{className:"space-y-2",children:i.map((r,c)=>t.jsxs(st,{to:r.path,className:"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 transition-colors duration-200 cursor-pointer group",children:[t.jsx("div",{className:`w-9 h-9 flex items-center justify-center rounded-lg ${r.color}`,children:t.jsx("i",{className:`${r.icon} text-lg`,"aria-hidden":"true"})}),t.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900 flex-1",children:r.label}),t.jsx("i",{className:"ri-arrow-right-s-line text-gray-400 group-hover:text-gray-600","aria-hidden":"true"})]},c))})]}),t.jsxs(xe,{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-rose-100 rounded-lg",children:t.jsx("i",{className:"ri-shield-check-line text-xl text-rose-600","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"S\\u00e9curit\\u00e9"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Prot\\u00e9gez votre compte"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"ri-lock-line text-gray-500","aria-hidden":"true"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Mot de passe"})]}),t.jsx(Ce,{variant:"success",size:"sm",children:"S\\u00e9curis\\u00e9"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"ri-smartphone-line text-gray-500","aria-hidden":"true"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Double authentification"})]}),t.jsx(Ce,{variant:"warning",size:"sm",children:"D\\u00e9sactiv\\u00e9"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"ri-history-line text-gray-500","aria-hidden":"true"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Derni\\u00e8re connexion"})]}),t.jsx("span",{className:"text-xs text-gray-500",children:"Aujourd\\u0027hui, 09:15"})]})]})]})]})}function CN({isOpen:l,onClose:i,onSave:r,initialData:c}){const[d,m]=y.useState(c);if(!l)return null;const f=(g,b)=>{m(v=>({...v,[g]:b}))},h=g=>{g.preventDefault(),r(d)},p=[{key:"firstName",label:"PrÃ©nom",type:"text",placeholder:"Votre prÃ©nom"},{key:"lastName",label:"Nom",type:"text",placeholder:"Votre nom"},{key:"email",label:"Email",type:"email",placeholder:"votre@email.com"},{key:"phone",label:"TÃ©lÃ©phone",type:"tel",placeholder:"+216 XX XXX XXX"},{key:"address",label:"Adresse",type:"text",placeholder:"Votre adresse"},{key:"language",label:"Langue",type:"text",placeholder:"FranÃ§ais"},{key:"bio",label:"Ã€ propos",type:"textarea",placeholder:"Parlez-nous de vous...",rows:4}];return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:i,children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",onClick:g=>g.stopPropagation(),role:"dialog","aria-modal":"true","aria-labelledby":"edit-profile-title",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[t.jsx("h2",{id:"edit-profile-title",className:"text-xl font-bold text-gray-900",children:"Modifier le Profil"}),t.jsx("button",{onClick:i,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors cursor-pointer","aria-label":"Fermer",children:t.jsx("i",{className:"ri-close-line text-xl text-gray-500","aria-hidden":"true"})})]}),t.jsxs("form",{onSubmit:h,className:"p-6 space-y-4",children:[t.jsx("div",{className:"grid grid-cols-2 gap-4",children:p.filter(g=>g.key!=="bio").map(g=>t.jsxs("div",{className:g.key==="address"?"col-span-2":"",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:g.label}),t.jsx("input",{type:g.type,value:d[g.key],onChange:b=>f(g.key,b.target.value),placeholder:g.placeholder,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-colors"})]},g.key))}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"\\u00c0 propos"}),t.jsx("textarea",{value:d.bio,onChange:g=>f("bio",g.target.value),placeholder:"Parlez-nous de vous...",rows:4,maxLength:500,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-colors resize-none"}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-right",children:[d.bio.length,"/500"]})]}),t.jsxs("div",{className:"flex gap-3 pt-2",children:[t.jsx(he,{variant:"outline",fullWidth:!0,onClick:i,type:"button",children:"Annuler"}),t.jsxs(he,{variant:"primary",fullWidth:!0,type:"submit",children:[t.jsx("i",{className:"ri-save-line","aria-hidden":"true"}),"Enregistrer"]})]})]})]})})}const TN={firstName:"Ahmed",lastName:"Benali",email:"ahmed.benali@astba.org",phone:"+216 55 123 456",role:"Formateur Principal",organization:"ASTBA",bio:"Formateur passionnÃ© avec plus de 5 ans d'expÃ©rience dans l'enseignement technique et la robotique. Responsable de la coordination des formations et du suivi des Ã©lÃ¨ves.",address:"12 Rue de la Formation, Tunis, Tunisie",joinDate:"2020-03-15",language:"FranÃ§ais",timezone:"Africa/Tunis (UTC+1)",notifications:{email:!0,sms:!1,attendance:!0,certification:!0,weekly:!1}};function RN(){const[l,i]=y.useState(TN),[r,c]=y.useState(!1),[d,m]=y.useState(!1),[f,h]=y.useState({studentsManaged:0,trainingsActive:0,sessionsCompleted:0});y.useEffect(()=>{const b=async()=>{try{const T=await Sa.getMe(),L=T.role==="ADMIN"?"Administrateur":T.role==="RESPONSABLE"?"Responsable formation":"Formateur";i(E=>({...E,firstName:T.firstName||E.firstName,lastName:T.lastName||E.lastName,email:T.email||E.email,role:L}))}catch(T){console.error("Failed to load profile",T);const L=na.getUserProfile();L?.email&&i(E=>({...E,firstName:L.firstName||E.firstName,lastName:L.lastName||E.lastName,email:L.email||E.email,role:L.role==="ADMIN"?"Administrateur":L.role==="RESPONSABLE"?"Responsable formation":"Formateur"}))}},v=async()=>{try{const[T,L]=await Promise.all([ms.getAll(),Ut.getAll()]),E=T.map(R=>{const D=R.totalSessions??24,X=R.completedSessions??0;return{totalSessions:D,completedSessions:X}});h({studentsManaged:T.length,trainingsActive:L.filter(R=>R.status==="active").length,sessionsCompleted:E.reduce((R,D)=>R+D.completedSessions,0)})}catch(T){console.error("Failed to load profile stats",T)}};b(),v()},[]);const p=b=>{i(v=>({...v,firstName:b.firstName,lastName:b.lastName,email:b.email,phone:b.phone,bio:b.bio,address:b.address,language:b.language})),c(!1),m(!0),setTimeout(()=>m(!1),3e3)},g=b=>{i(v=>({...v,notifications:{...v.notifications,[b]:!v.notifications[b]}}))};return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Nt,{}),d&&t.jsxs("div",{className:"fixed top-20 right-4 z-50 px-6 py-4 rounded-lg shadow-lg bg-green-600 text-white flex items-center gap-3 animate-fade-in",children:[t.jsx("i",{className:"ri-check-circle-line text-xl","aria-hidden":"true"}),t.jsx("span",{className:"font-medium text-sm",children:"Profil mis Ã  jour avec succÃ¨s !"})]}),t.jsxs("main",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("nav",{className:"flex items-center gap-2 text-sm text-gray-500 mb-6","aria-label":"Fil d'ariane",children:[t.jsx("a",{href:"/dashboard",className:"hover:text-teal-600 transition-colors cursor-pointer",children:"Tableau de bord"}),t.jsx("i",{className:"ri-arrow-right-s-line text-gray-400","aria-hidden":"true"}),t.jsx("span",{className:"text-gray-900 font-medium",children:"Mon Profil"})]}),t.jsx("div",{className:"mb-8",children:t.jsx(NN,{firstName:l.firstName,lastName:l.lastName,email:l.email,role:l.role,organization:l.organization,joinDate:l.joinDate,onEditClick:()=>c(!0)})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsx(SN,{bio:l.bio,phone:l.phone,email:l.email,address:l.address,language:l.language,timezone:l.timezone}),t.jsx(EN,{notifications:l.notifications,onToggle:g})]}),t.jsx("div",{children:t.jsx(AN,{stats:f})})]})]}),t.jsx(CN,{isOpen:r,onClose:()=>c(!1),onSave:p,initialData:{firstName:l.firstName,lastName:l.lastName,email:l.email,phone:l.phone,bio:l.bio,address:l.address,language:l.language}})]})}function DN({isOpen:l,onClose:i,onSelectTrainer:r}){const[c,d]=y.useState(""),[m,f]=y.useState([]);if(y.useEffect(()=>{l&&(async()=>{try{const[b,v]=await Promise.all([Sa.getByRole("FORMATEUR"),Sa.getByRole("RESPONSABLE")]),L=[...b,...v].map(E=>{const R=E.firstName||"",D=E.lastName||"",X=`${R?.[0]||""}${D?.[0]||""}`.trim()||(E.email?E.email[0]?.toUpperCase():"U");return{id:E.email||String(E.id),name:`${R} ${D}`.trim()||E.email,role:E.role==="RESPONSABLE"?"Responsable formation":"Formateur",avatar:X.toUpperCase(),isOnline:!1}});f(L)}catch(b){console.error("Failed to load trainers",b),f([])}})()},[l]),!l)return null;const h=m.filter(g=>g.name.toLowerCase().includes(c.toLowerCase())||g.role.toLowerCase().includes(c.toLowerCase())),p=g=>{r(g),i(),d("")};return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",onClick:i,children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col",onClick:g=>g.stopPropagation(),children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Nouvelle conversation"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"SÃ©lectionnez un utilisateur pour dÃ©marrer une conversation"})]}),t.jsx("button",{onClick:i,className:"w-10 h-10 flex items-center justify-center text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors duration-200 cursor-pointer",children:t.jsx("i",{className:"ri-close-line text-2xl","aria-hidden":"true"})})]}),t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:t.jsx("i",{className:"ri-search-line text-gray-400","aria-hidden":"true"})}),t.jsx("input",{type:"text",placeholder:"Rechercher un utilisateur...",value:c,onChange:g=>d(g.target.value),className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",autoFocus:!0})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:h.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-16 h-16 flex items-center justify-center bg-gray-100 rounded-full mx-auto mb-4",children:t.jsx("i",{className:"ri-user-search-line text-3xl text-gray-400","aria-hidden":"true"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun utilisateur trouvÃ©"}),t.jsx("p",{className:"text-gray-600",children:"Essayez avec d'autres mots-clÃ©s"})]}):t.jsx("div",{className:"space-y-2",children:h.map(g=>t.jsxs("button",{onClick:()=>p(g.id),className:"w-full flex items-center gap-4 p-4 hover:bg-gray-50 rounded-lg transition-colors duration-200 cursor-pointer text-left",children:[t.jsxs("div",{className:"relative flex-shrink-0",children:[t.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-gradient-to-br from-teal-500 to-teal-600 rounded-full text-white font-semibold",children:g.avatar}),g.isOnline&&t.jsx("div",{className:"absolute bottom-0 right-0 w-3.5 h-3.5 flex items-center justify-center bg-green-500 border-2 border-white rounded-full"})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:g.name}),t.jsx("p",{className:"text-sm text-gray-600",children:g.role})]}),t.jsx("div",{className:"flex-shrink-0",children:g.isOnline?t.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full",children:[t.jsx("span",{className:"w-1.5 h-1.5 flex items-center justify-center bg-green-500 rounded-full"}),"En ligne"]}):t.jsx("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded-full",children:"Hors ligne"})})]},g.id))})}),t.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:t.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[t.jsxs("span",{children:[h.length," utilisateur",h.length>1?"s":""," disponible",h.length>1?"s":""]}),t.jsx("button",{onClick:i,className:"px-4 py-2 text-gray-700 hover:text-gray-900 font-medium cursor-pointer whitespace-nowrap",children:"Annuler"})]})})]})})}function ON(){const l=Aa(),[i,r]=y.useState(""),[c,d]=y.useState("all"),[m,f]=y.useState(!1),[h,p]=y.useState([]);y.useEffect(()=>{g()},[]);const g=async()=>{try{const E=await Fr.getAll(),R=na.getCurrentUser(),D=new Map;E.forEach(X=>{const Q=X.senderId===R?X.recipientId:X.senderId,P=X.read??X.isRead??!1;if(!D.has(Q))D.set(Q,{id:Q,participantId:Q,participantName:Q,participantRole:"User",participantAvatar:"U",lastMessage:X.content,lastMessageTime:X.timestamp,unreadCount:!P&&X.recipientId===R?1:0,isOnline:!1});else{const le=D.get(Q);new Date(X.timestamp)>new Date(le.lastMessageTime)&&(le.lastMessage=X.content,le.lastMessageTime=X.timestamp),!P&&X.recipientId===R&&(le.unreadCount+=1)}}),p(Array.from(D.values()))}catch(E){console.error("Failed to load messages",E)}},b=h.reduce((E,R)=>E+R.unreadCount,0),v=h.filter(E=>{const R=E.participantName.toLowerCase().includes(i.toLowerCase())||(E.lastMessage||"").toLowerCase().includes(i.toLowerCase()),D=c==="all"||c==="unread"&&E.unreadCount>0;return R&&D}),T=E=>{const R=new Date(E),X=(new Date().getTime()-R.getTime())/(1e3*60*60);return X<24?R.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}):X<48?"Hier":X<168?R.toLocaleDateString("fr-FR",{weekday:"short"}):R.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"})},L=E=>{const R=h.find(D=>D.participantId===E);l(R?`/messages/${R.id}`:`/messages/${E}`)};return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Nt,{}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Messagerie"}),t.jsx("p",{className:"text-gray-600 mt-1",children:b>0?t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"w-2 h-2 flex items-center justify-center bg-teal-500 rounded-full"}),b," message",b>1?"s":""," non lu",b>1?"s":""]}):"Aucun nouveau message"})]}),t.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-5 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors duration-200 cursor-pointer whitespace-nowrap",children:[t.jsx("i",{className:"ri-add-line text-xl","aria-hidden":"true"}),t.jsx("span",{className:"font-medium",children:"Nouvelle conversation"})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:t.jsx("i",{className:"ri-search-line text-gray-400","aria-hidden":"true"})}),t.jsx("input",{type:"text",placeholder:"Rechercher une conversation...",value:i,onChange:E=>r(E.target.value),className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),t.jsxs("div",{className:"flex gap-2 bg-gray-100 p-1 rounded-lg",children:[t.jsx("button",{onClick:()=>d("all"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200 cursor-pointer whitespace-nowrap ${c==="all"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Toutes"}),t.jsxs("button",{onClick:()=>d("unread"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200 cursor-pointer whitespace-nowrap ${c==="unread"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Non lues",b>0&&t.jsx("span",{className:"ml-2 px-2 py-0.5 bg-teal-500 text-white text-xs rounded-full",children:b})]})]})]})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:v.length===0?t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-16 h-16 flex items-center justify-center bg-gray-100 rounded-full mx-auto mb-4",children:t.jsx("i",{className:"ri-message-3-line text-3xl text-gray-400","aria-hidden":"true"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune conversation trouvÃ©e"}),t.jsx("p",{className:"text-gray-600",children:i?"Essayez avec d'autres mots-clÃ©s":"Commencez une nouvelle conversation"})]}):t.jsx("div",{className:"divide-y divide-gray-200",children:v.map(E=>t.jsxs(st,{to:`/messages/${E.id}`,className:`flex items-center gap-4 p-5 hover:bg-gray-50 transition-colors duration-200 cursor-pointer ${E.unreadCount>0?"bg-teal-50/30":""}`,children:[t.jsxs("div",{className:"relative flex-shrink-0",children:[t.jsx("div",{className:"w-14 h-14 flex items-center justify-center bg-gradient-to-br from-teal-500 to-teal-600 rounded-full text-white font-semibold text-lg",children:E.participantAvatar}),E.isOnline&&t.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 flex items-center justify-center bg-green-500 border-2 border-white rounded-full"})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[t.jsxs("div",{children:[t.jsx("h3",{className:`font-semibold ${E.unreadCount>0?"text-gray-900":"text-gray-800"}`,children:E.participantName}),t.jsx("p",{className:"text-xs text-gray-500",children:E.participantRole})]}),t.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:T(E.lastMessageTime)})]}),t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsx("p",{className:`text-sm truncate ${E.unreadCount>0?"text-gray-900 font-medium":"text-gray-600"}`,children:E.lastMessage}),E.unreadCount>0&&t.jsx("span",{className:"flex-shrink-0 w-6 h-6 flex items-center justify-center bg-teal-500 text-white text-xs font-semibold rounded-full",children:E.unreadCount})]})]})]},E.id))})}),t.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-teal-100 rounded-lg",children:t.jsx("i",{className:"ri-message-3-line text-xl text-teal-600","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.length}),t.jsx("p",{className:"text-sm text-gray-600",children:"Conversations"})]})]})}),t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-green-100 rounded-lg",children:t.jsx("i",{className:"ri-user-line text-xl text-green-600","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.filter(E=>E.isOnline).length}),t.jsx("p",{className:"text-sm text-gray-600",children:"En ligne"})]})]})}),t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-amber-100 rounded-lg",children:t.jsx("i",{className:"ri-notification-line text-xl text-amber-600","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b}),t.jsx("p",{className:"text-sm text-gray-600",children:"Non lus"})]})]})})]})]}),t.jsx(DN,{isOpen:m,onClose:()=>f(!1),onSelectTrainer:L})]})}function MN(){const{id:l}=Ud(),i=Aa(),r=y.useRef(null),[c,d]=y.useState(""),[m,f]=y.useState([]),[h,p]=y.useState(!1),[g,b]=y.useState(!1),[v,T]=y.useState(null),L=na.getCurrentUser(),E=["ðŸ˜Š","ðŸ‘","â¤ï¸","ðŸ˜‚","ðŸŽ‰","ðŸ‘","ðŸ”¥","âœ…","ðŸ’ª","ðŸ™","ðŸ˜","ðŸ¤”","ðŸ‘Œ","ðŸ’¯","ðŸš€"];y.useEffect(()=>{(async()=>{if(!(!l||!L))try{const ie=(await Fr.getAll()).filter(k=>k.senderId===L&&k.recipientId===l||k.senderId===l&&k.recipientId===L).map(k=>({...k,isRead:k.read??k.isRead??!1})).sort((k,ee)=>new Date(k.timestamp).getTime()-new Date(ee.timestamp).getTime());f(ie);let de=l,ue="Utilisateur";try{const[k,ee,ce]=await Promise.all([Sa.getByRole("ADMIN"),Sa.getByRole("FORMATEUR"),Sa.getByRole("RESPONSABLE")]),V=[...k,...ee,...ce].find(S=>S.email===l);V&&(de=`${V.firstName||""} ${V.lastName||""}`.trim()||V.email,ue=V.role==="ADMIN"?"Administrateur":V.role==="RESPONSABLE"?"Responsable formation":"Formateur")}catch(k){console.error("Failed to load participant info",k)}const A=de.split(" ").filter(Boolean).slice(0,2).map(k=>k[0]?.toUpperCase()).join("")||(l?l[0]?.toUpperCase():"U");T({participantName:de,participantRole:ue,participantAvatar:A,isOnline:!1})}catch(Y){console.error("Failed to load conversation messages",Y)}})()},[l,L]),y.useEffect(()=>{R()},[m]);const R=()=>{r.current?.scrollIntoView({behavior:"smooth"})},D=async()=>{if(!(!c.trim()||!l||!L))try{const ae=await Fr.sendMessage({senderId:L,recipientId:l,content:c}),Y={...ae,isRead:ae.read??ae.isRead??!1};f(ie=>[...ie,Y]),d(""),b(!1),setTimeout(()=>{p(!0),setTimeout(()=>{p(!1)},2e3)},500)}catch(ae){console.error("Failed to send message",ae)}},X=ae=>{ae.key==="Enter"&&!ae.shiftKey&&(ae.preventDefault(),D())},Q=ae=>new Date(ae).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),P=ae=>{const Y=new Date(ae),ie=new Date,de=new Date(ie);return de.setDate(de.getDate()-1),Y.toDateString()===ie.toDateString()?"Aujourd'hui":Y.toDateString()===de.toDateString()?"Hier":Y.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})},le=ae=>{d(c+ae)};if(!v)return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Nt,{}),t.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-4rem)]",children:t.jsxs("div",{className:"text-center",children:[t.jsx("i",{className:"ri-error-warning-line text-6xl text-gray-400 mb-4","aria-hidden":"true"}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Conversation introuvable"}),t.jsx("button",{onClick:()=>i("/messages"),className:"mt-4 px-6 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors duration-200 cursor-pointer whitespace-nowrap",children:"Retour aux messages"})]})})]});const oe={};return m.forEach(ae=>{const Y=P(ae.timestamp);oe[Y]||(oe[Y]=[]),oe[Y].push(ae)}),t.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[t.jsx(Nt,{}),t.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-16 z-40",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:()=>i("/messages"),className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors duration-200 cursor-pointer","aria-label":"Retour aux messages",children:t.jsx("i",{className:"ri-arrow-left-line text-xl","aria-hidden":"true"})}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-gradient-to-br from-teal-500 to-teal-600 rounded-full text-white font-semibold text-lg",children:v.participantAvatar}),v.isOnline&&t.jsx("div",{className:"absolute bottom-0 right-0 w-3.5 h-3.5 flex items-center justify-center bg-green-500 border-2 border-white rounded-full"})]}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:v.participantName}),t.jsx("p",{className:"text-sm text-gray-500",children:v.isOnline?t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"w-2 h-2 flex items-center justify-center bg-green-500 rounded-full"}),"En ligne"]}):v.participantRole})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors duration-200 cursor-pointer","aria-label":"Rechercher dans la conversation",children:t.jsx("i",{className:"ri-search-line text-xl","aria-hidden":"true"})}),t.jsx("button",{className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors duration-200 cursor-pointer","aria-label":"Plus d'options",children:t.jsx("i",{className:"ri-more-2-line text-xl","aria-hidden":"true"})})]})]})})}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[Object.entries(oe).map(([ae,Y])=>t.jsxs("div",{children:[t.jsx("div",{className:"flex items-center justify-center my-6",children:t.jsx("div",{className:"px-4 py-1.5 bg-gray-200 rounded-full",children:t.jsx("span",{className:"text-xs font-medium text-gray-600",children:ae})})}),Y.map((ie,de)=>{const ue=ie.senderId===L,A=!ue&&(de===0||Y[de-1].senderId!==ie.senderId);return t.jsxs("div",{className:`flex items-end gap-2 mb-4 ${ue?"flex-row-reverse":"flex-row"}`,children:[t.jsx("div",{className:"w-8 h-8 flex items-center justify-center flex-shrink-0",children:A&&!ue&&t.jsx("div",{className:"w-8 h-8 flex items-center justify-center bg-gradient-to-br from-teal-500 to-teal-600 rounded-full text-white font-medium text-sm",children:v.participantAvatar})}),t.jsxs("div",{className:`flex flex-col ${ue?"items-end":"items-start"} max-w-[70%]`,children:[t.jsx("div",{className:`px-4 py-2.5 rounded-2xl ${ue?"bg-teal-600 text-white rounded-br-sm":"bg-white border border-gray-200 text-gray-900 rounded-bl-sm"}`,children:t.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap break-words",children:ie.content})}),t.jsxs("div",{className:"flex items-center gap-1 mt-1 px-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:Q(ie.timestamp)}),ue&&t.jsx("i",{className:`text-xs ${ie.isRead?"ri-check-double-line text-teal-600":"ri-check-line text-gray-400"}`,"aria-hidden":"true"})]})]})]},ie.id)})]},ae)),h&&t.jsxs("div",{className:"flex items-end gap-2 mb-4",children:[t.jsx("div",{className:"w-8 h-8 flex items-center justify-center bg-gradient-to-br from-teal-500 to-teal-600 rounded-full text-white font-medium text-sm",children:v.participantAvatar}),t.jsx("div",{className:"px-4 py-3 bg-white border border-gray-200 rounded-2xl rounded-bl-sm",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"w-2 h-2 flex items-center justify-center bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),t.jsx("span",{className:"w-2 h-2 flex items-center justify-center bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),t.jsx("span",{className:"w-2 h-2 flex items-center justify-center bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}),t.jsx("div",{ref:r})]})}),t.jsx("div",{className:"bg-white border-t border-gray-200 sticky bottom-0",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[g&&t.jsx("div",{className:"mb-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:t.jsx("div",{className:"flex flex-wrap gap-2",children:E.map((ae,Y)=>t.jsx("button",{onClick:()=>le(ae),className:"text-2xl hover:scale-125 transition-transform duration-200 cursor-pointer","aria-label":`Ajouter emoji ${ae}`,children:ae},Y))})}),t.jsxs("div",{className:"flex items-end gap-3",children:[t.jsx("button",{onClick:()=>b(!g),className:`p-3 rounded-lg transition-colors duration-200 cursor-pointer ${g?"bg-teal-100 text-teal-600":"text-gray-500 hover:bg-gray-100"}`,"aria-label":"Emojis",children:t.jsx("i",{className:"ri-emotion-line text-xl","aria-hidden":"true"})}),t.jsx("div",{className:"flex-1 relative",children:t.jsx("textarea",{value:c,onChange:ae=>d(ae.target.value),onKeyPress:X,placeholder:"Ã‰crivez votre message...",rows:1,className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg text-sm resize-none focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",style:{minHeight:"48px",maxHeight:"120px"}})}),t.jsx("button",{onClick:D,disabled:!c.trim(),className:`p-3 rounded-lg transition-colors duration-200 cursor-pointer whitespace-nowrap ${c.trim()?"bg-teal-600 text-white hover:bg-teal-700":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,"aria-label":"Envoyer le message",children:t.jsx("i",{className:"ri-send-plane-fill text-xl","aria-hidden":"true"})})]})]})})]})}function LN(){const[l,i]=y.useState([]),[r,c]=y.useState("all"),[d,m]=y.useState(!1),[f,h]=y.useState(!1),[p,g]=y.useState(null),[b,v]=y.useState({firstName:"",lastName:"",email:"",role:"FORMATEUR"}),[T,L]=y.useState(!1),[E,R]=y.useState(!1),[D,X]=y.useState(""),[Q,P]=y.useState(""),[le,oe]=y.useState(""),[ae,Y]=y.useState(null);y.useEffect(()=>{ie()},[]);const ie=async()=>{try{const w=await Sa.getAll();i(w)}catch(w){console.error("Failed to load users",w),i([])}},de=y.useMemo(()=>{const w=l.filter(O=>O.role==="FORMATEUR"||O.role==="RESPONSABLE");return r==="all"?w:w.filter(O=>O.role===r)},[l,r]),ue=()=>{v({firstName:"",lastName:"",email:"",role:"FORMATEUR"}),X(""),P(""),oe(""),Y(null),m(!0)},A=w=>{g(w),v({firstName:w.firstName||"",lastName:w.lastName||"",email:w.email||"",role:w.role||"FORMATEUR"}),L(!1),X(""),P(""),oe(""),Y(null),h(!0)},k=()=>{m(!1),h(!1),g(null),L(!1),oe(""),Y(null)},ee=async w=>{w.preventDefault(),X(""),P(""),R(!0);try{const O=await Sa.createUser(b);Y(!!O?.emailSent),!O?.emailSent&&O?.temporaryPassword&&oe(O.temporaryPassword);const re=O?.emailSent?"Email envoye.":`Email non envoye (${O?.emailError||"verifiez SMTP"}).`;P(`Compte cree. ${re}`),await ie()}catch(O){X(O?.response?.data||"Impossible de creer l'utilisateur.")}finally{R(!1)}},ce=async w=>{if(w.preventDefault(),!!p){X(""),P(""),R(!0);try{const O={...b,generatePassword:T,sendEmail:T},re=await Sa.updateUser(p.id,O);Y(!!re?.emailSent),T&&re?.temporaryPassword&&oe(re.temporaryPassword);const B=re?.emailSent?"Email envoye.":T?`Email non envoye (${re?.emailError||"verifiez SMTP"}).`:"";P(`Compte mis a jour. ${B}`.trim()),await ie()}catch(O){X(O?.response?.data||"Impossible de mettre a jour l'utilisateur.")}finally{R(!1)}}},V=async w=>{if(window.confirm(`Supprimer le compte de ${w.firstName||""} ${w.lastName||""} ?`))try{await Sa.deleteUser(w.id),await ie()}catch(re){console.error("Failed to delete user",re)}},S=w=>w==="RESPONSABLE"?"Responsable formation":"Formateur";return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Nt,{}),t.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Gestion des utilisateurs"}),t.jsx("p",{className:"text-base text-gray-600",children:"Formateurs et responsables formation"})]}),t.jsxs(he,{variant:"primary",onClick:ue,children:[t.jsx("i",{className:"ri-user-add-line","aria-hidden":"true"}),"Ajouter un compte"]})]}),t.jsx(xe,{className:"mb-6",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx("button",{onClick:()=>c("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-teal-500 cursor-pointer whitespace-nowrap ${r==="all"?"bg-teal-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Tous"}),t.jsx("button",{onClick:()=>c("FORMATEUR"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-teal-500 cursor-pointer whitespace-nowrap ${r==="FORMATEUR"?"bg-teal-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Formateurs"}),t.jsx("button",{onClick:()=>c("RESPONSABLE"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-teal-500 cursor-pointer whitespace-nowrap ${r==="RESPONSABLE"?"bg-teal-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Responsables"})]})}),t.jsx(xe,{padding:"none",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",role:"table","aria-label":"Liste des utilisateurs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[t.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Utilisateur"}),t.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Email"}),t.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Role"}),t.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-900",children:"Actions"})]})}),t.jsxs("tbody",{className:"divide-y divide-gray-200",children:[de.map(w=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"w-10 h-10 flex items-center justify-center bg-teal-100 text-teal-700 rounded-full font-semibold",children:[w.firstName?.[0]||"?",w.lastName?.[0]||""]}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-gray-900",children:[w.firstName," ",w.lastName]}),t.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",w.id]})]})]})}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:w.email}),t.jsx("td",{className:"px-6 py-4",children:t.jsx(Ce,{variant:w.role==="RESPONSABLE"?"warning":"info",children:S(w.role)})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsxs(he,{size:"sm",variant:"outline",onClick:()=>A(w),children:[t.jsx("i",{className:"ri-edit-line","aria-hidden":"true"}),"Modifier"]}),t.jsxs(he,{size:"sm",variant:"danger",onClick:()=>V(w),children:[t.jsx("i",{className:"ri-delete-bin-line","aria-hidden":"true"}),"Supprimer"]})]})})]},w.id)),de.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:4,className:"px-6 py-10 text-center text-sm text-gray-500",children:"Aucun utilisateur."})})]})]})})})]}),(d||f)&&t.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",role:"dialog","aria-modal":"true",children:[t.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:k,"aria-hidden":"true"}),t.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:t.jsxs("div",{className:"relative w-full max-w-lg bg-white rounded-xl shadow-xl",children:[t.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:f?"Modifier le compte":"Ajouter un compte"}),t.jsx("button",{onClick:k,className:"w-10 h-10 flex items-center justify-center rounded-lg text-gray-500 hover:text-gray-700 hover:bg-gray-100",children:t.jsx("i",{className:"ri-close-line text-2xl","aria-hidden":"true"})})]}),t.jsxs("form",{onSubmit:f?ce:ee,noValidate:!0,children:[t.jsxs("div",{className:"px-6 py-5 space-y-4",children:[D&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700",children:D}),Q&&t.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg text-sm text-green-700",children:Q}),le&&ae===!1&&t.jsxs("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg text-sm text-amber-800",children:[t.jsx("div",{className:"font-medium mb-1",children:"Mot de passe temporaire"}),t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsx("span",{className:"font-mono text-sm break-all",children:le}),t.jsx(he,{type:"button",size:"sm",variant:"outline",onClick:()=>navigator.clipboard.writeText(le),children:"Copier"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Prenom"}),t.jsx("input",{type:"text",value:b.firstName,onChange:w=>v({...b,firstName:w.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Nom"}),t.jsx("input",{type:"text",value:b.lastName,onChange:w=>v({...b,lastName:w.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",required:!0})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Email"}),t.jsx("input",{type:"email",value:b.email,onChange:w=>v({...b,email:w.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Role"}),t.jsxs("select",{value:b.role,onChange:w=>v({...b,role:w.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 bg-white",children:[t.jsx("option",{value:"FORMATEUR",children:"Formateur"}),t.jsx("option",{value:"RESPONSABLE",children:"Responsable formation"})]})]}),f&&t.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:T,onChange:w=>L(w.target.checked),className:"w-4 h-4 text-teal-600 border-gray-300 rounded focus:ring-teal-500"}),"Regenerer le mot de passe et envoyer par email"]}),!f&&t.jsx("div",{className:"text-xs text-gray-500",children:"Un mot de passe sera genere automatiquement et envoye par email."})]}),t.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[t.jsx(he,{type:"button",variant:"outline",onClick:k,children:"Annuler"}),t.jsx(he,{type:"submit",variant:"primary",disabled:E,children:E?"Sauvegarde...":f?"Mettre a jour":"Creer"})]})]})]})})]})]})}const zN={getSummary:async()=>(await Re.get("/reports/summary")).data};function kN(){const[l,i]=y.useState(null),[r,c]=y.useState(!0);y.useEffect(()=>{(async()=>{c(!0);try{const f=await zN.getSummary();i(f)}catch(f){console.error("Failed to load report summary",f),i(null)}finally{c(!1)}})()},[]);const d=()=>{window.print()};return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Nt,{}),t.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Rapports & Indicateurs"}),t.jsx("p",{className:"text-base text-gray-600",children:"Vue globale de l'avancement et des alertes"})]}),t.jsxs(he,{variant:"outline",onClick:d,children:[t.jsx("i",{className:"ri-printer-line","aria-hidden":"true"}),"Imprimer"]})]}),r&&t.jsx(xe,{children:t.jsxs("div",{className:"text-center py-12",children:[t.jsx("i",{className:"ri-loader-4-line text-4xl text-gray-400 animate-spin mb-4","aria-hidden":"true"}),t.jsx("p",{className:"text-gray-600",children:"Chargement des indicateurs..."})]})}),!r&&l&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[t.jsx(xe,{className:"bg-gradient-to-br from-teal-50 to-white border-teal-200",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-teal-600 rounded-lg",children:t.jsx("i",{className:"ri-user-line text-xl text-white","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Eleves"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.totalStudents??0})]})]})}),t.jsx(xe,{className:"bg-gradient-to-br from-amber-50 to-white border-amber-200",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-amber-600 rounded-lg",children:t.jsx("i",{className:"ri-book-line text-xl text-white","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Formations"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.totalTrainings??0})]})]})}),t.jsx(xe,{className:"bg-gradient-to-br from-sky-50 to-white border-sky-200",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-sky-600 rounded-lg",children:t.jsx("i",{className:"ri-calendar-line text-xl text-white","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Seances"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.totalSessions??0})]})]})}),t.jsx(xe,{className:"bg-gradient-to-br from-green-50 to-white border-green-200",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-green-600 rounded-lg",children:t.jsx("i",{className:"ri-checkbox-circle-line text-xl text-white","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Presences"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.totalAttendanceRecords??0})]})]})}),t.jsx(xe,{className:"bg-gradient-to-br from-purple-50 to-white border-purple-200",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-purple-600 rounded-lg",children:t.jsx("i",{className:"ri-award-line text-xl text-white","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Certificats"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.certificatesIssued??0})]})]})}),t.jsx(xe,{className:"bg-gradient-to-br from-rose-50 to-white border-rose-200",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-rose-600 rounded-lg",children:t.jsx("i",{className:"ri-medal-line text-xl text-white","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Formations terminees"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.trainingsCompleted??0})]})]})})]}),t.jsxs(xe,{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[t.jsx("i",{className:"ri-alert-line text-amber-600","aria-hidden":"true"}),"Eleves a risque"]}),t.jsx(Ce,{variant:"warning",children:l.atRiskStudents?.length??0})]}),l.atRiskStudents&&l.atRiskStudents.length>0?t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"text-left text-sm text-gray-600 border-b border-gray-200",children:[t.jsx("th",{className:"py-3 pr-4",children:"Eleve"}),t.jsx("th",{className:"py-3 pr-4",children:"Formation"}),t.jsx("th",{className:"py-3 pr-4",children:"Assiduite"}),t.jsx("th",{className:"py-3 pr-4",children:"Absences"}),t.jsx("th",{className:"py-3",children:"Seances manquantes"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:l.atRiskStudents.map(m=>t.jsxs("tr",{className:"text-sm text-gray-700",children:[t.jsx("td",{className:"py-3 pr-4 font-medium text-gray-900",children:m.name}),t.jsx("td",{className:"py-3 pr-4",children:m.trainingName||"-"}),t.jsx("td",{className:"py-3 pr-4",children:t.jsxs(Ce,{variant:m.attendanceRate>=80?"success":m.attendanceRate>=60?"warning":"danger",children:[m.attendanceRate??0,"%"]})}),t.jsx("td",{className:"py-3 pr-4",children:m.absentCount??0}),t.jsx("td",{className:"py-3",children:m.missingSessions??0})]},m.studentId))})]})}):t.jsx("div",{className:"text-center py-10 text-sm text-gray-600",children:"Aucun eleve en alerte pour le moment."})]})]}),!r&&!l&&t.jsx(xe,{children:t.jsxs("div",{className:"text-center py-12",children:[t.jsx("i",{className:"ri-error-warning-line text-4xl text-gray-400 mb-3","aria-hidden":"true"}),t.jsx("p",{className:"text-gray-600",children:"Impossible de charger les rapports."})]})})]})]})}const UN={getAll:async()=>(await Re.get("/audit-logs")).data};function _N(){const[l,i]=y.useState([]),[r,c]=y.useState(!0);y.useEffect(()=>{(async()=>{c(!0);try{const f=await UN.getAll();i(f||[])}catch(f){console.error("Failed to load audit logs",f),i([])}finally{c(!1)}})()},[]);const d=m=>m?new Date(m).toLocaleString():"-";return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Nt,{}),t.jsxs("main",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Audit & TraÃ§abilite"}),t.jsx("p",{className:"text-base text-gray-600",children:"Dernieres actions sensibles dans le systeme"})]}),t.jsx(xe,{children:r?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("i",{className:"ri-loader-4-line text-4xl text-gray-400 animate-spin mb-3","aria-hidden":"true"}),t.jsx("p",{className:"text-gray-600",children:"Chargement des logs..."})]}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-200 text-left text-sm text-gray-600",children:[t.jsx("th",{className:"py-3 pr-4",children:"Date"}),t.jsx("th",{className:"py-3 pr-4",children:"Action"}),t.jsx("th",{className:"py-3 pr-4",children:"Entite"}),t.jsx("th",{className:"py-3 pr-4",children:"Acteur"}),t.jsx("th",{className:"py-3",children:"Details"})]})}),t.jsxs("tbody",{className:"divide-y divide-gray-100",children:[l.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"py-8 text-center text-sm text-gray-500",children:"Aucun log disponible."})}),l.map(m=>t.jsxs("tr",{className:"text-sm text-gray-700",children:[t.jsx("td",{className:"py-3 pr-4 whitespace-nowrap",children:d(m.createdAt)}),t.jsx("td",{className:"py-3 pr-4",children:t.jsx(Ce,{variant:"info",children:m.action})}),t.jsxs("td",{className:"py-3 pr-4",children:[m.entityType," #",m.entityId]}),t.jsx("td",{className:"py-3 pr-4",children:m.actorEmail||"-"}),t.jsx("td",{className:"py-3",children:m.details||"-"})]},m.id))]})]})})})]})]})}function qs({children:l}){return na.isAuthenticated()?l:t.jsx(Cd,{to:"/login",replace:!0})}function ln({role:l,roles:i,children:r}){if(!na.isAuthenticated())return t.jsx(Cd,{to:"/login",replace:!0});const c=na.getUserRole(),d=i&&i.length>0?i:l?[l]:[];return d.length>0&&!d.includes(c||"")?t.jsx(Cd,{to:"/dashboard",replace:!0}):r}const BN=[{path:"/",element:t.jsx(Cv,{})},{path:"/dashboard",element:t.jsx(qs,{children:t.jsx(nN,{})})},{path:"/login",element:t.jsx(lN,{})},{path:"/students",element:t.jsx(qs,{children:t.jsx(iN,{})})},{path:"/students/:id",element:t.jsx(qs,{children:t.jsx(cN,{})})},{path:"/trainings",element:t.jsx(ln,{roles:["ADMIN","RESPONSABLE"],children:t.jsx(mN,{})})},{path:"/trainings/new",element:t.jsx(ln,{roles:["ADMIN","RESPONSABLE"],children:t.jsx(xN,{})})},{path:"/trainings/:id",element:t.jsx(ln,{roles:["ADMIN","RESPONSABLE","FORMATEUR"],children:t.jsx(bN,{})})},{path:"/attendance",element:t.jsx(qs,{children:t.jsx(yN,{})})},{path:"/certification",element:t.jsx(ln,{roles:["ADMIN","RESPONSABLE"],children:t.jsx(vN,{})})},{path:"/users",element:t.jsx(ln,{role:"ADMIN",children:t.jsx(LN,{})})},{path:"/reports",element:t.jsx(ln,{roles:["ADMIN","RESPONSABLE"],children:t.jsx(kN,{})})},{path:"/audit-logs",element:t.jsx(ln,{role:"ADMIN",children:t.jsx(_N,{})})},{path:"/accessibility",element:t.jsx(qs,{children:t.jsx(jN,{})})},{path:"/profile",element:t.jsx(qs,{children:t.jsx(RN,{})})},{path:"/messages",element:t.jsx(qs,{children:t.jsx(ON,{})})},{path:"/messages/:id",element:t.jsx(qs,{children:t.jsx(MN,{})})},{path:"*",element:t.jsx(jv,{})}];let Dg;new Promise(l=>{Dg=l});function qN(){const l=Ty(BN),i=Aa();return y.useEffect(()=>{window.REACT_APP_NAVIGATE=i,Dg(window.REACT_APP_NAVIGATE)}),l}function HN(){return t.jsx(pb,{i18n:_t,children:t.jsx(uv,{children:t.jsx(qN,{})})})}class $N extends y.Component{constructor(i){super(i),this.state={hasError:!1,error:null}}static getDerivedStateFromError(i){return{hasError:!0,error:i}}render(){return this.state.hasError?t.jsxs("div",{style:{padding:20,color:"red"},children:[t.jsx("h1",{children:"Component Error"}),t.jsx("pre",{children:this.state.error?.toString()})]}):this.props.children}}Yb.createRoot(document.getElementById("root")).render(t.jsx(y.StrictMode,{children:t.jsx($N,{children:t.jsx(HN,{})})}));
//# sourceMappingURL=index-DfPJ5JiH.js.map
